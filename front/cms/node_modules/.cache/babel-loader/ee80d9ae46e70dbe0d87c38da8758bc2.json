{"remainingRequest":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/components/visiableRangeView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/components/visiableRangeView.vue","mtime":1640444438905},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0RGVhbGVyUmFuZ2VMaXN0IH0gZnJvbSAiQC9hcGkvZ2V0RGF0YS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidmlzaWFibGVSYW5nZVZpZXciLAogIHByb3BzOiB7CiAgICBhcnRpY2xlSWQ6IHsKICAgICAgdHlwZTogLTEsCiAgICAgIGRlZmF1bHQ6IC0xCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVnaW9uczogW10sCiAgICAgIGRlYWxlcnM6IFtdLAogICAgICBkZWFsZXJUeXBlOiBbXSwKICAgICAgcm9sZXM6IFtdLAogICAgICBvZW1zOiBbXQogICAgfTsKICB9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERlYWxlclJhbmdlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WFs+mXrQogICAgYnRfY2xvc2U6IGZ1bmN0aW9uIGJ0X2Nsb3NlKCkgewogICAgICBjb25zb2xlLmxvZygiLi4uLi4u5YWz6Zet5oyJ6ZKuLi4uLi4uLiIpOwogICAgICB0aGlzLiRlbWl0KCJjbG9zZWRDaGlsZCIsIGZhbHNlKTsKICAgIH0sCiAgICBnZXREZWFsZXJSYW5nZTogZnVuY3Rpb24gZ2V0RGVhbGVyUmFuZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBnZXREZWFsZXJSYW5nZUxpc3QodGhpcy5hcnRpY2xlSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2coIm9uIHJlc3BvbnNlIGFydGljbGVJZCA9ICIgKyBfdGhpcy5hcnRpY2xlSWQgKyAiICIgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPSBudWxsICYmIHR5cGVvZiByZXNwb25zZS5kYXRhICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgLy/lhYjmj5Dlj5ZvZW3lkoxkZWFsZXJzCiAgICAgICAgICBfdGhpcy5mZXRjaERlYWxlcnNBbmRPRU0ocmVzcG9uc2UuZGF0YS5kZWFsZXJMaXN0KTsgLy/ojrflj5bop5LoibIs5oqKZGVhbGVy55qE5pWw5o2u5Lyg6L+H5Y67CgoKICAgICAgICAgIF90aGlzLnJvbGVzID0gcmVzcG9uc2UuZGF0YS5yb2xlczsKICAgICAgICAgIGNvbnNvbGUubG9nKCJhcmVhcyA9PT4gIiArIEpTT04uc3RyaW5naWZ5KF90aGlzLnJlZ2lvbnMpKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJkZWFsZXJUeXBlID09PiAiICsgSlNPTi5zdHJpbmdpZnkoX3RoaXMuZGVhbGVyVHlwZSkpOwogICAgICAgICAgY29uc29sZS5sb2coIm9lbXMgPT0+ICIgKyBKU09OLnN0cmluZ2lmeShfdGhpcy5vZW1zKSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGUpKTsKICAgICAgfSk7CiAgICB9LAogICAgZmV0Y2hEZWFsZXJzQW5kT0VNOiBmdW5jdGlvbiBmZXRjaERlYWxlcnNBbmRPRU0oZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgIGlmICh2LmNvbXBhbnlUeXBlID09IDEpIHsKICAgICAgICAgIF90aGlzMi5kZWFsZXJzLnB1c2godik7IC8v5Zyo6I635Y+WZGVhbGVyVHlwZQoKCiAgICAgICAgICB2YXIgdHlwZSA9IF90aGlzMi5jb252ZXJ0RGVhbGVyVHlwZSh2LmRlYWxlclR5cGUpOwoKICAgICAgICAgIGlmICghX3RoaXMyLmRlYWxlclR5cGUuaW5jbHVkZXModHlwZSkpIHsKICAgICAgICAgICAgX3RoaXMyLmRlYWxlclR5cGUucHVzaCh0eXBlKTsKICAgICAgICAgIH0gLy/ojrflj5bljLrln58KCgogICAgICAgICAgaWYgKCFfdGhpczIucmVnaW9ucy5pbmNsdWRlcyh2LmFyZWEpKSB7CiAgICAgICAgICAgIF90aGlzMi5yZWdpb25zLnB1c2godi5hcmVhKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHYuY29tcGFueVR5cGUgPT0gMCkgewogICAgICAgICAgX3RoaXMyLm9lbXMucHVzaCh2KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNvbnZlcnREZWFsZXJUeXBlOiBmdW5jdGlvbiBjb252ZXJ0RGVhbGVyVHlwZSh0eXBlKSB7CiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJldHVybiAi54us56uL5ZSu5ZCOIjsKCiAgICAgICAgY2FzZSAxOgogICAgICAgICAgcmV0dXJuICI0U+W6lyI7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHJldHVybiAi5LqM57qn572R54K5IjsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["visiableRangeView.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-card>\n    <v-toolbar dense color=\"#1867C0\">\n      <v-btn icon>\n        <v-icon color=\"white\" @click=\"bt_close\"> mdi-close </v-icon>\n      </v-btn>\n      <v-toolbar-title class=\"body-1 white--text\">可见范围</v-toolbar-title>\n    </v-toolbar>\n    <span class=\"body-2 grey--text text--darken-2 mt-12 ml-15 mr-15\"\n      >发布对象</span\n    >\n  \n    <v-sheet class=\"mt-4 ml-15 mr-15 pa-0\" rounded outlined v-if=\"regions.length > 0\">\n      <div\n        class=\"d-flex flex-row pl-4\"\n        style=\"background-color: #f5f6f7; height: 40px; width: 100%\"\n      >\n        <v-subheader>发送给经销商</v-subheader>\n      </div>\n      <div class=\"d-flex flex-row pa-0\">\n        <div style=\"height: 216px; width: 25%\">\n          <div style=\"border-bottom: 1px solid #e4e8eb\" class=\"pl-4\">\n            <v-virtual-scroll\n              :items=\"regions\"\n              height=\"108\"\n              item-height=\"30\"\n              bench=\"1\"\n              class=\"pa-0 ma-0\"\n            >\n              <template v-slot:default=\"{ item, index }\">\n                <v-list-item :key=\"index\">\n                    <v-subheader dense>{{item}}</v-subheader>\n                </v-list-item>\n              </template>\n            </v-virtual-scroll>\n          </div>\n          <div class=\"pl-4\">\n            <v-virtual-scroll\n              :items=\"dealerType\"\n              height=\"108\"\n              item-height=\"30\"\n              bench=\"1\"\n              class=\"pa-0 ma-0\"\n            >\n              <template v-slot:default=\"{ item, index }\">\n                <v-list-item :key=\"index\">\n                    <v-subheader dense>{{item}}</v-subheader>\n                </v-list-item>\n              </template>\n            </v-virtual-scroll>\n          </div>\n        </div>\n        <div\n          class=\"pa-0 ma-0\"\n          style=\"\n            height: 216px;\n            width: 50%;\n            border-left: 1px solid #e4e8eb;\n            border-right: 1px solid #e4e8eb;\n          \"\n        >\n          <v-virtual-scroll\n            :items=\"dealers\"\n            height=\"198\"\n            item-height=\"30\"\n            bench=\"1\"\n          >\n            <template v-slot:default=\"{ item, index }\">\n              <v-list-item :key=\"index\">\n                  <v-subheader dense>{{item.companyCode +\" \"+item.companyName}}</v-subheader>\n              </v-list-item>\n            </template>\n          </v-virtual-scroll>\n        </div>\n        <div class=\"pa-0 ma-0\" style=\"height: 216px; width: 25%\">\n          <v-virtual-scroll\n            :items=\"roles\"\n            height=\"198\"\n            item-height=\"30\"\n            bench=\"1\"\n          >\n            <template v-slot:default=\"{ item, l}\">\n              <v-list-item :key=\"l\">\n                  <v-subheader dense>{{item}}</v-subheader>\n              </v-list-item>\n            </template>\n          </v-virtual-scroll>\n        </div>\n      </div>\n    </v-sheet>\n    <v-sheet class=\"mt-4 ml-15 mr-15 pa-0\" rounded outlined v-if=\"oems.length > 0\">\n      <div\n        class=\"d-flex flex-row pl-4\"\n        style=\"background-color: #f5f6f7; height: 40px; width: 100%\"\n      >\n        <v-subheader dense>发送给大众内部</v-subheader>\n      </div>\n      <div class=\"d-flex flex-row pa-0\">\n        <div style=\"height: 180px; width: 25%\">\n          <v-virtual-scroll\n            :items=\"oems\"\n            height=\"170\"\n            item-height=\"30\"\n            bench=\"1\"\n            class=\"pa-0 ma-0\"\n          >\n            <template v-slot:default=\"{ item, n }\">\n              <v-list-item :key=\"n\">\n                <v-subheader dense>{{item.companyName}}</v-subheader>\n              </v-list-item>\n            </template>\n          </v-virtual-scroll>\n        </div>\n      </div>\n    </v-sheet>\n  </v-card>\n</template>\n\n<script>\nimport { getDealerRangeList } from \"@/api/getData.js\";\n\nexport default {\n  name: \"visiableRangeView\",\n\n  props: {\n    articleId: {\n      type: -1,\n      default: -1,\n    }\n  },\n\n  data() {\n    return {\n      regions: [],\n      dealers: [],\n      dealerType:[],\n      roles: [],\n      oems: [],\n    };\n  },\n  activated() {\n    \n  },\n  mounted() {},\n\n  created() {\n    this.getDealerRange();\n  },\n\n  methods: {\n    //关闭\n    bt_close() {\n      console.log(\"......关闭按钮.......\");\n      this.$emit(\"closedChild\", false);\n    },\n\n    getDealerRange() {\n      getDealerRangeList(this.articleId)\n        .then((response) => {\n            console.log(\"on response articleId = \"+this.articleId+ \" \" + JSON.stringify(response));\n            if(response.data != null && typeof response.data !== \"undefined\") {\n                //先提取oem和dealers\n                this.fetchDealersAndOEM(response.data.dealerList)\n                //获取角色,把dealer的数据传过去\n                this.roles = response.data.roles;\n                console.log(\"areas ==> \"+JSON.stringify(this.regions))\n                console.log(\"dealerType ==> \"+JSON.stringify(this.dealerType))\n                console.log(\"oems ==> \"+JSON.stringify(this.oems))\n            }\n        })\n        .catch((e) => {\n          console.log(JSON.stringify(e));\n        });\n    },\n    fetchDealersAndOEM(data) {\n        data.forEach(v => {\n            if(v.companyType == 1){\n                this.dealers.push(v)\n                //在获取dealerType\n                let type = this.convertDealerType(v.dealerType)\n                if(!this.dealerType.includes(type)){\n                    this.dealerType.push(type)\n                } \n                //获取区域\n                if(!this.regions.includes(v.area)){\n                    this.regions.push(v.area)\n                }  \n            } else if(v.companyType == 0) {\n                this.oems.push(v)\n            }\n        })\n    },\n    convertDealerType(type) {\n        switch (type) {\n            case 0:\n                return \"独立售后\";\n            case 1:\n                return \"4S店\";\n            case 2:\n                return \"二级网点\";\n        \n            default:\n                return \"\";\n        }\n    },\n  },\n};\n</script>"],"sourceRoot":"src/components"}]}