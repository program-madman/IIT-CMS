{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/messageCenter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/messageCenter.vue","mtime":1638535925252},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2xpdWd1YW5naHVpL0RvY3VtZW50cy9jbXNfY29kZS9teS1tZXNzYWdlL2Ntcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFVzZXJNZXNzYWdlTGlzdCwgbWFya0FsbE1lc3NhZ2VSZWFkLCBtYXJrTWVzc2FnZVJlYWRPbmUgfSBmcm9tICJAL2FwaS9nZXREYXRhLmpzIjsKaW1wb3J0IHsgc2hvd01zZ1RleHQgfSBmcm9tICJAL3V0aWxzL2NvbW1vbi5qcyI7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiQC91dGlscy9ldmVudC1idXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8v5Yid5aeL5YyWLi4uLi4g6ZyA6KaB5ZCX77yfCiAgICB0aGlzLm1lc3NhZ2VNYXAgPSBuZXcgTWFwKCk7CiAgICB0aGlzLm1lc3NhZ2VEYXRlcyA9IFtdOwogICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICB0aGlzLmxvYWRVc2VyTWVzc2FnZSh0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnBhZ2VOdW1iZXIpOwogIH0sCiAgY29tcG9uZW50czogewogICAgcGFnZUxvYWRlcjogZnVuY3Rpb24gcGFnZUxvYWRlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi9hcnRpY2xlTGlzdC9wYWdlTG9hZGVyLnZ1ZSIpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lc3NhZ2VNYXA6IG5ldyBNYXAoKSwKICAgICAgbWVzc2FnZURhdGVzOiBbXSwKICAgICAgcGFnZU51bWJlcjogMTAsCiAgICAgIGN1cnJlbnRQYWdlOiAxCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy9nbyB0byBhcnRpY2xlIGRldGFpbCBwYWdlCiAgICB0b0RldGFpbDogZnVuY3Rpb24gdG9EZXRhaWwobWVzc2FnZSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImFydGNsZURldGFpbCIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogbWVzc2FnZS5tZXNzYWdlSWQKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKG1lc3NhZ2UuaXNSZWFkID09PSBmYWxzZSkgewogICAgICAgIHRoaXMubWFya09uY2VSZWFkKG1lc3NhZ2UpOwogICAgICB9CiAgICB9LAogICAgb25Mb2FkTW9yZTogZnVuY3Rpb24gb25Mb2FkTW9yZSgpIHsKICAgICAgaWYgKHRoaXMubG9hZGluZyA9PSB0cnVlKSByZXR1cm47CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMubG9hZFVzZXJNZXNzYWdlKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucGFnZU51bWJlcik7CiAgICB9LAogICAgbWFya0FsbFJlYWQ6IGZ1bmN0aW9uIG1hcmtBbGxSZWFkKCkgewogICAgICBtYXJrQWxsTWVzc2FnZVJlYWQoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZSAhPSBudWxsICYmIHJlc3BvbnNlLmNvZGUgPT09IDAgJiYgcmVzcG9uc2UubWVzc2FnZSA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgibWFrZUFsbE1zZ1JlYWQiLCAiYWxsIG1lc3NhZ2UgcmVhZGVkIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgpOwogICAgfSwKICAgIG1hcmtPbmNlUmVhZDogZnVuY3Rpb24gbWFya09uY2VSZWFkKG1lc3NhZ2UpIHsKICAgICAgbWFya01lc3NhZ2VSZWFkT25lKG1lc3NhZ2UuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlICE9IG51bGwgJiYgcmVzcG9uc2UuY29kZSA9PT0gMCAmJiByZXNwb25zZS5tZXNzYWdlID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJtYXJrU2luZ2xlUmVhZCIsICJvbmUgbWVzc2FnZSByZWFkZWQiKTsKICAgICAgICAgIG1lc3NhZ2UuaXNSZWFkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCk7CiAgICB9LAogICAgLy9zZXQgYWxsIHVucmVhZCBhcnRpY2xlcyBhcyByZWFkLgogICAgYWxsUmVhZDogZnVuY3Rpb24gYWxsUmVhZCgpIHsKICAgICAgY29uc29sZS5sb2coInNldCBhbGwgbWVzc2FnZSBhcyByZWFkIik7CiAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uaW5mby5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICBpLnJlYWRTdGF0dXMgPSAxOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkVXNlck1lc3NhZ2U6IGZ1bmN0aW9uIGxvYWRVc2VyTWVzc2FnZShwYWdlTnVtLCBwYWdlU2l6ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZ2V0VXNlck1lc3NhZ2VMaXN0KHBhZ2VOdW0sIHBhZ2VTaXplKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmZpbGxEYXRhcyhyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKCk7CiAgICB9LAogICAgZmlsbERhdGFzOiBmdW5jdGlvbiBmaWxsRGF0YXMocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5kZWJ1ZygicmVzcG9uZSIgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpOwoKICAgICAgaWYgKHJlc3BvbnNlID09IG51bGwgfHwgcmVzcG9uc2UuZGF0YSA9PSBudWxsIHx8IHJlc3BvbnNlLmRhdGEubGVuZ3RoID09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB0aGlzLmN1cnJlbnRQYWdlKys7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbWVzc2FnZSA9IHJlc3BvbnNlLmRhdGFbaV07CiAgICAgICAgdmFyIGRhdGUgPSBtZXNzYWdlLm9wZXJhdGlvblRpbWUuc3BsaXQoIiAiKTsKICAgICAgICB2YXIga2V5ID0gIiI7CiAgICAgICAgY29uc29sZS5sb2coIiMjIyMjIyMjIGRhdGUgPT09PT09PT09PiAjIyMjIyMjICIgKyBKU09OLnN0cmluZ2lmeShkYXRlKSk7CgogICAgICAgIGlmIChkYXRlICE9IG51bGwgJiYgX3R5cGVvZihrZXkpICE9IHVuZGVmaW5lZCAmJiBkYXRlLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICBrZXkgPSBkYXRlWzBdOwogICAgICAgICAgbWVzc2FnZS50aW1lID0gZGF0ZVsxXTsKICAgICAgICAgIG1lc3NhZ2UucHJlZml4VGltZSA9IGtleTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAga2V5ID0gbWVzc2FnZS5vcGVyYXRpb25UaW1lOwogICAgICAgIH0KCiAgICAgICAgaWYgKGtleSAhPSBudWxsICYmIF90eXBlb2Yoa2V5KSAhPSB1bmRlZmluZWQgJiYga2V5ICE9ICIiKSB7CiAgICAgICAgICB2YXIgbGlzdCA9IHRoaXMubWVzc2FnZU1hcC5nZXQoa2V5KTsKCiAgICAgICAgICBpZiAobGlzdCA9PSBudWxsIHx8IF90eXBlb2YobGlzdCkgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGxpc3QgPSBbXTsKICAgICAgICAgIH0KCiAgICAgICAgICBtZXNzYWdlLnR5cGVUZXh0ID0gc2hvd01zZ1RleHQobWVzc2FnZS5vcGVyYXRpb24pOwogICAgICAgICAgY29uc29sZS5sb2coInR5cGVUZXh0ID09PT09PT09PT0+IiArIG1lc3NhZ2UudHlwZVRleHQpOwogICAgICAgICAgbGlzdC5wdXNoKG1lc3NhZ2UpOwogICAgICAgICAgdGhpcy5tZXNzYWdlTWFwLnNldChrZXksIGxpc3QpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5tZXNzYWdlRGF0ZXMgPSB0aGlzLm1lc3NhZ2VNYXAua2V5cygpOyAvL2FsZXJ0KCJvbiByZXNwb25zZSBsZW5ndGggPj4+PiAiK0FycmF5LmZyb20odGhpcy5tZXNzYWdlRGF0ZXMpLmxlbmd0aCkKICAgIH0KICB9LAogIC8vU2V0IHRoZSBsZW5ndGggb2YgYSBwYXJhZ3JhcGgKICBmaWx0ZXJzOiB7CiAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCh0ZXh0LCBfbGVuZ3RoKSB7CiAgICAgIHZhciBzdWZmaXggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICIuLi4iOwoKICAgICAgaWYgKCF0ZXh0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGV4dC5sZW5ndGggPD0gX2xlbmd0aCkgewogICAgICAgIHJldHVybiB0ZXh0OwogICAgICB9CgogICAgICByZXR1cm4gKHRleHQgKyAiIikucmVwbGFjZSgvXG4vZywgIjxici8+Iikuc3Vic3RyaW5nKDAsIF9sZW5ndGgpICsgc3VmZml4OwogICAgfQogIH0KfTs="},{"version":3,"sources":["messageCenter.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container fluid class=\"ml-0 mx-auto\">\n    <v-card class=\"mx-auto blue\">\n      <v-list two-line>\n        <v-card-actions>\n          <v-btn @click=\"markAllRead\">全部已读</v-btn>\n        </v-card-actions>\n        <template v-for=\"date in messageDates\">\n          <v-subheader\n            class=\"subtitle-2 my-n2\"\n            :key=\"date\"\n            v-text=\"date\"\n          ></v-subheader>\n          <template v-for=\"(msg, index1) in messageMap.get(date)\">\n            <v-list-item :key=\"msg.operator\">\n              <v-list-item-content @click=\"toDetail(msg)\">\n                <v-row>\n                  <span class=\"mt-n2\" v-if=\"msg.isRead === false\">\n                    <v-icon large color=\"red darken-3\">mdi-circle-small</v-icon>\n                  </span>\n                  <span class=\"ml-9\" v-else></span>\n                  <span class=\"ml-2\">\n                    {{ msg.releaseTime }}\n                  </span>\n                  <span class=\"ml-2\">{{ msg.time }}</span>\n                  <span class=\"ml-2\">\n                    {{ msg.operator }}\n                  </span>\n                  <span class=\"ml-2\">\n                    {{ msg.typeText }}\n                  </span>\n                  <a class=\"ml-3\">\n                    {{ msg.messageTitle }}\n                  </a>\n                </v-row>\n              </v-list-item-content>\n            </v-list-item>\n            <v-divider\n              class=\"my-sm-auto\"\n              v-show=\"index1 != messageMap.get(date).length - 1\"\n              :key=\"msg.messageTitle\"\n            ></v-divider>\n          </template>\n        </template>\n      </v-list>\n    </v-card>\n    <page-loader @onLoadMore=\"onLoadMore\" />\n  </v-container>\n</template>\n\n<script>\nimport {getUserMessageList,markAllMessageRead,markMessageReadOne,} from \"@/api/getData.js\";\nimport { showMsgText } from \"@/utils/common.js\";\nimport { EventBus } from \"@/utils/event-bus\";\nexport default {\n  mounted() {\n    //初始化..... 需要吗？\n    this.messageMap = new Map();\n    this.messageDates = [];\n    this.currentPage = 1;\n    this.loadUserMessage(this.currentPage, this.pageNumber);\n  },\n  components: {\n    pageLoader: () => import(\"./articleList/pageLoader.vue\"),\n  },\n  data: () => ({\n    messageMap: new Map(),\n    messageDates: [],\n    pageNumber: 10,\n    currentPage: 1,\n  }),\n  methods: {\n    //go to article detail page\n    toDetail(message) {\n      this.$router.push({name: \"artcleDetail\",params: {id:message.messageId}});\n      if (message.isRead === false) {\n        this.markOnceRead(message)\n      }  \n    },\n\n    onLoadMore() {\n      if (this.loading == true) return;\n      this.loading = true;\n      this.loadUserMessage(this.currentPage, this.pageNumber);\n    },\n\n    markAllRead() {\n      markAllMessageRead()\n        .then((response) => {\n          if(response != null && response.code ===0 && response.message === \"success\"){\n            EventBus.$emit(\"makeAllMsgRead\", \"all message readed\");\n          } \n        })\n        .catch();\n    },\n\n    markOnceRead(message) {\n      markMessageReadOne(message.id)\n        .then((response) => {\n          if(response != null && response.code ===0 && response.message === \"success\"){\n            EventBus.$emit(\"markSingleRead\", \"one message readed\");\n            message.isRead = true;\n          }  \n        })\n        .catch();\n    },\n\n    //set all unread articles as read.\n    allRead() {\n      console.log(\"set all message as read\");\n      this.items.forEach((item) => {\n        item.info.forEach((i) => {\n          i.readStatus = 1;\n        });\n      });\n    },\n\n    loadUserMessage(pageNum, pageSize) {\n      getUserMessageList(pageNum, pageSize)\n        .then((response) => {\n          this.fillDatas(response);\n        })\n        .catch();\n    },\n\n    fillDatas(response) {\n      console.debug(\"respone\" + JSON.stringify(response));\n      if (\n        response == null ||\n        response.data == null ||\n        response.data.length == 0\n      ) {\n        return;\n      }\n      this.loading = false;\n      this.currentPage++;\n      for (let i = 0; i < response.data.length; i++) {\n        let message = response.data[i];\n        let date = message.operationTime.split(\" \");\n        let key = \"\";\n        console.log(\"######## date =========> ####### \" + JSON.stringify(date));\n        if (date != null && typeof key != undefined && date.length >= 2) {\n          key = date[0];\n          message.time = date[1];\n          message.prefixTime = key;\n        } else {\n          key = message.operationTime;\n        }\n        if (key != null && typeof key != undefined && key != \"\") {\n          let list = this.messageMap.get(key);\n          if (list == null || typeof list == undefined) {\n            list = [];\n          }\n\n          message.typeText = showMsgText(message.operation);\n          console.log(\"typeText ==========>\" + message.typeText);\n          list.push(message);\n          this.messageMap.set(key, list);\n        }\n      }\n      this.messageDates = this.messageMap.keys();\n      //alert(\"on response length >>>> \"+Array.from(this.messageDates).length)\n    },\n  },\n\n  //Set the length of a paragraph\n  filters: {\n    length(text, length, suffix = \"...\") {\n      if (!text) {\n        return;\n      }\n      if (text.length <= length) {\n        return text;\n      }\n      return (text + \"\").replace(/\\n/g, \"<br/>\").substring(0, length) + suffix;\n    },\n  },\n};\n</script>"],"sourceRoot":"src/views/page"}]}