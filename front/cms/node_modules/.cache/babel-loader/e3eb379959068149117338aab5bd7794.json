{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleDetail.vue","mtime":1639763210651},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQXBwZW5kVmlldyBmcm9tICdAL2NvbXBvbmVudHMvYXBwZW5kVmlldy52dWUnOwppbXBvcnQgUmVwb3J0VmlldyBmcm9tICdAL2NvbXBvbmVudHMvc3RhdGlzdGljYWxSZXBvcnRWaWV3LnZ1ZSc7CmltcG9ydCBSYW5nZVZpZXcgZnJvbSAnQC9jb21wb25lbnRzL3Zpc2lhYmxlUmFuZ2VWaWV3LnZ1ZSc7CmltcG9ydCB2b3RlUmVzdWx0VmlldyBmcm9tICcuL3B1Ymxpc2hBcnRpY2xlL3ZvdGVSZXN1bHQudnVlJzsKaW1wb3J0IHsgc2hvd1NuYWNrYmFyIH0gZnJvbSAiQC91dGlscy9zbmFja2Jhci5qcyI7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgVGhyb3R0bGUgfSBmcm9tICJAL3V0aWxzL3Rvb2xzLmpzIjsKaW1wb3J0IHsgZ2V0QXJ0aWNsZURldGFpbCwgZ2V0QXJ0aWNsZUxvZywgdXBsb2FkRmlsZSwgZ2V0RGV0YWlsQXBwZW5kLCBnZXRBcnRpY2xlUmVwb3J0QXV0aG9yLCBnZXRBcnRpY2xlUmVwb3J0Vmlld2VyLCBnZXREZXRhaWxUb1JlcG9ydCwgbWVzc2FnZVJlYWQgfSBmcm9tICJAL2FwaS9nZXREYXRhLmpzIjsKaW1wb3J0IHsgZ2V0TXNnU3RhdHVzRGVzYyB9IGZyb20gIkAvdXRpbHMvYXJ0aWNsZVV0aWxzLmpzIjsKaW1wb3J0IHsgZG93bmxvYWRBbGwgfSBmcm9tICJAL3V0aWxzL2Rvd25sb2FkLmpzIjsKaW1wb3J0IHsgY2hlY2tVcGxvYWRGaWxlVHlwZSwgcmVhZEZpbGVTaXplVW5pdCB9IGZyb20gIkAvdXRpbHMvZmlsZXNVdGlscy5qcyI7CmltcG9ydCB7IGFlc0RlY3J5cHQgfSBmcm9tICJAL3V0aWxzL2VuY3J5cHRpb24uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXBwZW5kVmlldzogQXBwZW5kVmlldywKICAgIFJlcG9ydFZpZXc6IFJlcG9ydFZpZXcsCiAgICBSYW5nZVZpZXc6IFJhbmdlVmlldywKICAgIHZvdGVSZXN1bHRWaWV3OiB2b3RlUmVzdWx0VmlldywKICAgIGZpbGVJdGVtOiBmdW5jdGlvbiBmaWxlSXRlbSgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi9wdWJsaXNoQXJ0aWNsZS9maWxlT3B0aW9uLnZ1ZSIpOwogICAgfSwKICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9iYXNlL2NvbmZvcm0udnVlIik7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F1dGlvbjogZmFsc2UsCiAgICAgIGNhdXRpb25UZXh0OiAi5Zue5aSN5raI5oGv5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIiwKICAgICAgY2F1dGlvblRpbWVvdXQ6IDE1MDAsCiAgICAgIGJhY2tEYXRhOiB7fSwKICAgICAgYXBwZW5kQmFja0RhdGE6IHt9LAogICAgICBjaGFuZ0hpc3Rvcnk6IFtdLAogICAgICB0ZXh0UnVsZTogewogICAgICAgIG1lc3NhZ2U6ICcnLAogICAgICAgIHJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiB2Lmxlbmd0aCA8PSAyNSB8fCAnTWF4IDI1IGNoYXJhY3RlcnMnOwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIC8v5piv5ZCm5pivYWRtaW7nlKjmiLcKICAgICAgaXNBZG1pbjogZmFsc2UsCiAgICAgIC8v5YWz6ZetZGlhbG9nCiAgICAgIGNsb3NlRGlhbG9nX3JlcG9ydDogZmFsc2UsCiAgICAgIGNsb3NlRGlhbG9nX3NlZTogZmFsc2UsCiAgICAgIC8v5b2T5YmN6YCJ5Lit55qEZGlhbG9nIOm7mOiupDAg5pyq6YCJ5oupZGlhbG9nLCAxLuWPr+ingeiMg+WbtO+8jDIu57uf6K6h5oql5ZGKCiAgICAgIG5vd0RpYWxvZzogMCwKICAgICAgLy/mlofnq6DnirbmgIEKICAgICAgbXNnVGV4dDogJycsCiAgICAgIC8v6YCJ5oup55qE5oqV56WoaXRlbQogICAgICByYWRpb0dyb3VwOiAwLAogICAgICAvL+aZrumAmumZhOS7tgogICAgICBmZWViYWNrQmFja1R5cGU6IC0xLAogICAgICBjb21tb25GaWxlczogW10sCiAgICAgIC8v5a6a5ZCR6ZmE5Lu2CiAgICAgIGRpcmVjdGlvbmFsRmlsZXM6IFtdLAogICAgICAvL+aKleelqOaMiemSrueKtuaAgQogICAgICB2b3RlRGlzYWJsZTogdHJ1ZSwKICAgICAgLy/mipXnpajnu5PmnpwKICAgICAgdm90ZXM6IFt7CiAgICAgICAgbmFtZTogJ0Eu5Y+K5pe2JywKICAgICAgICBudW1Db3VudDogJzM0NeelqCcsCiAgICAgICAgcG9pbnQ6IDU0CiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnQi7lpKrml6nkuoYnLAogICAgICAgIG51bUNvdW50OiAnMjQ056WoJywKICAgICAgICBwb2ludDogMzMKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdDLuWkquaZmuS6hicsCiAgICAgICAgbnVtQ291bnQ6ICczNuelqCcsCiAgICAgICAgcG9pbnQ6IDEzCiAgICAgIH1dLAogICAgICAvL+WbnuWkjeWGheWuuQogICAgICByZXBvcnRDb3RlbnQ6ICIiLAogICAgICAvL+aWh+eroGlkCiAgICAgIG1zZ0lkOiAnJywKICAgICAgLy/mmK/lkKbku47miJHnmoTlj5HluIPov5vlhaXnmoQKICAgICAgaXNNeVB1Ymxpc2g6IGZhbHNlLAogICAgICAvL+iOt+WPlueahOWbnuWkjeS/oeaBryzlhYjotYvpu5jorqTlgLzjgILpmLLmraLmuLLmn5Plh7rplJkKICAgICAgcmVwb3J0czoge30sCiAgICAgIC8v5Zue5aSN6ZmE5Lu2CiAgICAgIHVwbG9hZEZpbGVOb3JtYWw6IFtdLAogICAgICAvL+WumuaXtuWZqAogICAgICB0aW1lb3V0OiBudWxsLAogICAgICBpc0NvbW1vbkZpbGVzRG93bmxvYWRMb2FkaW5nOiBmYWxzZSwKICAgICAgaXNEaXJlY3Rpb25hbEZpbGVzRG93bmxvYWRMb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICByYWRpb0dyb3VwOiBmdW5jdGlvbiByYWRpb0dyb3VwKG9sZFZhbCwgbmV3VmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKCdyYWRpb0dyb3VwLS0tJyArIG5ld1ZhbCArICIgb2xkVmFsOiIgKyBvbGRWYWwgKyAiICBjdXJyZW50OiIgKyB0aGlzLnJhZGlvR3JvdXApOyAvL+acqumAieaLqeaKleelqOmAiemhuQoKICAgICAgaWYgKHRoaXMucmFkaW9Hcm91cCA9PSAwKSB7CiAgICAgICAgdGhpcy52b3RlRGlzYWJsZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52b3RlRGlzYWJsZSA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICAvL2tlZXBBbGl2ZeeUn+WRveWRqOacnyDlpJrmrKHmiafooYwgYWN0aXZhdGVkIOWPquaJp+ihjOS4gOasoW1vdW50ZWQKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBjb25zb2xlLmxvZygiW1tbW1tbW1sgPT0+IiArIEpTT04uc3RyaW5naWZ5KHN0b3JlLnN0YXRlLnVzZXIuYXV0aG9yaXphdGlvbikpOyAvL+eQhuiuuuS4iu+8jOaYr+imgeWNleeLrOWIpOaWreaYr+WQpkFkbWlu55qE77yM5L2G5piv55uu5YmN55yL5LiK5Y67YWRtaW7ov5vlhaXmn6XnnIvnmoTog73lipvlkozkvZzogIXkuIDoh7QKICAgIC8v5Lqn5ZOB6L+Z5LmI6K+055qE77yM5L2G5piv5Y+v6IO95Lya5a2Y5omN6Zu35Yy6LuavlOWmguafpeeci+W3suivu+aKpeWRiu+8jOW5tuWPkemAgeaPkOmGki4uLiBBZG1pbuecn+eahOWPr+S7pei/meS5iOWBmuWQl++8nyDlubbkuJTjgILlkI7nq6/mmK/lkKbov5vooYzkuobpqozor4HvvJ8KICAgIC8v5Y2V54us5Yik5pat5Lya5pu05aW95LiA5Lqb77yM5L2G5piv6YC76L6R5Lya5aSN5p2C5LiA5Lqb44CCIOebruWJjemhueebruaXtumXtOaciemZkO+8jOWmguaenOS9oOeci+WIsOi/meauteS7o+eggeOAguW5tuS4lOacieaXtumXtO+8jOW6lOivpeS/ruWkjei/meS4qumXrumimAoKICAgIHZhciB1c2VyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHN0b3JlLnN0YXRlLnVzZXIuYXV0aG9yaXphdGlvbikpKTsKICAgIHRoaXMuaXNBZG1pbiA9IHVzZXIuSkIgPT09ICJDTVMuQURNSU4iIHx8IHVzZXIuamIgPT09ICJjbXMuYWRtaW4iOyAvL3RoaXMuaXNNeVB1Ymxpc2ggPSB1c2VyLkpCID09PSAiQURNSU4iCgogICAgdGhpcy5pc015UHVibGlzaCA9IHRoaXMuaXNBZG1pbiA/IHRydWUgOiB0aGlzLiRyb3V0ZS5xdWVyeS5pc015UHVibGlzaDsKICAgIHRoaXMubXNnSWQgPSBhZXNEZWNyeXB0KHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKTsgLy/pobbpg6jlm57mu5rkuovku7bnm5HlkKwKICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbFRvVG9wKQoKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHRoaXMudXBsb2FkRmlsZU5vcm1hbCA9IFtdOwogICAgdGhpcy5jaGFuZ0hpc3RvcnkgPSBbXTsKICAgIHRoaXMuY29tbW9uRmlsZXMgPSBbXTsKICAgIHRoaXMuZGlyZWN0aW9uYWxGaWxlcyA9IFtdOwogICAgdGhpcy51cGxvYWRGaWxlTm9ybWFsID0gW107CiAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMudGltZU91dFJlcG9ydCwgMTAwMDApOwogICAgdmFyIGRhdGEgPSB7CiAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lkCiAgICB9OyAvL+iOt+WPluaWh+eroOivpuaDhQoKICAgIHRoaXMuZ2V0RGV0YWlscyh0aGlzLm1zZ0lkKTsgLy/ojrflj5blm57lpI3kv6Hmga8KCiAgICB0aGlzLmdldFJlcG9ydHMoZGF0YSk7IC8v6I635Y+W5paH56ug5Y+Y5pu05Y6G5Y+yCgogICAgZ2V0QXJ0aWNsZUxvZyh0aGlzLm1zZ0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2coIj4+Pj4+Pj4+Pj4+6I635Y+W5paH56ug5Y+Y5pu05Y6G5Y+yPj4+Pj4+Pj4+Pj4+Pj4+Iik7CiAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICB0aGF0LmFydGljbGVDaGFuZ2VEYXRhID0gcmVzOwogICAgICB0aGF0LmFydGljbGVDaGFuZ2VEYXRhLmRhdGEubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5vcGVyYXRlVHlwZSA9IGdldE1zZ1N0YXR1c0Rlc2MoaXRlbS5vcGVyYXRlVHlwZSk7CiAgICAgICAgdGhhdC5jaGFuZ0hpc3RvcnkucHVzaChpdGVtKTsKICAgICAgICB0aGF0LmNoYW5nSGlzdG9yeS5wdXNoKHsKICAgICAgICAgIGRpdmlkZXI6IHRydWUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnRvQ2hhbmdlTG9nKCk7CiAgICAgIH0sIDUwMCk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICB9KTsgLy/ojrflj5bmlofnq6DpmYTku7YKCiAgICBnZXREZXRhaWxBcHBlbmQoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluaWh+eroOmZhOS7tj4+Pj4+Pj4+Pj4+Pj4+PiIpOwogICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgdGhhdC5hcHBlbmRCYWNrRGF0YSA9IHJlczsKICAgICAgdGhhdC5kaXJlY3Rpb25hbEZpbGVzID0gbmV3IEFycmF5KCk7CiAgICAgIHRoYXQuY29tbW9uRmlsZXMgPSBuZXcgQXJyYXkoKTsKCiAgICAgIGlmICh0aGF0LmFwcGVuZEJhY2tEYXRhICYmIHRoYXQuYXBwZW5kQmFja0RhdGEuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGF0LmFwcGVuZEJhY2tEYXRhLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBjdXJyZW50RmlsZSA9IHRoYXQuYXBwZW5kQmFja0RhdGEuZGF0YVtpXTsKCiAgICAgICAgICBpZiAoY3VycmVudEZpbGUub3JpZW50YXRpb24pIHsKICAgICAgICAgICAgdGhhdC5kaXJlY3Rpb25hbEZpbGVzLnB1c2goY3VycmVudEZpbGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhhdC5jb21tb25GaWxlcy5wdXNoKGN1cnJlbnRGaWxlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCJjb21tb25GaWxlczoiICsgSlNPTi5zdHJpbmdpZnkoX3RoaXMuY29tbW9uRmlsZXMpKTsKICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMubm93RGlhbG9nID0gMDsKICB9LAogIGRlYWN0aXZhdGVkOiBmdW5jdGlvbiBkZWFjdGl2YXRlZCgpIHsKICAgIHRoaXMudGltZW91dC5jbGVhckltbWVkaWF0ZSgpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7Ly8g6ZSA5q+B5LqL5Lu2CiAgICAvLyB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxUb1RvcCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b0NoYW5nZUxvZzogZnVuY3Rpb24gdG9DaGFuZ2VMb2coKSB7CiAgICAgIHZhciBxdWVyeSA9IHRoaXMuJHJvdXRlLnF1ZXJ5OwogICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT0+dG8gbG9nIHBhcmFtcyAiICsgSlNPTi5zdHJpbmdpZnkocXVlcnkpKTsKICAgICAgaWYgKHF1ZXJ5ID09IG51bGwgfHwgdHlwZW9mIHF1ZXJ5ID09ICJ1bmRlZmluZWQiKSByZXR1cm47CiAgICAgIHZhciBuZWVkVG9Mb2cgPSBxdWVyeS5wYXJhbTsKICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PnRvIGxvZyBuZWVkIHRvIGxvZyAiICsgbmVlZFRvTG9nKTsKICAgICAgaWYgKCFuZWVkVG9Mb2cgfHwgdHlwZW9mIG5lZWRUb0xvZyA9PSAidW5kZWZpbmVkIikgcmV0dXJuOwogICAgICB0aGlzLiRyZWZzLmNoYW5nZWxvZy5zY3JvbGxJbnRvVmlldyh0cnVlKTsKICAgIH0sCiAgICAvL+aYr+WQpuaYvuekuuaWh+eroOWGheWuuQogICAgbmVlZFNob3dDb250ZW50OiBmdW5jdGlvbiBuZWVkU2hvd0NvbnRlbnQoKSB7CiAgICAgIC8vdi1pZj0iYmFja0RhdGEuZGF0YSAmJiFpc015UHVibGlzaCAmJiByZXBvcnRzICYmIHJlcG9ydHMuZGF0YSAmJiByZXBvcnRzLmRhdGEuZmVlZEJhY2tUeXBlID09PSAwICYmIGJhY2tEYXRhLmRhdGEuZmVlZGJhY2tTdGF0dXMgIT09IDEiCiAgICAgIC8v5piv5bey6K+75Zue5omn55qE5raI5oGvCiAgICAgIGlmICh0aGlzLmJhY2tEYXRhLmRhdGEgJiYgIXRoaXMuaXNNeVB1Ymxpc2ggJiYgdGhpcy5yZXBvcnRzICYmIHRoaXMucmVwb3J0cy5kYXRhICYmIHRoaXMucmVwb3J0cy5kYXRhLmZlZWRCYWNrVHlwZSA9PT0gMCkgewogICAgICAgIGlmICh0aGlzLmJhY2tEYXRhLmRhdGEuZmVlZGJhY2tTdGF0dXMgIT09IDEpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9LAogICAgbmVlZFNob3dDb21tZW50czogZnVuY3Rpb24gbmVlZFNob3dDb21tZW50cygpIHsKICAgICAgdmFyIGhhc0NvbW1lbnRzID0gdGhpcy5yZXBvcnRzICYmIHRoaXMucmVwb3J0cy5kYXRhICYmIHRoaXMuYmFja0RhdGEuZGF0YSAmJiAodGhpcy5yZXBvcnRzLmRhdGEuY29udGVudHMgJiYgdGhpcy5yZXBvcnRzLmRhdGEuY29udGVudHMubGVuZ3RoID4gMCB8fCB0aGlzLnJlcG9ydHMuZGF0YS5hdHRhY2htZW50cyAmJiB0aGlzLnJlcG9ydHMuZGF0YS5hdHRhY2htZW50cy5sZW5ndGggPiAwKTsKCiAgICAgIGlmIChoYXNDb21tZW50cykgewogICAgICAgIHJldHVybiB0aGlzLmlzTXlQdWJsaXNoID8gdHJ1ZSA6IHRoaXMuYmFja0RhdGEuZGF0YS5mZWVkYmFja1N0YXR1cyA9PT0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICByZXBvcnREaWFsb2c6IGZ1bmN0aW9uIHJlcG9ydERpYWxvZygpIHsKICAgICAgdGhpcy5ub3dEaWFsb2cgPSAxOwogICAgfSwKICAgIHNlZURpYWxvZzogZnVuY3Rpb24gc2VlRGlhbG9nKCkgewogICAgICB0aGlzLm5vd0RpYWxvZyA9IDI7CiAgICB9LAogICAgLy/lhbPpl61kaWFsb2cKICAgIGNsb3NlUGFyZW50OiBmdW5jdGlvbiBjbG9zZVBhcmVudChjaGlsZFN0YXRlKSB7CiAgICAgIC8vY29uc29sZS5sb2coIi0tLS0tLS0tLS0tIiArIHRoaXMubm93RGlhbG9nKTsKICAgICAgLy9jb25zb2xlLmxvZygiLS0tLS0tLS0tLS0iICsgY2hpbGRTdGF0ZSk7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICAgIHN3aXRjaCAodGhpcy5ub3dEaWFsb2cpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGF0LmNsb3NlRGlhbG9nX3JlcG9ydCA9IGNoaWxkU3RhdGU7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgdGhhdC5jbG9zZURpYWxvZ19zZWUgPSBjaGlsZFN0YXRlOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIC8v5bGV56S65peX5bic6IOM5pmv5Zu+54mHCiAgICBzaG93SW1hZzogZnVuY3Rpb24gc2hvd0ltYWcoc3RhdHVzKSB7CiAgICAgIHZhciBpbWdzcmM7CgogICAgICBzd2l0Y2ggKHN0YXR1cykgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGltZ3NyYyA9IHJlcXVpcmUoJ0AvYXNzZXRzL2RhaWZhYnUucG5nJyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAxOgogICAgICAgICAgaW1nc3JjID0gcmVxdWlyZSgnQC9hc3NldHMveWlmYWJ1LnBuZycpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBpbWdzcmMgPSByZXF1aXJlKCdAL2Fzc2V0cy95aWNoZXhpYW8ucG5nJyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA0OgogICAgICAgICAgaW1nc3JjID0gcmVxdWlyZSgnQC9hc3NldHMveWlzaGl4aWFvLnBuZycpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmV0dXJuIGltZ3NyYzsKICAgIH0sCiAgICAvL+iOt+WPluaWh+eroOS/oeaBrwogICAgZ2V0RGV0YWlsczogZnVuY3Rpb24gZ2V0RGV0YWlscyhtc2dJZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8v6I635Y+W5paH56ug6K+m5oOFCiAgICAgIGdldEFydGljbGVEZXRhaWwobXNnSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluaWh+eroOivpuaDhT4+Pj4+Pj4+Pj4+Pj4+PiIpOwogICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICAgIF90aGlzMi5iYWNrRGF0YSA9IHJlczsKICAgICAgICBfdGhpczIubXNnVGV4dCA9IGdldE1zZ1N0YXR1c0Rlc2MoX3RoaXMyLmJhY2tEYXRhLmRhdGEubXNnU3RhdHVzKTsKICAgICAgICBfdGhpczIuZmVlYmFja0JhY2tUeXBlID0gX3RoaXMyLmJhY2tEYXRhLmRhdGEuZmVlZGJhY2tUeXBlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UmVwb3J0czogZnVuY3Rpb24gZ2V0UmVwb3J0cyhtc2dJZCkgewogICAgICBpZiAodGhpcy5pc015UHVibGlzaCkgewogICAgICAgIHRoaXMuZ2V0QXV0aG9yUmVwb3J0cyhtc2dJZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRWaWV3ZXJSZXBvcnRzKG1zZ0lkKTsKICAgICAgfQogICAgfSwKICAgIC8v6I635Y+W5Zue5aSN5L+h5oGvLOWFqOmDqOeahO+8jGFkbWluIOWSjCBhdXRob3Lop4bop5IKICAgIGdldEF1dGhvclJlcG9ydHM6IGZ1bmN0aW9uIGdldEF1dGhvclJlcG9ydHMobXNnSWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBnZXRBcnRpY2xlUmVwb3J0QXV0aG9yKG1zZ0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygiPj4+Pj4+Pj4+Pj7ojrflj5blm57lpI3kv6Hmga8gYXV0aG9yIG9yIGFkbWluID4+Pj4+Pj4+Pj4+Pj4+PiIpOwogICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICAgIF90aGlzMy5yZXBvcnRzID0gcmVzOwoKICAgICAgICBpZiAoX3RoaXMzLnJlcG9ydHMgJiYgX3RoaXMzLnJlcG9ydHMuZGF0YSAmJiBfdGhpczMucmVwb3J0cy5kYXRhLnZvdGVJbmZvKSB7CiAgICAgICAgICBpZiAoX3RoaXMzLnJlcG9ydHMuZGF0YS52b3RlSW5mby5vcHRpb25JZCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgX3RoaXMzLnJhZGlvR3JvdXAgPSAwOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLnJhZGlvR3JvdXAgPSBfdGhpczMucmVwb3J0cy5kYXRhLnZvdGVJbmZvLm9wdGlvbklkOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5blm57lpI3kv6Hmga/vvIx2aWV3ZXLop4bop5IKICAgIGdldFZpZXdlclJlcG9ydHM6IGZ1bmN0aW9uIGdldFZpZXdlclJlcG9ydHMobXNnSWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBnZXRBcnRpY2xlUmVwb3J0Vmlld2VyKG1zZ0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygiPj4+Pj4+Pj4+Pj7ojrflj5blm57lpI3kv6Hmga8gdmlld2VyPj4+Pj4+Pj4+Pj4+Pj4+Iik7CiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzKSk7CiAgICAgICAgX3RoaXM0LnJlcG9ydHMgPSByZXM7CgogICAgICAgIGlmIChfdGhpczQucmVwb3J0cyAmJiBfdGhpczQucmVwb3J0cy5kYXRhICYmIF90aGlzNC5yZXBvcnRzLmRhdGEudm90ZUluZm8pIHsKICAgICAgICAgIGlmIChfdGhpczQucmVwb3J0cy5kYXRhLnZvdGVJbmZvLm9wdGlvbklkID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBfdGhpczQucmFkaW9Hcm91cCA9IDA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczQucmFkaW9Hcm91cCA9IF90aGlzNC5yZXBvcnRzLmRhdGEudm90ZUluZm8ub3B0aW9uSWQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkb3dubG9hZENvbW1vbkZpbGVzOiBmdW5jdGlvbiBkb3dubG9hZENvbW1vbkZpbGVzKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciBmaWxlbmFtZSA9IHRoaXMuYmFja0RhdGEuZGF0YS50aXRsZSArICIt5pmu6YCa6ZmE5Lu2LnppcCI7CiAgICAgIGRvd25sb2FkQWxsKHRoaXMuY29tbW9uRmlsZXMsIGZpbGVuYW1lLCBmdW5jdGlvbiAodHlwZSkgewogICAgICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PToiICsgdHlwZSk7CgogICAgICAgIGlmICh0eXBlID09PSAwKSB7CiAgICAgICAgICB0aGF0LmlzQ29tbW9uRmlsZXNEb3dubG9hZExvYWRpbmcgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAyIHx8IHR5cGUgPT09IDMpIHsKICAgICAgICAgIHRoYXQuaXNDb21tb25GaWxlc0Rvd25sb2FkTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZG93bmxvYWREaXJlY3Rpb25hbEZpbGVzOiBmdW5jdGlvbiBkb3dubG9hZERpcmVjdGlvbmFsRmlsZXMoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5iYWNrRGF0YS5kYXRhLnRpdGxlICsgIi3lrprlkJHpmYTku7YuemlwIjsKICAgICAgZG93bmxvYWRBbGwodGhpcy5kaXJlY3Rpb25hbEZpbGVzLCBmaWxlbmFtZSwgZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT06IiArIHR5cGUpOwoKICAgICAgICBpZiAodHlwZSA9PT0gMCkgewogICAgICAgICAgdGhhdC5pc0RpcmVjdGlvbmFsRmlsZXNEb3dubG9hZExvYWRpbmcgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAyIHx8IHR5cGUgPT09IDMpIHsKICAgICAgICAgIHRoYXQuaXNEaXJlY3Rpb25hbEZpbGVzRG93bmxvYWRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WbnuWkjeWGheWuuQogICAgdG9SZXBvcnRDb250ZW50OiBUaHJvdHRsZShmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgLy/kuozmrKHnoa7orqQKICAgICAgdGhpcy4kcmVmcy5jb25maXJtLmNvbmZpcm0oIuWPquiDveWbnuWkjeS4gOasoe+8jOS4jeiDveabtOaUue+8jOehruiupOWbnuWkjeWQlz8iKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUudG9SZXBvcnQoMSwgX3RoaXM1LnJlcG9ydENvdGVudCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgc2hvd1NuYWNrYmFyKCLmgqjmj5DkuqTnmoTlpKrpopHnuYHkuobvvIznqI3nrYnkuIDkvJror5Xor5XlkKciKTsKICAgIH0pLAogICAgLy/lt7Lor7vlm57miacKICAgIHRvUmVwb3J0UmVjZWlwdDogZnVuY3Rpb24gdG9SZXBvcnRSZWNlaXB0KCkgewogICAgICB0aGlzLnRvUmVwb3J0KDAsICIiKTsKICAgIH0sCiAgICAvL+WbnuWkjemZhOS7tgogICAgdG9SZXBvcnRGaWxlOiBmdW5jdGlvbiB0b1JlcG9ydEZpbGUoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy/kuozmrKHnoa7orqQKICAgICAgdGhpcy4kcmVmcy5jb25maXJtLmNvbmZpcm0oIuWPquiDveWbnuWkjeS4gOasoe+8jOS4jeiDveabtOaUue+8jOehruiupOWbnuWkjeWQlz8iKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuc3VibWl0UmVwb3J0KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICBzdWJtaXRSZXBvcnQ6IGZ1bmN0aW9uIHN1Ym1pdFJlcG9ydCgpIHsKICAgICAgdmFyIGF0dGFjaG1lbnRMaXN0ID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXBsb2FkRmlsZU5vcm1hbC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBhdHRhY2htZW50ID0ge307CiAgICAgICAgYXR0YWNobWVudC5wYXRoID0gdGhpcy51cGxvYWRGaWxlTm9ybWFsW2ldLnBhdGg7CiAgICAgICAgYXR0YWNobWVudC5hdHRhY2htZW50U2l6ZSA9IHRoaXMudXBsb2FkRmlsZU5vcm1hbFtpXS5maWxlU2l6ZTsKICAgICAgICBhdHRhY2htZW50TGlzdC5wdXNoKGF0dGFjaG1lbnQpOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZygic2F2ZSBhdHRhY2htZW50OiIgKyBKU09OLnN0cmluZ2lmeShhdHRhY2htZW50TGlzdCkpOwogICAgICB0aGlzLnRvUmVwb3J0KDIsICIiLCBhdHRhY2htZW50TGlzdCk7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lkCiAgICAgIH07CiAgICAgIHRoaXMuZ2V0UmVwb3J0cyhkYXRhKTsKICAgICAgdGhpcy5nZXREZXRhaWxzKHRoaXMubXNnSWQpOwogICAgfSwKICAgIG9uRGVsZXRlRmlsZTogZnVuY3Rpb24gb25EZWxldGVGaWxlKGluZGV4KSB7CiAgICAgIGNvbnNvbGUubG9nKCJvbmRlbGV0ZSBmaWxlOiIgKyBpbmRleCk7CiAgICAgIHRoaXMudXBsb2FkRmlsZU5vcm1hbC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIHVwbG9hZEZpbGVOOiBmdW5jdGlvbiB1cGxvYWRGaWxlTigpIHsKICAgICAgY29uc29sZS5sb2coInVwbG9hZEZpbGVOIik7CgogICAgICBpZiAodGhpcy51cGxvYWRGaWxlTm9ybWFsLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgc2hvd1NuYWNrYmFyKCLmr4/mrKHmnIDlpJrlj6rog73kuIrkvKAx5Liq5paH5Lu2Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRyZWZzLnVwbG9hZEZpbGVOLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoImNsaWNrIikpOwogICAgfSwKICAgIGZpbGVVcGxvYWQ6IGZ1bmN0aW9uIGZpbGVVcGxvYWQoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgdXBGaWxlcyA9IHRoaXMudXBsb2FkRmlsZU5vcm1hbDsKICAgICAgdmFyIHNlbGVjdGVkRmlsZXMgPSBldmVudC50YXJnZXQuZmlsZXM7CgogICAgICBpZiAoc2VsZWN0ZWRGaWxlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgc2hvd1NuYWNrYmFyKCLmr4/mrKHmnIDlpJrlj6rog73kuIrkvKAx5Liq5paH5Lu2Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBzZWxlY3RlZEZpbGVzW2ldOwoKICAgICAgICBpZiAoaXRlbS5zaXplIC8gMTAyNCAvIDEwMjQgPj0gMjApIHsKICAgICAgICAgIHNob3dTbmFja2Jhcigi5oKo5pyJ5paH5Lu25LiK5Lyg5aSx6LSlLOmZhOS7tuacgOWkp+mZkOWItjIwTSIpOwogICAgICAgICAgcmV0dXJuICJjb250aW51ZSI7CiAgICAgICAgfSAvL+S4iuS8oOaWh+S7tuWOu+mHjQoKCiAgICAgICAgaWYgKHVwRmlsZXMuZmluZEluZGV4KGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gdC50ZXh0ID09IGl0ZW0ubmFtZTsKICAgICAgICB9KSA+PSAwKSB7CiAgICAgICAgICByZXR1cm4gImNvbnRpbnVlIjsKICAgICAgICB9IC8v5LiK5Lyg57G75Z6L5Yik5patCgoKICAgICAgICB2YXIgZXh0ID0gY2hlY2tVcGxvYWRGaWxlVHlwZShpdGVtLm5hbWUpOwogICAgICAgIGlmIChleHQgPT0gbnVsbCkgcmV0dXJuICJjb250aW51ZSI7CiAgICAgICAgdmFyIHRlbXAgPSB7fTsKICAgICAgICB0ZW1wLnRleHQgPSBpdGVtLm5hbWU7CiAgICAgICAgdGVtcC5maWxlVHlwZSA9IGV4dDsKICAgICAgICB0ZW1wLmZpbGVTaXplID0gcmVhZEZpbGVTaXplVW5pdChpdGVtLnNpemUpOwogICAgICAgIGNvbnNvbGUubG9nKHRlbXApOyAvL+a3u+WKoOS4iuS8oOaWh+S7tuWIl+ihqAoKICAgICAgICB1cEZpbGVzLnB1c2godGVtcCk7IC8v5LiK5Lyg5pyN5Yqh5ZmoCgogICAgICAgIHVwbG9hZEZpbGUoaXRlbSwgZnVuY3Rpb24gKHByb2dyZXNzLCBmaWxlTmFtZSkgewogICAgICAgICAgX3RoaXM3LnVwbG9hZEZpbGVOb3JtYWwuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIHJldHVybiB0LnRleHQgPT0gZmlsZU5hbWU7CiAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHVwZGF0ZSkgewogICAgICAgICAgICB1cGRhdGUucHJvZ3Jlc3MgPSBwcm9ncmVzczsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNy51cGxvYWRGaWxlTm9ybWFsID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczcudXBsb2FkRmlsZU5vcm1hbCkpOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2coInVwbG9hZCIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTsKCiAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgewogICAgICAgICAgICAvL+abtOaWsOS4iuS8oOS/oeaBrwogICAgICAgICAgICB2YXIgZmlsZXMgPSBfdGhpczcudXBsb2FkRmlsZU5vcm1hbDsKICAgICAgICAgICAgZmlsZXMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHQudGV4dCA9PSByZXMuZGF0YS5hdHRhY2htZW50TmFtZTsKICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uICh1cGRhdGUpIHsKICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlLnBhdGggPSByZXMuZGF0YS51cmw7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zb2xlLmxvZygidXBsb2FkIGZpbGUgbWVzc2FnZTI6IiArIEpTT04uc3RyaW5naWZ5KGZpbGVzKSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgICB9OwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZEZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIF9yZXQgPSBfbG9vcChpKTsKCiAgICAgICAgaWYgKF9yZXQgPT09ICJjb250aW51ZSIpIGNvbnRpbnVlOwogICAgICB9CiAgICB9LAogICAgZ29Wb3RlQ29uZmlybTogZnVuY3Rpb24gZ29Wb3RlQ29uZmlybSgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmNvbmZpcm0uY29uZmlybSgi5Y+q6IO95Zue5aSN5LiA5qyh77yM5LiN6IO95pu05pS577yM56Gu6K6k5Zue5aSN5ZCXPyIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOC5nb1ZvdGUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIC8v5Y675oqV56WoCiAgICBnb1ZvdGU6IGZ1bmN0aW9uIGdvVm90ZSgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICAvL3RoaXMudG9SZXBvcnQoMywiIix0aGlzLnJhZGlvR3JvdXApOwogICAgICB2YXIgcmVwb3J0RGF0YXMgPSB7CiAgICAgICAgbXNnSWQ6IHRoaXMubXNnSWQsCiAgICAgICAgZmVlZGJhY2tUeXBlOiAzLAogICAgICAgIHZvdGVJZDogdGhpcy5iYWNrRGF0YS5kYXRhLnZvdGVJbmZvRFRPLnZvdGVJZCwKICAgICAgICB2b3RlT3B0aW9uSWQ6IHRoaXMucmFkaW9Hcm91cAogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXBvcnREYXRhcykpOwogICAgICBnZXREZXRhaWxUb1JlcG9ydChyZXBvcnREYXRhcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coIuaKleelqOWujOaIkCIpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBtc2dJZDogX3RoaXM5Lm1zZ0lkCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXM5LmdldFJlcG9ydHMoZGF0YSk7CgogICAgICAgIF90aGlzOS5nZXREZXRhaWxzKF90aGlzOS5tc2dJZCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Zue5aSN5L+h5oGvCiAgICB0b1JlcG9ydDogZnVuY3Rpb24gdG9SZXBvcnQoZmVlZGJhY2tUeXBlLCBjb250ZW50LCBhdHRhY2htZW50TGlzdCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB2YXIgcmVwb3J0RGF0YXMgPSB7CiAgICAgICAgbXNnSWQ6IHRoaXMubXNnSWQsCiAgICAgICAgZmVlZGJhY2tUeXBlOiBmZWVkYmFja1R5cGUKICAgICAgfTsKCiAgICAgIGlmIChjb250ZW50KSB7CiAgICAgICAgcmVwb3J0RGF0YXMuY29udGVudCA9IGNvbnRlbnQ7CiAgICAgIH0KCiAgICAgIGlmIChhdHRhY2htZW50TGlzdCkgewogICAgICAgIHJlcG9ydERhdGFzLmF0dGFjaG1lbnRMaXN0ID0gYXR0YWNobWVudExpc3Q7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcG9ydERhdGFzKSk7CiAgICAgIGdldERldGFpbFRvUmVwb3J0KHJlcG9ydERhdGFzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgbXNnSWQ6IF90aGlzMTAubXNnSWQKICAgICAgICB9OwoKICAgICAgICBfdGhpczEwLmdldFJlcG9ydHMoZGF0YSk7CgogICAgICAgIF90aGlzMTAuZ2V0RGV0YWlscyhfdGhpczEwLm1zZ0lkKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlKSk7CiAgICAgICAgX3RoaXMxMC5jYXV0aW9uVGV4dCA9ICLlm57lpI3mtojmga/lpLHotKXvvIzor7fnqI3lkI7lho3or5UiOwoKICAgICAgICBpZiAoZS5jb25maWcgPT0gbnVsbCB8fCB0eXBlb2YgZS5jb25maWcgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+PiBjb25maWcgaXMgbnVsbCA8PDw8PDw8PCIpOwogICAgICAgICAgX3RoaXMxMC5jYXV0aW9uID0gdHJ1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciByZXMgPSBlLmNvbmZpZzsKCiAgICAgICAgaWYgKHJlcy5kYXRhID09IG51bGwgfHwgdHlwZW9mIHJlcy5kYXRhID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICBfdGhpczEwLmNhdXRpb24gPSB0cnVlOwogICAgICAgICAgY29uc29sZS5sb2coIj4+Pj4+IGRhdGEgaXMgbnVsbCA8PDw8PDw8PCIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzLmRhdGEpOwogICAgICAgIGNvbnNvbGUubG9nKCJkYXRhIGlzICIgKyBKU09OLnN0cmluZ2lmeShyZXN1bHQpKTsKCiAgICAgICAgaWYgKHJlc3VsdC5jb250ZW50ID09IG51bGwgfHwgdHlwZW9mIHJlc3VsdC5jb250ZW50ID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiPj4+Pj4gY29udGVudCBpcyBudWxsIDw8PDw8PDw8Iik7CiAgICAgICAgICBfdGhpczEwLmNhdXRpb24gPSB0cnVlOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczEwLiRyZWZzLmNvbmZpcm0uY29uZmlybSgi5oKo5Zue5aSN55qE5YaF5a655YyF5ZCr5pWP5oSf6K+N77yM6K+35Y675o6J6L+Z5Lqb5pWP5oSf6K+NOiBbIiArIHJlc3VsdC5jb250ZW50ICsgIl0iKS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0b01lc3NhZ2VSZWFkOiBmdW5jdGlvbiB0b01lc3NhZ2VSZWFkKCkgewogICAgICB2YXIgcmVxdWVzdERhdGFzID0gewogICAgICAgIGlkOiB0aGlzLm1zZ0lkCiAgICAgIH07CiAgICAgIG1lc3NhZ2VSZWFkKHJlcXVlc3REYXRhcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/lgJLorqHml7bvvIzlsIbmlofnq6DnirbmgIHlj5jkuLrlt7Lor7sKICAgIHRpbWVPdXRSZXBvcnQ6IGZ1bmN0aW9uIHRpbWVPdXRSZXBvcnQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCLlgJLorqHml7bnu5PmnZ/vvIzmiornirbmgIHnva7kuLrlt7Lor7siKTsKICAgICAgdGhpcy50b01lc3NhZ2VSZWFkKCk7CiAgICB9CiAgfQp9Ow=="},null]}