{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/authorityManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/authorityManagement.vue","mtime":1638846414770},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFRlbXBsYXRlTGlzdCwgZ2V0RGVwdExpc3QsIGRlbGV0ZVRlbXBsYXRlIH0gZnJvbSAiQC9hcGkvZ2V0RGF0YSI7CmltcG9ydCAiQC91dGlscy90aW1lRm9ybWF0ZS5qcyI7CmltcG9ydCB7IHRyYW5zZm9ybWF0aW9uQXV0aG9yaXR5IH0gZnJvbSAiQC91dGlscy90ZW1wbGF0ZVV0aWxzLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhdXRob3JpdHlNYW5hZ2VtZW50IiwKICBjb21wb25lbnRzOiB7CiAgICBlZGl0QXV0aG9yaXR5OiBmdW5jdGlvbiBlZGl0QXV0aG9yaXR5KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuL2VkaXRBdXRob3JpdHkiKTsKICAgIH0sCiAgICBkZWxkaWFsb2c6IGZ1bmN0aW9uIGRlbGRpYWxvZygpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2Jhc2UvZGVsZXRlLnZ1ZSIpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy9maXggbWUgOiDliKTmlq3mnaHku7bkuI3opoHlv5jorrDkuoYKICAgIGdldFRlbXBsYXRlTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKCIjIyMjIyMjIyB0cmVtcGxhdGUgPT09PT09PT09PiAjIyMjIyMjICIgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpOwoKICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgIF90aGlzLnRlbXBsYXRlTGlzdCA9IHJlc3BvbnNlLmRhdGE7IC8v5oqK5p2D6ZmQ5a2X5q6155qEbWVudU5hbWXlkI3lrZfmjaLmiJBuYW1lCgogICAgICAgIF90aGlzLnRlbXBsYXRlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh0ZW1wKSB7CiAgICAgICAgICBpZiAodGVtcCAhPT0gbnVsbCAmJiB0eXBlb2YgdGVtcCAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGVtcC50aW1lID0gbmV3IERhdGUodGVtcC5jcmVhdGVfdGltZSkuZm9ybWF0KCJ5eXl5LU1NLWRkIGhoOm1tOnNzIik7CiAgICAgICAgICAgIHRyYW5zZm9ybWF0aW9uQXV0aG9yaXR5KHRlbXAudGFyZ2V0TGlzdCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKCk7IC8v5LuO572R57uc6I635Y+W6YOo6ZeoCgogICAgZ2V0RGVwdExpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZygiIyMjIyMjIyMgZGVwYXJ0bWVudCBsaXN0ID09PT09PT09PT4gIyMjIyMjIyAiICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTsKCiAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICBfdGhpcy5kZXBhcnRtZW50ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfQogICAgfSkuY2F0Y2goKTsgLy90aGlzLmRlcGFydG1lbnQgPSBnZXREZXB0TGlzdCgpIAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsZXJ0OiBmYWxzZSwKICAgICAgYWxlcnRNZXNzYWdlOiAiIiwKICAgICAgYWRkU3VjY2Vzc1RleHQ6ICLmt7vliqDmqKHmnb/miJDlip8iLAogICAgICB1cGRhdGVTdWNjZXNzVGV4dDogIuabtOaWsOaooeadv+aIkOWKnyIsCiAgICAgIGRlbGV0ZVN1Y2Nlc3NUZXh0OiAi5Yig6Zmk5qih5p2/5oiQ5YqfIiwKICAgICAgZGVsZXRlU3VjY2Vzc0ZhaWxlZFRleHQ6ICLliKDpmaTmqKHmnb/lpLHotKUs6K+356iN5ZCO5YaN6K+VLi4uIiwKICAgICAgY2F1dGlvblRleHQ6ICIiLAogICAgICB0aW1lb3V0OiAzMDAwLAogICAgICBjYXV0aW9uOiBmYWxzZSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgZGlhbG9nRGVsZXRlOiBmYWxzZSwKICAgICAgZWRpdEF1dGhvcml0eTogZmFsc2UsCiAgICAgIHN1Ym1pdGluZzogZmFsc2UsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogIuadg+mZkOWQjeensCIsCiAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdmFsdWU6ICJ0ZW1wbGF0ZU5hbWUiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAi5p2D6ZmQ5o+P6L+wIiwKICAgICAgICB2YWx1ZTogImRlc2MiCiAgICAgIH0sIC8vIHsgdGV4dDogJ+WMheWQq+adg+mZkCcsIHZhbHVlOiAnYXV0aG9yaXR5JyB9LAogICAgICB7CiAgICAgICAgdGV4dDogIuWMheWQq+mDqOmXqCIsCiAgICAgICAgdmFsdWU6ICJvZW1MaXN0IgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIuWPkeW4g+aXtumXtCIsCiAgICAgICAgdmFsdWU6ICJ0aW1lIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIuaTjeS9nCIsCiAgICAgICAgdmFsdWU6ICJhY3Rpb25zIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9XSwKICAgICAgdGVtcGxhdGVMaXN0OiBbXSwKICAgICAgdGVtcGxhdGU6IHt9LAogICAgICBkZXBhcnRtZW50OiBbXSwKICAgICAgLy89PT09PT0gIOWIhuWJsue6vz09PT09PT0KICAgICAgZWRpdGVkSW5kZXg6IC0xLAogICAgICBlZGl0ZWRJdGVtOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIGF1dGhvcml0eTogW10sCiAgICAgICAgcm9sZXM6ICIiCiAgICAgIH0sCiAgICAgIHNlbGVjdGlvbjogW10KICAgIH07CiAgfSwKICAvL+WKoOi9vemhtemdouaXtuiuvue9rua3u+WKoOWSjOe8lui+keagh+mimAogIGNvbXB1dGVkOiB7fSwKICAvL+ebkeinhuWvueivneahhgogIHdhdGNoOiB7CiAgICBlZGl0QXV0aG9yaXR5OiBmdW5jdGlvbiBlZGl0QXV0aG9yaXR5KCkgewogICAgICAvL+e8lui+keWvueivneahhuW3suWFs+mXreOAgua4heeQhuaVsOaNrgogICAgICBpZiAodGhpcy5lZGl0QXV0aG9yaXR5ID09PSBmYWxzZSkgewogICAgICAgIC8v5riF55CG6LWE5rqQ44CCCiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHt9OyAvLyBhbGVydCgicmVzdWx0ID0gIityZXN1bHQrIiB2ICIrdiArICIgICIraCkKICAgICAgfQogICAgfQogIH0sCiAgLy/pobXpnaLnrKzkuIDmrKHliqDovb3ml7Ys6LCD55So5Yid5aeL5YyW5pa55rOVCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIG5vdGlmaXlVc2VyOiBmdW5jdGlvbiBub3RpZml5VXNlcihpdGVtKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5kZWxkaWFsb2cuY29uZmlybSgi56Gu5a6a5Yig6Zmk5q2k5qih5p2/5ZCXPyIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczIub25EZWxldGVUZW1wbGF0ZShpdGVtKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIG9uRGVsZXRlVGVtcGxhdGU6IGZ1bmN0aW9uIG9uRGVsZXRlVGVtcGxhdGUoaXRlbSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuc3VibWl0aW5nID0gdHJ1ZTsKICAgICAgZGVsZXRlVGVtcGxhdGUoaXRlbSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuc3VibWl0aW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coImRlbGV0ZSB0ZW1wbGF0ZSByZXN1bHQgPT0+ICIgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpOwoKICAgICAgICBpZiAocmVzcG9uc2UgIT0gbnVsbCAmJiB0eXBlb2YgcmVzcG9uc2UuY29kZSAhPT0gInVuZGVmaW5lZCIgJiYgcmVzcG9uc2UuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXMzLmRlbGV0ZUl0ZW0oaXRlbS50ZW1wbGF0ZUlkKTsKCiAgICAgICAgICBfdGhpczMuYWxlcnQgPSB0cnVlOwogICAgICAgICAgX3RoaXMzLmFsZXJ0TWVzc2FnZSA9IF90aGlzMy5kZWxldGVTdWNjZXNzVGV4dDsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczMuYWxlcnQgPSBmYWxzZTsKICAgICAgICAgIH0sIDE1MDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuc3VibWl0aW5nID0gZmFsc2U7CiAgICAgICAgICBfdGhpczMuY2F1dGlvblRleHQgPSBfdGhpczMuZGVsZXRlU3VjY2Vzc0ZhaWxlZFRleHQ7CiAgICAgICAgICBfdGhpczMuY2F1dGlvbiA9IHRydWU7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJvbiBkZWxldGUgZXJyb3IgIiArIGUpOwogICAgICAgIF90aGlzMy5zdWJtaXRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpczMuY2F1dGlvblRleHQgPSBfdGhpczMuZGVsZXRlU3VjY2Vzc0ZhaWxlZFRleHQ7CiAgICAgICAgX3RoaXMzLmNhdXRpb24gPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICAvL+e8lui+keadg+mZkAogICAgZWRpdEl0ZW06IGZ1bmN0aW9uIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy50ZW1wbGF0ZSA9IGl0ZW07CiAgICAgIHRoaXMuZWRpdEF1dGhvcml0eSA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgIH0sCiAgICBvbkVkaXRBdXRob3JpdHlUZW1wbGF0ZVJlc3VsdDogZnVuY3Rpb24gb25FZGl0QXV0aG9yaXR5VGVtcGxhdGVSZXN1bHQocmVzdWx0LCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHR5cGUgPT09ICJhZGQiKSB7CiAgICAgICAgdGhpcy50ZW1wbGF0ZUxpc3QudW5zaGlmdChyZXN1bHQpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJ1cGRhdGUiKSB7CiAgICAgICAgLy8xLuaJvuWIsOaVsOe7hOmHjOi/meS4quWFg+e0oAogICAgICAgIC8vMi7liKDpmaTov5nkuKrlhYPntKAKICAgICAgICAvLzMu5Zyo5oqK5paw55qE5pWw5o2u5o+S5YWlCiAgICAgICAgLy8g5pyJ5pu05aW955qEamF2YXNjcmlwdOaWueazleWQl++8nwogICAgICAgIHZhciBkZWxTdWNjID0gdGhpcy5kZWxldGVJdGVtKHJlc3VsdC50ZW1wbGF0ZUlkKTsKCiAgICAgICAgaWYgKGRlbFN1Y2MpIHsKICAgICAgICAgIHRoaXMudGVtcGxhdGVMaXN0LnVuc2hpZnQocmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuYWxlcnRNZXNzYWdlID0gdHlwZSA9PT0gImFkZCIgPyB0aGlzLmFkZFN1Y2Nlc3NUZXh0IDogdGhpcy51cGRhdGVTdWNjZXNzVGV4dDsKICAgICAgdGhpcy5hbGVydCA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5hbGVydCA9IGZhbHNlOwogICAgICB9LCAxNTAwKTsKICAgIH0sCiAgICBkZWxldGVJdGVtOiBmdW5jdGlvbiBkZWxldGVJdGVtKHRhcmdldFRlbXBsYXRlSWQpIHsKICAgICAgY29uc29sZS5sb2coImRlbGV0ZSBsb2NhbCB0ZW1wbGF0ZSBJRCA6IFsiICsgdGFyZ2V0VGVtcGxhdGVJZCArICJdIik7CiAgICAgIHZhciBpbmRleCA9IHRoaXMudGVtcGxhdGVMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2LnRlbXBsYXRlSWQgPT09IHRhcmdldFRlbXBsYXRlSWQ7CiAgICAgIH0pOyAvLyBmb3IobGV0IGk9MDsgaTx0aGlzLnRlbXBsYXRlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAvLyAgIHRoaXMudGVtcGxhdGVMaXN0W2ldLnRlbXBsYXRlSWQgPT09IHRhcmdldFRlbXBsYXRlSWQ7CiAgICAgIC8vICAgaW5kZXggPSBpOwogICAgICAvLyAgIGJyZWFrOwogICAgICAvLyB9CiAgICAgIC8vYWxlcnQoImZpbm5kIGluZGV4IGlzICIraW5kZXgpCgogICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgdGhpcy50ZW1wbGF0ZUxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["authorityManagement.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"templateList\"\n    sort-by=\"time\"\n    class=\"elevation-1\"\n    :items-per-page=\"10\"\n    :footer-props=\"{\n      'items-per-page-text': '每页显示条数',\n      pageText: '{0}-{1} of {2}',\n      'items-per-page-all-text': 'all',\n    }\"\n  >\n    <template v-slot:top>\n      <v-toolbar flat>\n        <v-toolbar-title>权限管理</v-toolbar-title>\n\n        <v-btn\n          color=\"primary\"\n          dark\n          class=\"mb-1 ml-4\"\n          @click=\"editAuthority = true\"\n        >\n          创建新模板\n        </v-btn>\n        \n        <edit-authority\n          :open=\"editAuthority\"\n          :template=\"template\"\n          :department=\"department\"\n          @closeDialog=\"editAuthority = false\"\n          @onEditAuthorityTemplateResult=\"onEditAuthorityTemplateResult\"\n        />\n\n         <!-- 提交成功的alert -->\n\n           <v-alert\n              :value=\"alert\"\n              :timeout=\"timeout\"\n              border=\"left\"\n              color=\"green\"\n              type=\"success\"\n              transition=\"scale-transition\"\n            >{{alertMessage}}</v-alert>\n\n        <!--删除dialog-->\n        <deldialog ref=\"deldialog\" />\n        <!-- 提示 -->\n        <v-snackbar\n            v-model=\"caution\"\n            :timeout=\"timeout\"\n            :centened=\"true\"\n            :width=\"240\"\n          >\n            {{cautionText}}\n\n            <template v-slot:action=\"{ attrs }\">\n              <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"caution = false\">\n                关闭\n              </v-btn>\n            </template>\n          </v-snackbar>\n\n        <!--提交进度-->\n        <v-dialog\n              v-model=\"submiting\"\n              persistent\n              width=\"300\"\n            >\n              <v-card\n                color=\"primary\"\n                dark\n              >\n                <v-card-text>\n                  删除权限中,请稍后...\n                  <v-progress-linear\n                    indeterminate\n                    color=\"white\"\n                    class=\"mb-0\"\n                  ></v-progress-linear>\n                </v-card-text>\n              </v-card>\n           </v-dialog>\n\n      </v-toolbar>\n    </template>\n    <template v-slot:[`item.oemList`]=\"{ item }\">\n     \n        <v-chip\n          v-for=\"(dept, index) in item.oemList\"\n          class=\"ma-2\"\n          :key=\"index\"\n          color=\"primary\"\n          text-color=\"white\"\n        >\n          {{ dept.companyName}}\n        </v-chip>  \n    </template>\n    <template v-slot:[`item.actions`]=\"{ item }\">\n      <v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n      <v-icon small @click=\"notifiyUser(item)\"> mdi-delete </v-icon>\n    </template>\n    <template v-slot:no-data>\n      <v-subheader dense>还没有权限模板，请添加模板.</v-subheader>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport { getTemplateList,getDeptList,deleteTemplate } from \"@/api/getData\";\nimport \"@/utils/timeFormate.js\";\nimport {transformationAuthority} from \"@/utils/templateUtils.js\";\nexport default {\n  name: \"authorityManagement\",\n  components: {\n    editAuthority: () => import(\"./editAuthority\"),\n    deldialog: () => import(\"@/components/base/delete.vue\"),\n  },\n\n  mounted() {\n    //fix me : 判断条件不要忘记了\n    getTemplateList().then((response) => {\n      console.log(\"######## tremplate =========> ####### \" + JSON.stringify(response));\n        if(response.data.length > 0) {\n          this.templateList = response.data;\n          //把权限字段的menuName名字换成name\n           this.templateList.forEach(temp => {\n             if(temp !== null && typeof temp !== \"undefined\") {   \n               temp.time = new Date(temp.create_time).format(\"yyyy-MM-dd hh:mm:ss\") \n               transformationAuthority(temp.targetList)\n             }    \n          });\n        }\n      }).catch();\n    \n    //从网络获取部门\n     getDeptList().then((response) => {\n        console.log(\"######## department list =========> ####### \" + JSON.stringify(response));\n         if(response.data.length > 0) {\n           this.department = response.data\n          }\n      }).catch();\n\n    //this.department = getDeptList() \n  },\n\n  data() {\n    return {\n      alert:false,\n      alertMessage:\"\",\n      addSuccessText:\"添加模板成功\",\n      updateSuccessText:\"更新模板成功\",\n      deleteSuccessText:\"删除模板成功\",\n      deleteSuccessFailedText:\"删除模板失败,请稍后再试...\",\n      cautionText:\"\",\n      timeout:3000,\n      caution:false,\n      dialog: false,\n      dialogDelete: false,\n      editAuthority: false,\n      submiting:false,\n      headers: [\n        {\n          text: \"权限名称\",\n          align: \"start\",\n          sortable: true,\n          value: \"templateName\",\n        },\n        { text: \"权限描述\", value: \"desc\" },\n        // { text: '包含权限', value: 'authority' },\n        { text: \"包含部门\", value: \"oemList\" },\n        { text: \"发布时间\", value: \"time\" },\n        { text: \"操作\", value: \"actions\", sortable: true },\n      ],\n\n      templateList: [],\n      template:{},\n      department:[],\n      //======  分割线=======\n      editedIndex: -1,\n      editedItem: {\n        name: \"\",\n        description: \"\",\n        authority: [],\n        roles: \"\",\n      },\n      selection: [],\n    };\n  },\n\n  //加载页面时设置添加和编辑标题\n  computed: {\n\n  },\n\n  //监视对话框\n  watch: {\n    editAuthority() {\n      //编辑对话框已关闭。清理数据\n      if(this.editAuthority === false) {\n        //清理资源。\n          this.template = {}\n          // alert(\"result = \"+result+\" v \"+v + \"  \"+h)\n      }\n    },\n  },\n\n  //页面第一次加载时,调用初始化方法\n  created() {\n    \n  },\n\n  methods: {\n\n    notifiyUser(item) {\n      this.$refs.deldialog.confirm(\"确定删除此模板吗?\")\n        .then(() => this.onDeleteTemplate(item))\n        .catch(() => {});      \n    },\n    \n    onDeleteTemplate(item) {\n      this.submiting = true;\n      deleteTemplate(item).then((response) => {\n        this.submiting = false;\n        console.log(\"delete template result ==> \" + JSON.stringify(response));\n        if(response != null && typeof response.code !== \"undefined\" && response.code === 0) {\n          this.deleteItem(item.templateId)\n          this.alert = true;\n          this.alertMessage = this.deleteSuccessText;\n          setTimeout(() => {this.alert = false }, 1500);\n        }else {\n        this.submiting = false;\n        this.cautionText = this.deleteSuccessFailedText;\n        this.caution = true;\n        }\n      }).catch(e => {\n        console.log(\"on delete error \"+e)\n        this.submiting = false;\n        this.cautionText = this.deleteSuccessFailedText;\n        this.caution = true;\n      });\n    },\n\n    //编辑权限\n    editItem(item) {\n      this.template = item;\n      this.editAuthority=true; \n      console.log(JSON.stringify(item))\n    },\n\n    onEditAuthorityTemplateResult(result,type){   \n      if(type === \"add\") {\n        this.templateList.unshift(result)\n      }else if(type === \"update\") {\n        //1.找到数组里这个元素\n        //2.删除这个元素\n        //3.在把新的数据插入\n        // 有更好的javascript方法吗？\n        let delSucc = this.deleteItem(result.templateId)      \n        if(delSucc) {\n          this.templateList.unshift(result)\n        }     \n      }\n      this.alertMessage = type === \"add\" ? this.addSuccessText : this.updateSuccessText\n      this.alert = true;\n      setTimeout(() => {this.alert = false }, 1500);\n    },\n\n    deleteItem(targetTemplateId) {\n      console.log(\"delete local template ID : [\"+targetTemplateId+\"]\")\n      let index = this.templateList.findIndex(v => v.templateId === targetTemplateId);     \n      // for(let i=0; i<this.templateList.length; i++) {\n      //   this.templateList[i].templateId === targetTemplateId;\n      //   index = i;\n      //   break;\n      // }\n      //alert(\"finnd index is \"+index)\n      if(index !== -1) {\n          this.templateList.splice(index,1)\n          return true;\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n</style>"],"sourceRoot":"src/views/page"}]}