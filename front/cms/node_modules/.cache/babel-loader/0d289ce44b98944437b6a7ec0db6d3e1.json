{"remainingRequest":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/views/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/views/login.vue","mtime":1689751051730},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2xpdWd1YW5naHVpL0RvY3VtZW50cy9JSVQvMjAyMyBzdW1tYXJ5IGNvdXJzZS9paXQtcHJvamVjdC9JSVQtQ01TL2Zyb250L2Ntcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRVc2VySW5mbyB9IGZyb20gIkAvYXBpL2dldERhdGEuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJTZWxlY3RQb3NpdGlvbjoge30sCiAgICAgIGNhcnJ5b3ZlclBvc2l0aW9uOiBbXSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgbG9hZGluZ0Vycm9yOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IGZ1bmN0aW9uIExvYWRpbmcoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4vbG9naW5Mb2FkaW5nLnZ1ZSIpOwogICAgfSwKICAgIExvZ2luRXJyb3I6IGZ1bmN0aW9uIExvZ2luRXJyb3IoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9iYXNlL2Vycm9yLXZpZXcudnVlIik7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGF1dGhvcml6YXRpb24gPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgIGNvbnNvbGUubG9nKCJhdXRob3JpemF0aW9uID09PT0+ICIgKyBKU09OLnN0cmluZ2lmeShhdXRob3JpemF0aW9uKSk7CiAgICBjb25zb2xlLmxvZyhhdXRob3JpemF0aW9uKTsKICAgIHRoaXMudG9JbmRleFBhZ2UoKTsgLy8gcmV0dXJuOwogICAgLy8gaWYgKGF1dGhvcml6YXRpb24gPT0gbnVsbCB8fCB0eXBlb2YgYXV0aG9yaXphdGlvbiA9PSAidW5kZWZpbmVkIikgewogICAgLy8gICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlci5sb2dpblN0YXR1cykgewogICAgLy8gICAgIHRoaXMudG9JbmRleFBhZ2UoKTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIC8vICAgICB0aGlzLmxvYWRpbmdFcnJvciA9IHRydWU7CiAgICAvLyAgIH0KICAgIC8vICAgcmV0dXJuOwogICAgLy8gfQogICAgLy8gdGhpcy4kc3RvcmUuY29tbWl0KCJ1c2VyL3NldEF1dGhvcml6YXRpb24iLEpTT04uc3RyaW5naWZ5KGF1dGhvcml6YXRpb24pKTsKICAgIC8vIGdldFVzZXJJbmZvKCkKICAgIC8vICAgLnRoZW4oKHJlcykgPT4gewogICAgLy8gICAgIGNvbnNvbGUubG9nKCJ1c2VyaW5mbz09PT09PiIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgIC8vICAgICBpZiAocmVzID09IG51bGwgfHwgdHlwZW9mIHJlcyA9PSAidW5kZWZpbmVkIiB8fCByZXMuY29kZSAhPSAwKSB7CiAgICAvLyAgICAgICBjb25zb2xlLmxvZygiIGNvZGUgbXliYXkgbnVsbCAiK3Jlcy5jb2RlKQogICAgLy8gICAgICAgdGhpcy5sb2FkaW5nRXJyb3IgPSB0cnVlOwogICAgLy8gICAgIH0gZWxzZSBpZihyZXMuZGF0YS5wb3NpdGlvbkxpc3QgPT09IG51bGwgfHwgdHlwZW9mIHJlcy5kYXRhLnBvc2l0aW9uTGlzdCA9PT0gInVuZGVmaW5lZCIgfHwgcmVzLmRhdGEucG9zaXRpb25MaXN0Lmxlbmd0aCA9PT0gMCkgeyAKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCJ1c2VyIHBvc2l0aW9uIGlzIG51bGwgPT09ID4iK0pTT04uc3RyaW5naWZ5KHJlcy5kYXRhLnVzZXJJbmZvLnBvc2l0aW9uTGlzdCkpCiAgICAvLyAgICAgICB0aGlzLmxvYWRpbmdFcnJvciA9IHRydWU7CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCI9PT0gZW50ZXIgbWFpbiBwYWdlID09PSIpCiAgICAvLyAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInVzZXIvc2V0VXNlciIsIHJlcy5kYXRhKTsgIAogICAgLy8gICAgICAgbGV0IHBvc2l0aW9uID0gcmVzLmRhdGEucG9zaXRpb25MaXN0OwogICAgLy8gICAgICAgY29uc29sZS5sb2coInVzZXIgcG9zaXRpb25zID09PT4gIitKU09OLnN0cmluZ2lmeShwb3NpdGlvbikpCiAgICAvLyAgICAgICBpZihwb3NpdGlvbi5sZW5ndGggPT09IDEpIHsKICAgIC8vICAgICAgICAgY29uc29sZS5sb2coIj09PSB1c2VyIGhhcyBvbmxlIG9uZSBwb3NpdGlvbiA9PT0iKQogICAgLy8gICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgLy8gICAgICAgICB0aGlzLnVzZXJTZWxlY3RQb3NpdGlvbiA9IHBvc2l0aW9uWzBdLmNvZGU7CiAgICAvLyAgICAgICAgIHRoaXMub25TZWxlY3RQb3NpdGlvbigpOyAgICAgCiAgICAvLyAgICAgICB9ZWxzZSB7CiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCI9PT0gdXNlciBoYXMgbWFueSBwb3NpdGlvbiA9PT0gIikKICAgIC8vICAgICAgICAgdGhpcy5jYXJyeW92ZXJQb3NpdGlvbiA9IHBvc2l0aW9uOwogICAgLy8gICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICAvLyAgICAgICB9IAogICAgLy8gICAgIH0KICAgIC8vICAgfSkKICAgIC8vICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgY29uc29sZS5sb2coIiBvbiBlcnJvciAiK0pTT04uc3RyaW5naWZ5KGUpKQogICAgLy8gICAgIHRoaXMubG9hZGluZ0Vycm9yID0gdHJ1ZTsKICAgIC8vICAgfSkKICAgIC8vICAgLmZpbmFsbHkoKCkgPT4gewogICAgLy8gICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgLy8gICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU2VsZWN0UG9zaXRpb246IGZ1bmN0aW9uIG9uU2VsZWN0UG9zaXRpb24oKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXNlci9zZXRQb3NpdGlvbiIsIHRoaXMudXNlclNlbGVjdFBvc2l0aW9uKTsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy50b0luZGV4UGFnZSgpOwogICAgfSwKICAgIHRvSW5kZXhQYWdlOiBmdW5jdGlvbiB0b0luZGV4UGFnZSgpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sidXNlci9nZXRJbmRleFBhZ2UiXTsKCiAgICAgIGlmIChpbmRleCAhPSBudWxsICYmIF90eXBlb2YoaW5kZXgpICE9IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGluZGV4LnBhdGgpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA,SAAA,WAAA,QAAA,kBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,kBAAA,EAAA,EADA;AAEA,MAAA,iBAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,KAHA;AAIA,MAAA,OAAA,EAAA,IAJA;AAKA,MAAA,YAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AAAA,aAAA,OAAA,oBAAA,CAAA;AAAA,KADA;AAEA,IAAA,UAAA,EAAA;AAAA,aAAA,OAAA,kCAAA,CAAA;AAAA;AAFA,GAVA;AAcA,EAAA,OAdA,qBAcA;AACA,QAAA,aAAA,GAAA,KAAA,MAAA,CAAA,KAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,yBAAA,IAAA,CAAA,SAAA,CAAA,aAAA,CAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,aAAA;AAEA,SAAA,WAAA,GALA,CAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAlEA;AAoEA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,8BACA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,KAAA,kBAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,WAAA;AACA,KALA;AAMA,IAAA,WANA,yBAMA;AACA,UAAA,KAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,mBAAA,CAAA;;AACA,UAAA,KAAA,IAAA,IAAA,IAAA,QAAA,KAAA,KAAA,SAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA;AACA;AACA;AAXA;AApEA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <loading v-if=\"loading\" />\n    <login-error v-if=\"loadingError\" />\n    <template>\n      <v-row justify=\"space-around\">\n        <v-col cols=\"auto\">\n          <v-dialog\n            persistent\n            scrollable\n            v-model=\"dialog\"\n            transition=\"dialog-bottom-transition\"\n            max-width=\"600\"\n          >\n            <template >\n              <v-card>\n                <v-toolbar\n                  color=\"primary\"\n                  dark\n                >请选择您登录MyMessage的角色</v-toolbar>\n                <v-card-text>\n                  <v-radio-group v-model=\"userSelectPosition\">\n                      <v-radio\n                        class=\"mt-0\"\n                        v-for=\"(item,index) in carryoverPosition\"\n                        :key=\"index\"\n                        :value=\"item.code\"\n                      >\n                      <template v-slot:label>\n                        <v-col>\n                        <strong class=\"primary--text\">{{`${item.jobName}`}}</strong>\n                        <v-divider class=\"mt-1\"/>  \n                        </v-col>\n                    </template>   \n                                  \n                      </v-radio>  \n                    </v-radio-group>\n                </v-card-text>\n                \n              <div style=\"margin-top: 24px; height: 60px;margin-bottom:15px\">\n                <v-btn\n                style=\"margin-left: 190px;\"\n                :disabled=\"JSON.stringify(userSelectPosition) === '{}'\"\n                  depressed color=\"#1867C0\"  \n                  class=\"white--text\"\n                  min-width=\"205px\"\n                  height=\"36px\"\n                  @click=\"onSelectPosition\"\n                >\n                  确认\n                </v-btn>\n            </div>     \n              </v-card>\n            </template>\n          </v-dialog>\n        </v-col>\n      </v-row>\n    </template>\n</v-app>\n</template>\n\n<script>\nimport { getUserInfo } from \"@/api/getData.js\";\nexport default {\n  data() {\n    return {\n      userSelectPosition:{},\n      carryoverPosition:[],\n      dialog:false,\n      loading: true,\n      loadingError: false,\n    };\n  },\n  components: {\n    Loading: () => import(\"./loginLoading.vue\"),\n    LoginError: () => import(\"@/components/base/error-view.vue\"),\n  },\n  mounted() {\n    let authorization = this.$route.query;\n    console.log(\"authorization ====> \"+JSON.stringify(authorization))\n    console.log(authorization)\n\n    this.toIndexPage();\n    // return;\n\n    // if (authorization == null || typeof authorization == \"undefined\") {\n    //   if (this.$store.state.user.loginStatus) {\n    //     this.toIndexPage();\n    //   } else {\n    //     this.loading = false;\n    //     this.loadingError = true;\n    //   }\n    //   return;\n    // }\n\n    // this.$store.commit(\"user/setAuthorization\",JSON.stringify(authorization));\n    // getUserInfo()\n    //   .then((res) => {\n    //     console.log(\"userinfo=====>\" + JSON.stringify(res));\n    //     if (res == null || typeof res == \"undefined\" || res.code != 0) {\n    //       console.log(\" code mybay null \"+res.code)\n    //       this.loadingError = true;\n    //     } else if(res.data.positionList === null || typeof res.data.positionList === \"undefined\" || res.data.positionList.length === 0) { \n    //       console.log(\"user position is null === >\"+JSON.stringify(res.data.userInfo.positionList))\n    //       this.loadingError = true;\n    //     } else {\n    //       console.log(\"=== enter main page ===\")\n    //       this.$store.commit(\"user/setUser\", res.data);  \n    //       let position = res.data.positionList;\n    //       console.log(\"user positions ===> \"+JSON.stringify(position))\n    //       if(position.length === 1) {\n    //         console.log(\"=== user has onle one position ===\")\n    //         this.dialog = false;\n    //         this.userSelectPosition = position[0].code;\n    //         this.onSelectPosition();     \n    //       }else {\n    //         console.log(\"=== user has many position === \")\n    //         this.carryoverPosition = position;\n    //         this.dialog = true;\n    //       } \n    //     }\n    //   })\n    //   .catch((e) => {\n    //     console.log(\" on error \"+JSON.stringify(e))\n    //     this.loadingError = true;\n    //   })\n    //   .finally(() => {\n    //     this.loading = false;\n    //   });\n  },\n\n  methods: {\n    onSelectPosition() {\n        this.$store.commit(\"user/setPosition\", this.userSelectPosition);\n        this.dialog = false;\n        this.toIndexPage();\n    },\n    toIndexPage(){\n      var index = this.$store.getters[\"user/getIndexPage\"]\n      if(index != null && typeof index != undefined){\n          this.$router.push(index.path);\n      } \n    }\n  },\n\n};\n</script>\n"],"sourceRoot":"src/views"}]}