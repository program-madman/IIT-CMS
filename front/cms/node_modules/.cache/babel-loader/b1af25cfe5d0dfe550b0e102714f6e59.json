{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vuetify/lib/components/VAutocomplete/VAutocomplete.js","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vuetify/lib/components/VAutocomplete/VAutocomplete.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2xpdWd1YW5naHVpL0RvY3VtZW50cy9jbXNfY29kZS9teS1tZXNzYWdlL2Ntcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKLy8gU3R5bGVzCmltcG9ydCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVkF1dG9jb21wbGV0ZS9WQXV0b2NvbXBsZXRlLnNhc3MiOyAvLyBFeHRlbnNpb25zCgppbXBvcnQgVlNlbGVjdCwgeyBkZWZhdWx0TWVudVByb3BzIGFzIFZTZWxlY3RNZW51UHJvcHMgfSBmcm9tICcuLi9WU2VsZWN0L1ZTZWxlY3QnOwppbXBvcnQgVlRleHRGaWVsZCBmcm9tICcuLi9WVGV4dEZpZWxkL1ZUZXh0RmllbGQnOyAvLyBVdGlsaXRpZXMKCmltcG9ydCBtZXJnZURhdGEgZnJvbSAnLi4vLi4vdXRpbC9tZXJnZURhdGEnOwppbXBvcnQgeyBnZXRPYmplY3RWYWx1ZUJ5UGF0aCwgZ2V0UHJvcGVydHlGcm9tSXRlbSwga2V5Q29kZXMgfSBmcm9tICcuLi8uLi91dGlsL2hlbHBlcnMnOwoKdmFyIGRlZmF1bHRNZW51UHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIFZTZWxlY3RNZW51UHJvcHMpLCB7fSwgewogIG9mZnNldFk6IHRydWUsCiAgb2Zmc2V0T3ZlcmZsb3c6IHRydWUsCiAgdHJhbnNpdGlvbjogZmFsc2UKfSk7Ci8qIEB2dWUvY29tcG9uZW50ICovCgoKZXhwb3J0IGRlZmF1bHQgVlNlbGVjdC5leHRlbmQoewogIG5hbWU6ICd2LWF1dG9jb21wbGV0ZScsCiAgcHJvcHM6IHsKICAgIGFsbG93T3ZlcmZsb3c6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGF1dG9TZWxlY3RGaXJzdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGZpbHRlcjogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoaXRlbSwgcXVlcnlUZXh0LCBpdGVtVGV4dCkgewogICAgICAgIHJldHVybiBpdGVtVGV4dC50b0xvY2FsZUxvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnlUZXh0LnRvTG9jYWxlTG93ZXJDYXNlKCkpID4gLTE7CiAgICAgIH0KICAgIH0sCiAgICBoaWRlTm9EYXRhOiBCb29sZWFuLAogICAgbWVudVByb3BzOiB7CiAgICAgIHR5cGU6IFZTZWxlY3Qub3B0aW9ucy5wcm9wcy5tZW51UHJvcHMudHlwZSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRNZW51UHJvcHM7CiAgICAgIH0KICAgIH0sCiAgICBub0ZpbHRlcjogQm9vbGVhbiwKICAgIHNlYXJjaElucHV0OiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhenlTZWFyY2g6IHRoaXMuc2VhcmNoSW5wdXQKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgVlNlbGVjdC5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSksIHt9LCB7CiAgICAgICAgJ3YtYXV0b2NvbXBsZXRlJzogdHJ1ZSwKICAgICAgICAndi1hdXRvY29tcGxldGUtLWlzLXNlbGVjdGluZy1pbmRleCc6IHRoaXMuc2VsZWN0ZWRJbmRleCA+IC0xCiAgICAgIH0pOwogICAgfSwKICAgIGNvbXB1dGVkSXRlbXM6IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkSXRlbXM7CiAgICB9LAogICAgc2VsZWN0ZWRWYWx1ZXM6IGZ1bmN0aW9uIHNlbGVjdGVkVmFsdWVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX3RoaXMuZ2V0VmFsdWUoaXRlbSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhc0Rpc3BsYXllZEl0ZW1zOiBmdW5jdGlvbiBoYXNEaXNwbGF5ZWRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5oaWRlU2VsZWN0ZWQgPyB0aGlzLmZpbHRlcmVkSXRlbXMuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhX3RoaXMyLmhhc0l0ZW0oaXRlbSk7CiAgICAgIH0pIDogdGhpcy5maWx0ZXJlZEl0ZW1zLmxlbmd0aCA+IDA7CiAgICB9LAogICAgY3VycmVudFJhbmdlOiBmdW5jdGlvbiBjdXJyZW50UmFuZ2UoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbSA9PSBudWxsKSByZXR1cm4gMDsKICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLmdldFRleHQodGhpcy5zZWxlY3RlZEl0ZW0pKS5sZW5ndGg7CiAgICB9LAogICAgZmlsdGVyZWRJdGVtczogZnVuY3Rpb24gZmlsdGVyZWRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaXNTZWFyY2hpbmcgfHwgdGhpcy5ub0ZpbHRlciB8fCB0aGlzLmludGVybmFsU2VhcmNoID09IG51bGwpIHJldHVybiB0aGlzLmFsbEl0ZW1zOwogICAgICByZXR1cm4gdGhpcy5hbGxJdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgdmFsdWUgPSBnZXRQcm9wZXJ0eUZyb21JdGVtKGl0ZW0sIF90aGlzMy5pdGVtVGV4dCk7CiAgICAgICAgdmFyIHRleHQgPSB2YWx1ZSAhPSBudWxsID8gU3RyaW5nKHZhbHVlKSA6ICcnOwogICAgICAgIHJldHVybiBfdGhpczMuZmlsdGVyKGl0ZW0sIFN0cmluZyhfdGhpczMuaW50ZXJuYWxTZWFyY2gpLCB0ZXh0KTsKICAgICAgfSk7CiAgICB9LAogICAgaW50ZXJuYWxTZWFyY2g6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubGF6eVNlYXJjaDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7CiAgICAgICAgLy8gZW1pdCB1cGRhdGUgZXZlbnQgb25seSB3aGVuIHRoZSBuZXcKICAgICAgICAvLyBzZWFyY2ggdmFsdWUgaXMgZGlmZmVyZW50IGZyb20gcHJldmlvdXMKICAgICAgICBpZiAodGhpcy5sYXp5U2VhcmNoICE9PSB2YWwpIHsKICAgICAgICAgIHRoaXMubGF6eVNlYXJjaCA9IHZhbDsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzZWFyY2gtaW5wdXQnLCB2YWwpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGlzQW55VmFsdWVBbGxvd2VkOiBmdW5jdGlvbiBpc0FueVZhbHVlQWxsb3dlZCgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGlzRGlydHk6IGZ1bmN0aW9uIGlzRGlydHkoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlYXJjaElzRGlydHkgfHwgdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDA7CiAgICB9LAogICAgaXNTZWFyY2hpbmc6IGZ1bmN0aW9uIGlzU2VhcmNoaW5nKCkgewogICAgICByZXR1cm4gdGhpcy5tdWx0aXBsZSAmJiB0aGlzLnNlYXJjaElzRGlydHkgfHwgdGhpcy5zZWFyY2hJc0RpcnR5ICYmIHRoaXMuaW50ZXJuYWxTZWFyY2ggIT09IHRoaXMuZ2V0VGV4dCh0aGlzLnNlbGVjdGVkSXRlbSk7CiAgICB9LAogICAgbWVudUNhblNob3c6IGZ1bmN0aW9uIG1lbnVDYW5TaG93KCkgewogICAgICBpZiAoIXRoaXMuaXNGb2N1c2VkKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0aGlzLmhhc0Rpc3BsYXllZEl0ZW1zIHx8ICF0aGlzLmhpZGVOb0RhdGE7CiAgICB9LAogICAgJF9tZW51UHJvcHM6IGZ1bmN0aW9uICRfbWVudVByb3BzKCkgewogICAgICB2YXIgcHJvcHMgPSBWU2VsZWN0Lm9wdGlvbnMuY29tcHV0ZWQuJF9tZW51UHJvcHMuY2FsbCh0aGlzKTsKICAgICAgcHJvcHMuY29udGVudENsYXNzID0gInYtYXV0b2NvbXBsZXRlX19jb250ZW50ICIuY29uY2F0KHByb3BzLmNvbnRlbnRDbGFzcyB8fCAnJykudHJpbSgpOwogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0TWVudVByb3BzKSwgcHJvcHMpOwogICAgfSwKICAgIHNlYXJjaElzRGlydHk6IGZ1bmN0aW9uIHNlYXJjaElzRGlydHkoKSB7CiAgICAgIHJldHVybiB0aGlzLmludGVybmFsU2VhcmNoICE9IG51bGwgJiYgdGhpcy5pbnRlcm5hbFNlYXJjaCAhPT0gJyc7CiAgICB9LAogICAgc2VsZWN0ZWRJdGVtOiBmdW5jdGlvbiBzZWxlY3RlZEl0ZW0oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHJldHVybiBudWxsOwogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LnZhbHVlQ29tcGFyYXRvcihfdGhpczQuZ2V0VmFsdWUoaSksIF90aGlzNC5nZXRWYWx1ZShfdGhpczQuaW50ZXJuYWxWYWx1ZSkpOwogICAgICB9KTsKICAgIH0sCiAgICBsaXN0RGF0YTogZnVuY3Rpb24gbGlzdERhdGEoKSB7CiAgICAgIHZhciBkYXRhID0gVlNlbGVjdC5vcHRpb25zLmNvbXB1dGVkLmxpc3REYXRhLmNhbGwodGhpcyk7CiAgICAgIGRhdGEucHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRhdGEucHJvcHMpLCB7fSwgewogICAgICAgIGl0ZW1zOiB0aGlzLnZpcnR1YWxpemVkSXRlbXMsCiAgICAgICAgbm9GaWx0ZXI6IHRoaXMubm9GaWx0ZXIgfHwgIXRoaXMuaXNTZWFyY2hpbmcgfHwgIXRoaXMuZmlsdGVyZWRJdGVtcy5sZW5ndGgsCiAgICAgICAgc2VhcmNoSW5wdXQ6IHRoaXMuaW50ZXJuYWxTZWFyY2gKICAgICAgfSk7CiAgICAgIHJldHVybiBkYXRhOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGZpbHRlcmVkSXRlbXM6ICdvbkZpbHRlcmVkSXRlbXNDaGFuZ2VkJywKICAgIGludGVybmFsVmFsdWU6ICdzZXRTZWFyY2gnLAogICAgaXNGb2N1c2VkOiBmdW5jdGlvbiBpc0ZvY3VzZWQodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb3B5JywgdGhpcy5vbkNvcHkpOwogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQgJiYgdGhpcy4kcmVmcy5pbnB1dC5zZWxlY3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5JywgdGhpcy5vbkNvcHkpOwogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQgJiYgdGhpcy4kcmVmcy5pbnB1dC5ibHVyKCk7CiAgICAgICAgdGhpcy51cGRhdGVTZWxmKCk7CiAgICAgIH0KICAgIH0sCiAgICBpc01lbnVBY3RpdmU6IGZ1bmN0aW9uIGlzTWVudUFjdGl2ZSh2YWwpIHsKICAgICAgaWYgKHZhbCB8fCAhdGhpcy5oYXNTbG90KSByZXR1cm47CiAgICAgIHRoaXMubGF6eVNlYXJjaCA9IG51bGw7CiAgICB9LAogICAgaXRlbXM6IGZ1bmN0aW9uIGl0ZW1zKHZhbCwgb2xkVmFsKSB7CiAgICAgIC8vIElmIHdlIGFyZSBmb2N1c2VkLCB0aGUgbWVudQogICAgICAvLyBpcyBub3QgYWN0aXZlLCBoaWRlIG5vIGRhdGEgaXMgZW5hYmxlZCwKICAgICAgLy8gYW5kIGl0ZW1zIGNoYW5nZQogICAgICAvLyBVc2VyIGlzIHByb2JhYmx5IGFzeW5jIGxvYWRpbmcKICAgICAgLy8gaXRlbXMsIHRyeSB0byBhY3RpdmF0ZSB0aGUgbWVudQogICAgICBpZiAoIShvbGRWYWwgJiYgb2xkVmFsLmxlbmd0aCkgJiYgdGhpcy5oaWRlTm9EYXRhICYmIHRoaXMuaXNGb2N1c2VkICYmICF0aGlzLmlzTWVudUFjdGl2ZSAmJiB2YWwubGVuZ3RoKSB0aGlzLmFjdGl2YXRlTWVudSgpOwogICAgfSwKICAgIHNlYXJjaElucHV0OiBmdW5jdGlvbiBzZWFyY2hJbnB1dCh2YWwpIHsKICAgICAgdGhpcy5sYXp5U2VhcmNoID0gdmFsOwogICAgfSwKICAgIGludGVybmFsU2VhcmNoOiAnb25JbnRlcm5hbFNlYXJjaENoYW5nZWQnLAogICAgaXRlbVRleHQ6ICd1cGRhdGVTZWxmJwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2V0U2VhcmNoKCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvcHknLCB0aGlzLm9uQ29weSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkZpbHRlcmVkSXRlbXNDaGFuZ2VkOiBmdW5jdGlvbiBvbkZpbHRlcmVkSXRlbXNDaGFuZ2VkKHZhbCwgb2xkVmFsKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgLy8gVE9ETzogSG93IGlzIHRoZSB3YXRjaGVyIHRyaWdnZXJlZAogICAgICAvLyBmb3IgZHVwbGljYXRlIGl0ZW1zPyBubyBpZGVhCiAgICAgIGlmICh2YWwgPT09IG9sZFZhbCkgcmV0dXJuOwogICAgICB0aGlzLnNldE1lbnVJbmRleCgtMSk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIV90aGlzNS5pbnRlcm5hbFNlYXJjaCB8fCB2YWwubGVuZ3RoICE9PSAxICYmICFfdGhpczUuYXV0b1NlbGVjdEZpcnN0KSByZXR1cm47CgogICAgICAgIF90aGlzNS4kcmVmcy5tZW51LmdldFRpbGVzKCk7CgogICAgICAgIF90aGlzNS5zZXRNZW51SW5kZXgoMCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uSW50ZXJuYWxTZWFyY2hDaGFuZ2VkOiBmdW5jdGlvbiBvbkludGVybmFsU2VhcmNoQ2hhbmdlZCgpIHsKICAgICAgdGhpcy51cGRhdGVNZW51RGltZW5zaW9ucygpOwogICAgfSwKICAgIHVwZGF0ZU1lbnVEaW1lbnNpb25zOiBmdW5jdGlvbiB1cGRhdGVNZW51RGltZW5zaW9ucygpIHsKICAgICAgLy8gVHlwZSBmcm9tIG1lbnVhYmxlIGlzIG5vdCBtYWtpbmcgaXQgdGhyb3VnaAogICAgICB0aGlzLmlzTWVudUFjdGl2ZSAmJiB0aGlzLiRyZWZzLm1lbnUgJiYgdGhpcy4kcmVmcy5tZW51LnVwZGF0ZURpbWVuc2lvbnMoKTsKICAgIH0sCiAgICBjaGFuZ2VTZWxlY3RlZEluZGV4OiBmdW5jdGlvbiBjaGFuZ2VTZWxlY3RlZEluZGV4KGtleUNvZGUpIHsKICAgICAgLy8gRG8gbm90IGFsbG93IGNoYW5naW5nIG9mIHNlbGVjdGVkSW5kZXgKICAgICAgLy8gd2hlbiBzZWFyY2ggaXMgZGlydHkKICAgICAgaWYgKHRoaXMuc2VhcmNoSXNEaXJ0eSkgcmV0dXJuOwoKICAgICAgaWYgKHRoaXMubXVsdGlwbGUgJiYga2V5Q29kZSA9PT0ga2V5Q29kZXMubGVmdCkgewogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPT09IC0xKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoIC0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4LS07CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMubXVsdGlwbGUgJiYga2V5Q29kZSA9PT0ga2V5Q29kZXMucmlnaHQpIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID49IHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4Kys7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IGtleUNvZGVzLmJhY2tzcGFjZSB8fCBrZXlDb2RlID09PSBrZXlDb2Rlcy5kZWxldGUpIHsKICAgICAgICB0aGlzLmRlbGV0ZUN1cnJlbnRJdGVtKCk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVDdXJyZW50SXRlbTogZnVuY3Rpb24gZGVsZXRlQ3VycmVudEl0ZW0oKSB7CiAgICAgIHZhciBjdXJJbmRleCA9IHRoaXMuc2VsZWN0ZWRJbmRleDsKICAgICAgdmFyIGN1ckl0ZW0gPSB0aGlzLnNlbGVjdGVkSXRlbXNbY3VySW5kZXhdOyAvLyBEbyBub3RoaW5nIGlmIGlucHV0IG9yIGl0ZW0gaXMgZGlzYWJsZWQKCiAgICAgIGlmICghdGhpcy5pc0ludGVyYWN0aXZlIHx8IHRoaXMuZ2V0RGlzYWJsZWQoY3VySXRlbSkpIHJldHVybjsKICAgICAgdmFyIGxhc3RJbmRleCA9IHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGggLSAxOyAvLyBTZWxlY3QgdGhlIGxhc3QgaXRlbSBpZgogICAgICAvLyB0aGVyZSBpcyBubyBzZWxlY3Rpb24KCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPT09IC0xICYmIGxhc3RJbmRleCAhPT0gMCkgewogICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGxhc3RJbmRleDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBsZW5ndGggPSB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoOwogICAgICB2YXIgbmV4dEluZGV4ID0gY3VySW5kZXggIT09IGxlbmd0aCAtIDEgPyBjdXJJbmRleCA6IGN1ckluZGV4IC0gMTsKICAgICAgdmFyIG5leHRJdGVtID0gdGhpcy5zZWxlY3RlZEl0ZW1zW25leHRJbmRleF07CgogICAgICBpZiAoIW5leHRJdGVtKSB7CiAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLm11bHRpcGxlID8gW10gOiBudWxsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdEl0ZW0oY3VySXRlbSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IG5leHRJbmRleDsKICAgIH0sCiAgICBjbGVhcmFibGVDYWxsYmFjazogZnVuY3Rpb24gY2xlYXJhYmxlQ2FsbGJhY2soKSB7CiAgICAgIHRoaXMuaW50ZXJuYWxTZWFyY2ggPSBudWxsOwogICAgICBWU2VsZWN0Lm9wdGlvbnMubWV0aG9kcy5jbGVhcmFibGVDYWxsYmFjay5jYWxsKHRoaXMpOwogICAgfSwKICAgIGdlbklucHV0OiBmdW5jdGlvbiBnZW5JbnB1dCgpIHsKICAgICAgdmFyIGlucHV0ID0gVlRleHRGaWVsZC5vcHRpb25zLm1ldGhvZHMuZ2VuSW5wdXQuY2FsbCh0aGlzKTsKICAgICAgaW5wdXQuZGF0YSA9IG1lcmdlRGF0YShpbnB1dC5kYXRhLCB7CiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnOiBnZXRPYmplY3RWYWx1ZUJ5UGF0aCh0aGlzLiRyZWZzLm1lbnUsICdhY3RpdmVUaWxlLmlkJyksCiAgICAgICAgICBhdXRvY29tcGxldGU6IGdldE9iamVjdFZhbHVlQnlQYXRoKGlucHV0LmRhdGEsICdhdHRycy5hdXRvY29tcGxldGUnLCAnb2ZmJykKICAgICAgICB9LAogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICB2YWx1ZTogdGhpcy5pbnRlcm5hbFNlYXJjaAogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBpbnB1dDsKICAgIH0sCiAgICBnZW5JbnB1dFNsb3Q6IGZ1bmN0aW9uIGdlbklucHV0U2xvdCgpIHsKICAgICAgdmFyIHNsb3QgPSBWU2VsZWN0Lm9wdGlvbnMubWV0aG9kcy5nZW5JbnB1dFNsb3QuY2FsbCh0aGlzKTsKICAgICAgc2xvdC5kYXRhLmF0dHJzLnJvbGUgPSAnY29tYm9ib3gnOwogICAgICByZXR1cm4gc2xvdDsKICAgIH0sCiAgICBnZW5TZWxlY3Rpb25zOiBmdW5jdGlvbiBnZW5TZWxlY3Rpb25zKCkgewogICAgICByZXR1cm4gdGhpcy5oYXNTbG90IHx8IHRoaXMubXVsdGlwbGUgPyBWU2VsZWN0Lm9wdGlvbnMubWV0aG9kcy5nZW5TZWxlY3Rpb25zLmNhbGwodGhpcykgOiBbXTsKICAgIH0sCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHsKICAgICAgaWYgKCF0aGlzLmlzSW50ZXJhY3RpdmUpIHJldHVybjsKICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID4gLTEgPyB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMSA6IHRoaXMub25Gb2N1cygpOwogICAgICBpZiAoIXRoaXMuaXNBcHBlbmRJbm5lcihlLnRhcmdldCkpIHRoaXMuYWN0aXZhdGVNZW51KCk7CiAgICB9LAogICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dChlKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPiAtMSB8fCAhZS50YXJnZXQpIHJldHVybjsKICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0OwogICAgICB2YXIgdmFsdWUgPSB0YXJnZXQudmFsdWU7IC8vIElmIHR5cGluZyBhbmQgbWVudSBpcyBub3QgY3VycmVudGx5IGFjdGl2ZQoKICAgICAgaWYgKHRhcmdldC52YWx1ZSkgdGhpcy5hY3RpdmF0ZU1lbnUoKTsKICAgICAgdGhpcy5pbnRlcm5hbFNlYXJjaCA9IHZhbHVlOwogICAgICB0aGlzLmJhZElucHV0ID0gdGFyZ2V0LnZhbGlkaXR5ICYmIHRhcmdldC52YWxpZGl0eS5iYWRJbnB1dDsKICAgIH0sCiAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7CiAgICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlOwoKICAgICAgaWYgKGUuY3RybEtleSB8fCAhW2tleUNvZGVzLmhvbWUsIGtleUNvZGVzLmVuZF0uaW5jbHVkZXMoa2V5Q29kZSkpIHsKICAgICAgICBWU2VsZWN0Lm9wdGlvbnMubWV0aG9kcy5vbktleURvd24uY2FsbCh0aGlzLCBlKTsKICAgICAgfSAvLyBUaGUgb3JkZXJpbmcgaXMgaW1wb3J0YW50IGhlcmUKICAgICAgLy8gYWxsb3dzIG5ldyB2YWx1ZSB0byBiZSB1cGRhdGVkCiAgICAgIC8vIGFuZCB0aGVuIG1vdmVzIHRoZSBpbmRleCB0byB0aGUKICAgICAgLy8gcHJvcGVyIGxvY2F0aW9uCgoKICAgICAgdGhpcy5jaGFuZ2VTZWxlY3RlZEluZGV4KGtleUNvZGUpOwogICAgfSwKICAgIG9uU3BhY2VEb3duOiBmdW5jdGlvbiBvblNwYWNlRG93bihlKSB7fSwKICAgIG9uVGFiRG93bjogZnVuY3Rpb24gb25UYWJEb3duKGUpIHsKICAgICAgVlNlbGVjdC5vcHRpb25zLm1ldGhvZHMub25UYWJEb3duLmNhbGwodGhpcywgZSk7CiAgICAgIHRoaXMudXBkYXRlU2VsZigpOwogICAgfSwKICAgIG9uVXBEb3duOiBmdW5jdGlvbiBvblVwRG93bihlKSB7CiAgICAgIC8vIFByZXZlbnQgc2NyZWVuIGZyb20gc2Nyb2xsaW5nCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gRm9yIGF1dG9jb21wbGV0ZSAvIGNvbWJvYm94LCBjeWNsaW5nCiAgICAgIC8vIGludGVyZmVycyB3aXRoIG5hdGl2ZSB1cC9kb3duIGJlaGF2aW9yCiAgICAgIC8vIGluc3RlYWQgYWN0aXZhdGUgdGhlIG1lbnUKCiAgICAgIHRoaXMuYWN0aXZhdGVNZW51KCk7CiAgICB9LAogICAgc2VsZWN0SXRlbTogZnVuY3Rpb24gc2VsZWN0SXRlbShpdGVtKSB7CiAgICAgIFZTZWxlY3Qub3B0aW9ucy5tZXRob2RzLnNlbGVjdEl0ZW0uY2FsbCh0aGlzLCBpdGVtKTsKICAgICAgdGhpcy5zZXRTZWFyY2goKTsKICAgIH0sCiAgICBzZXRTZWxlY3RlZEl0ZW1zOiBmdW5jdGlvbiBzZXRTZWxlY3RlZEl0ZW1zKCkgewogICAgICBWU2VsZWN0Lm9wdGlvbnMubWV0aG9kcy5zZXRTZWxlY3RlZEl0ZW1zLmNhbGwodGhpcyk7IC8vICM0MjczIERvbid0IHJlcGxhY2UgaWYgc2VhcmNoaW5nCiAgICAgIC8vICM0NDAzIERvbid0IHJlcGxhY2UgaWYgZm9jdXNlZAoKICAgICAgaWYgKCF0aGlzLmlzRm9jdXNlZCkgdGhpcy5zZXRTZWFyY2goKTsKICAgIH0sCiAgICBzZXRTZWFyY2g6IGZ1bmN0aW9uIHNldFNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICAvLyBXYWl0IGZvciBuZXh0VGljayBzbyBzZWxlY3RlZEl0ZW0KICAgICAgLy8gaGFzIGhhZCB0aW1lIHRvIHVwZGF0ZQogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFfdGhpczYubXVsdGlwbGUgfHwgIV90aGlzNi5pbnRlcm5hbFNlYXJjaCB8fCAhX3RoaXM2LmlzTWVudUFjdGl2ZSkgewogICAgICAgICAgX3RoaXM2LmludGVybmFsU2VhcmNoID0gIV90aGlzNi5zZWxlY3RlZEl0ZW1zLmxlbmd0aCB8fCBfdGhpczYubXVsdGlwbGUgfHwgX3RoaXM2Lmhhc1Nsb3QgPyBudWxsIDogX3RoaXM2LmdldFRleHQoX3RoaXM2LnNlbGVjdGVkSXRlbSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVTZWxmOiBmdW5jdGlvbiB1cGRhdGVTZWxmKCkgewogICAgICBpZiAoIXRoaXMuc2VhcmNoSXNEaXJ0eSAmJiAhdGhpcy5pbnRlcm5hbFZhbHVlKSByZXR1cm47CgogICAgICBpZiAoIXRoaXMubXVsdGlwbGUgJiYgIXRoaXMudmFsdWVDb21wYXJhdG9yKHRoaXMuaW50ZXJuYWxTZWFyY2gsIHRoaXMuZ2V0VmFsdWUodGhpcy5pbnRlcm5hbFZhbHVlKSkpIHsKICAgICAgICB0aGlzLnNldFNlYXJjaCgpOwogICAgICB9CiAgICB9LAogICAgaGFzSXRlbTogZnVuY3Rpb24gaGFzSXRlbShpdGVtKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkVmFsdWVzLmluZGV4T2YodGhpcy5nZXRWYWx1ZShpdGVtKSkgPiAtMTsKICAgIH0sCiAgICBvbkNvcHk6IGZ1bmN0aW9uIG9uQ29weShldmVudCkgewogICAgICB2YXIgX2V2ZW50JGNsaXBib2FyZERhdGEsIF9ldmVudCRjbGlwYm9hcmREYXRhMjsKCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPT09IC0xKSByZXR1cm47CiAgICAgIHZhciBjdXJyZW50SXRlbSA9IHRoaXMuc2VsZWN0ZWRJdGVtc1t0aGlzLnNlbGVjdGVkSW5kZXhdOwogICAgICB2YXIgY3VycmVudEl0ZW1UZXh0ID0gdGhpcy5nZXRUZXh0KGN1cnJlbnRJdGVtKTsKICAgICAgKF9ldmVudCRjbGlwYm9hcmREYXRhID0gZXZlbnQuY2xpcGJvYXJkRGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ldmVudCRjbGlwYm9hcmREYXRhLnNldERhdGEoJ3RleHQvcGxhaW4nLCBjdXJyZW50SXRlbVRleHQpOwogICAgICAoX2V2ZW50JGNsaXBib2FyZERhdGEyID0gZXZlbnQuY2xpcGJvYXJkRGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ldmVudCRjbGlwYm9hcmREYXRhMi5zZXREYXRhKCd0ZXh0L3ZuZC52dWV0aWZ5LmF1dG9jb21wbGV0ZS5pdGVtK3BsYWluJywgY3VycmVudEl0ZW1UZXh0KTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIH0KICB9Cn0pOw=="},null]}