{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/eslint-loader/index.js??ref--13-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/utils/templateUtils.js","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/utils/templateUtils.js","mtime":1638846414770},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwpleHBvcnQgdmFyIHRyYW5zZm9ybWF0aW9uQXV0aG9yaXR5ID0gZnVuY3Rpb24gdHJhbnNmb3JtYXRpb25BdXRob3JpdHkoYXV0aG9yaXR5TGlzdCwgc2VsZWN0Q2hpbGQpIHsKICB2YXIgY2hpbGRyZW5BcnIgPSBbXTsKCiAgaWYgKGF1dGhvcml0eUxpc3QgIT09IG51bGwgJiYgdHlwZW9mIGF1dGhvcml0eUxpc3QgIT09ICJ1bmRlZmluZWQiKSB7CiAgICBhdXRob3JpdHlMaXN0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgaWYgKHYgIT0gbnVsbCAmJiB0eXBlb2YgdiAhPT0gInVuZGVmaW5lZCIgJiYgSlNPTi5zdHJpbmdpZnkodikgIT09ICJudWxsIikgewogICAgICAgIHYubmFtZSA9IHYubWVudU5hbWU7CiAgICAgICAgdi5sb2NrZWQgPSAhdi5pc0VuYWJsZTsKCiAgICAgICAgaWYgKHYuY2hpbGRyZW4gIT0gbnVsbCAmJiB0eXBlb2Ygdi5jaGlsZHJlbiAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHYuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykgewogICAgICAgICAgICBjLm5hbWUgPSBjLm1lbnVOYW1lOwogICAgICAgICAgICBjLmxvY2tlZCA9ICFjLmlzRW5hYmxlOwoKICAgICAgICAgICAgaWYgKHNlbGVjdENoaWxkICE9IG51bGwgJiYgdHlwZW9mIHNlbGVjdENoaWxkICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgIC8v5riF55CG5LiA5LiLc2VsZWN0Y2hpbGQKICAgICAgICAgICAgICBjb25zb2xlLmxvZygic2VsZWN0IGF1dGhvcml0eSBkZXB0ICA9PT09PiIgKyBKU09OLnN0cmluZ2lmeShzZWxlY3RDaGlsZCkpOwogICAgICAgICAgICAgIHNlbGVjdENoaWxkID0gc2VsZWN0Q2hpbGQuZmlsdGVyKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdiAhPT0gbnVsbCAmJiB0eXBlb2YgdiAhPT0gInVuZGVmaW5lZCIgJiYgSlNPTi5zdHJpbmdpZnkodikgIT09ICJudWxsIjsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gc2VsZWN0Q2hpbGQuZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5pZCA9PT0gYy5pZDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygicmVzdWx0IHNlbGVjdCBjaGlsZCAgPT09PT4iICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7CgogICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgYy5pc0NoZWNrID0gcmVzdWx0Lmxlbmd0aCA+IDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGNoaWxkcmVuQXJyID0gY2hpbGRyZW5BcnIuY29uY2F0KHYuY2hpbGRyZW4pOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gY2hpbGRyZW5BcnI7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/liuguanghui/Documents/cms_code/my-message/cms/src/utils/templateUtils.js"],"names":["transformationAuthority","authorityList","selectChild","childrenArr","forEach","v","JSON","stringify","name","menuName","locked","isEnable","children","c","console","log","filter","result","element","id","isCheck","length","concat"],"mappings":";;;;AACA,OAAO,IAAMA,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACC,aAAD,EAAgBC,WAAhB,EAAgC;AAErE,MAAIC,WAAW,GAAG,EAAlB;;AACA,MAAIF,aAAa,KAAK,IAAlB,IAA0B,OAAOA,aAAP,KAAyB,WAAvD,EAAoE;AAClEA,IAAAA,aAAa,CAACG,OAAd,CAAsB,UAAAC,CAAC,EAAI;AACzB,UAAIA,CAAC,IAAI,IAAL,IAAa,OAAOA,CAAP,KAAa,WAA1B,IAAyCC,IAAI,CAACC,SAAL,CAAeF,CAAf,MAAsB,MAAnE,EAA2E;AACzEA,QAAAA,CAAC,CAACG,IAAF,GAASH,CAAC,CAACI,QAAX;AACAJ,QAAAA,CAAC,CAACK,MAAF,GAAW,CAACL,CAAC,CAACM,QAAd;;AACA,YAAIN,CAAC,CAACO,QAAF,IAAc,IAAd,IAAsB,OAAOP,CAAC,CAACO,QAAT,KAAsB,WAAhD,EAA6D;AAC3DP,UAAAA,CAAC,CAACO,QAAF,CAAWR,OAAX,CAAmB,UAAAS,CAAC,EAAI;AACtBA,YAAAA,CAAC,CAACL,IAAF,GAASK,CAAC,CAACJ,QAAX;AACAI,YAAAA,CAAC,CAACH,MAAF,GAAW,CAACG,CAAC,CAACF,QAAd;;AACA,gBAAIT,WAAW,IAAI,IAAf,IAAuB,OAAOA,WAAP,KAAuB,WAAlD,EAA+D;AAC7D;AACAY,cAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiCT,IAAI,CAACC,SAAL,CAAeL,WAAf,CAA7C;AACAA,cAAAA,WAAW,GAAGA,WAAW,CAACc,MAAZ,CAAmB,UAAAX,CAAC;AAAA,uBAAIA,CAAC,KAAK,IAAN,IAAc,OAAOA,CAAP,KAAa,WAA3B,IAA0CC,IAAI,CAACC,SAAL,CAAeF,CAAf,MAAsB,MAApE;AAAA,eAApB,CAAd;AACA,kBAAIY,MAAM,GAAGf,WAAW,CAACc,MAAZ,CAAmB,UAACE,OAAD;AAAA,uBAAaA,OAAO,CAACC,EAAR,KAAeN,CAAC,CAACM,EAA9B;AAAA,eAAnB,CAAb;AACAL,cAAAA,OAAO,CAACC,GAAR,CAAY,+BAA+BT,IAAI,CAACC,SAAL,CAAeU,MAAf,CAA3C;;AACA,kBAAI,OAAOA,MAAP,KAAkB,WAAtB,EAAmC;AACjCJ,gBAAAA,CAAC,CAACO,OAAF,GAAYH,MAAM,CAACI,MAAP,GAAgB,CAA5B;AACD;AACF;AACF,WAbD;AAcAlB,UAAAA,WAAW,GAAGA,WAAW,CAACmB,MAAZ,CAAmBjB,CAAC,CAACO,QAArB,CAAd;AACD;AACF;AACF,KAtBD;AAuBA,WAAOT,WAAP;AACD;AAEF,CA9BM","sourcesContent":["\nexport const transformationAuthority = (authorityList, selectChild) => {\n\n  let childrenArr = [];\n  if (authorityList !== null && typeof authorityList !== \"undefined\") {\n    authorityList.forEach(v => {\n      if (v != null && typeof v !== \"undefined\" && JSON.stringify(v) !== \"null\") {\n        v.name = v.menuName;\n        v.locked = !v.isEnable;\n        if (v.children != null && typeof v.children !== \"undefined\") {\n          v.children.forEach(c => {\n            c.name = c.menuName;\n            c.locked = !c.isEnable\n            if (selectChild != null && typeof selectChild !== \"undefined\") {\n              //清理一下selectchild\n              console.log(\"select authority dept  ====>\" + JSON.stringify(selectChild))\n              selectChild = selectChild.filter(v => v !== null && typeof v !== \"undefined\" && JSON.stringify(v) !== \"null\")\n              let result = selectChild.filter((element) => element.id === c.id)\n              console.log(\"result select child  ====>\" + JSON.stringify(result))\n              if (typeof result !== \"undefined\") {\n                c.isCheck = result.length > 0;\n              }\n            }\n          })\n          childrenArr = childrenArr.concat(v.children)\n        }\n      }\n    });\n    return childrenArr;\n  }\n\n}"]}]}