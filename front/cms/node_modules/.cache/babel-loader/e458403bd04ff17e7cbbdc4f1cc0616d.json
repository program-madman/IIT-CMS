{"remainingRequest":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/eslint-loader/index.js??ref--13-0!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/store/modules/user.js","dependencies":[{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/store/modules/user.js","mtime":1690270189997},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgeyBtZW51cyB9IGZyb20gIi4vbWVudS5qcyI7CnZhciBzdGF0ZSA9IHsKICBhdXRob3JpemF0aW9uOiBudWxsLAogIGxvZ2luU3RhdHVzOiBmYWxzZSwKICB1c2VySW5mbzogewogICAgdG9rZW46IG51bGwsCiAgICBuYW1lOiAiIiwKICAgIHJvbGU6IG51bGwsCiAgICB1c2VySWQ6ICIiLAogICAgcG9zaXRpb25OYW1lOiAiIiwKICAgIG1lbnVMaXN0OiBbXSwKICAgIGRlcGFydG1lbnQ6ICIiCiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIHVzZXIpIHsKICAgIC8vIOWPmOabtOeKtuaAgQogICAgc3RhdGUudXNlckluZm8gPSB1c2VyOwogICAgc3RhdGUubG9naW5TdGF0dXMgPSB0cnVlOyAvL3RoaXMuc3RvcmVTZXNzaW9uKHN0YXRlKTsKICB9LAogIHNldEF1dGhvcml6YXRpb246IGZ1bmN0aW9uIHNldEF1dGhvcml6YXRpb24oc3RhdGUsIGF1dGhvcml6YXRpb24pIHsKICAgIHN0YXRlLmF1dGhvcml6YXRpb24gPSBhdXRob3JpemF0aW9uOwogIH0sCiAgc2V0UG9zaXRpb246IGZ1bmN0aW9uIHNldFBvc2l0aW9uKHN0YXRlLCBwb3NpdGlvbikgewogICAgc3RhdGUucG9zaXRpb24gPSBwb3NpdGlvbjsKICB9LAogIHNldFRpY2tldDogZnVuY3Rpb24gc2V0VGlja2V0KHN0YXRlLCB0aWNrZXQpIHsKICAgIHN0YXRlLnRpY2tldCA9IHRpY2tldDsKICB9LAogIHNldFRpY2tldEV4cGlyZVRpbWU6IGZ1bmN0aW9uIHNldFRpY2tldEV4cGlyZVRpbWUoc3RhdGUsIGV4cGlyZVRpbWUpIHsKICAgIHN0YXRlLmV4cGlyZVRpbWUgPSBleHBpcmVUaW1lOwogIH0sCiAgc3RvcmVTZXNzaW9uOiBmdW5jdGlvbiBzdG9yZVNlc3Npb24oc3RhdGUpIHsKICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImF1dGhvcml6YXRpb24iLCBlc2NhcGUoc3RhdGUuYXV0aG9yaXphdGlvbikpOwogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlckluZm8iLCBlc2NhcGUoSlNPTi5zdHJpbmdpZnkoc3RhdGUudXNlckluZm8pKSk7CiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJwb3NpdGlvbiIsIGVzY2FwZShzdGF0ZS5wb3NpdGlvbikpOwogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidGlja2V0IiwgZXNjYXBlKHN0YXRlLnRpY2tldCkpOwogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiZXhwaXJldGltZSIsIGVzY2FwZShzdGF0ZS5leHBpcmVUaW1lKSk7CiAgfSwKICByZXNldERhdGFGcm9tU2Vzc2lvbjogZnVuY3Rpb24gcmVzZXREYXRhRnJvbVNlc3Npb24oc3RhdGUpIHsKICAgIHZhciB1c2VySW5mbyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIik7IC8vIGNvbnNvbGUuZGVidWcoIj09PT09PT09PT09PT09PT09PiIrdXNlckluZm8pCgogICAgaWYgKHVzZXJJbmZvID09IG51bGwgfHwgdHlwZW9mIHVzZXJJbmZvID09ICJ1bmRlZmluZWQiKSByZXR1cm47CiAgICBzdGF0ZS5sb2dpblN0YXR1cyA9IHRydWU7CiAgICBzdGF0ZS5hdXRob3JpemF0aW9uID0gdW5lc2NhcGUoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXV0aG9yaXphdGlvbiIpKTsKICAgIHN0YXRlLnBvc2l0aW9uID0gdW5lc2NhcGUoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgicG9zaXRpb24iKSk7CiAgICBzdGF0ZS50aWNrZXQgPSB1bmVzY2FwZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0aWNrZXQiKSk7CiAgICBzdGF0ZS5leHBpcmVUaW1lID0gdW5lc2NhcGUoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiZXhwaXJldGltZSIpKTsKICAgIHN0YXRlLnVzZXJJbmZvID0gSlNPTi5wYXJzZSh1bmVzY2FwZSh1c2VySW5mbykpOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7fTsKdmFyIGdldHRlcnMgPSB7CiAgaGFzRWRpdFBlcm1pc3Npb246IGZ1bmN0aW9uIGhhc0VkaXRQZXJtaXNzaW9uKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlckluZm8ubWVudUxpc3QuaW5kZXhPZigyMSkgPj0gMDsKICB9LAogIHBlcm1pc3Npb25MaXN0OiBmdW5jdGlvbiBwZXJtaXNzaW9uTGlzdChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXJJbmZvLm1lbnVMaXN0OwogIH0sCiAgZ2V0SW5kZXhQYWdlOiBmdW5jdGlvbiBnZXRJbmRleFBhZ2Uoc3RhdGUpIHsKICAgIHZhciBtZW51ID0gc3RhdGUudXNlckluZm8ubWVudUxpc3Q7CiAgICBtZW51LnNvcnQoKTsKICAgIHZhciBpbmRleCA9IG1lbnUuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtID4gMTAgJiYgaXRlbSA8IDIxOwogICAgfSk7CiAgICBpZiAoaW5kZXggPCAwKSByZXR1cm4gbnVsbDsKICAgIHJldHVybiBtZW51c1ttZW51W2luZGV4XV07CiAgfQp9OyAvL+aKinN0YXRlLCBtdXRhdGlvbnPnrYnmmrTpnLLlh7rljrvjgIIKCmV4cG9ydCBkZWZhdWx0IHsKICAvL+mcgOimgeWRveWQjeepuumXtAogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/store/modules/user.js"],"names":["menus","state","authorization","loginStatus","userInfo","token","name","role","userId","positionName","menuList","department","mutations","setUser","user","setAuthorization","setPosition","position","setTicket","ticket","setTicketExpireTime","expireTime","storeSession","sessionStorage","setItem","escape","JSON","stringify","resetDataFromSession","getItem","unescape","parse","actions","getters","hasEditPermission","indexOf","permissionList","getIndexPage","menu","sort","index","findIndex","item","namespaced"],"mappings":"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","sourcesContent":["import { menus } from \"./menu.js\"\nconst state = {\n  authorization: null,\n  loginStatus: false,\n  userInfo: {\n    token: null,\n    name: \"\",\n    role: null,\n    userId: \"\",\n    positionName: \"\",\n    menuList: [],\n    \n    department: \"\",\n    \n  }\n};\n\nconst mutations = {\n  setUser(state, user) {\n    // 变更状态\n    state.userInfo = user;\n    state.loginStatus = true;\n    //this.storeSession(state);\n  },\n  setAuthorization(state, authorization) {\n    state.authorization = authorization;\n  },\n  setPosition(state, position){\n    state.position = position\n  },\n  setTicket(state, ticket){\n    state.ticket = ticket\n  },\n  setTicketExpireTime(state, expireTime){\n    state.expireTime = expireTime\n  },\n  storeSession(state) {\n    sessionStorage.setItem(\"authorization\", escape(state.authorization))\n    sessionStorage.setItem(\"userInfo\", escape(JSON.stringify(state.userInfo)));\n    sessionStorage.setItem(\"position\", escape(state.position));\n    sessionStorage.setItem(\"ticket\", escape(state.ticket));\n    sessionStorage.setItem(\"expiretime\", escape(state.expireTime));\n\n  },\n  resetDataFromSession(state) {\n    let userInfo = sessionStorage.getItem(\"userInfo\")\n    // console.debug(\"=================>\"+userInfo)\n    if (userInfo == null || typeof (userInfo) == \"undefined\") return\n\n    state.loginStatus = true;\n    state.authorization = unescape(sessionStorage.getItem(\"authorization\"));\n    state.position = unescape(sessionStorage.getItem(\"position\"))\n    state.ticket = unescape(sessionStorage.getItem(\"ticket\"))\n    state.expireTime = unescape(sessionStorage.getItem(\"expiretime\"))\n    state.userInfo = JSON.parse(unescape(userInfo));\n  },\n};\n\n\nconst actions = {\n\n};\nconst getters = {\n  hasEditPermission: state => {\n    return state.userInfo.menuList.indexOf(21) >= 0;\n  },\n  permissionList: state => {\n    return state.userInfo.menuList;\n  },\n  getIndexPage: state => {\n    let menu = state.userInfo.menuList\n    menu.sort();\n    let index = menu.findIndex(item => item > 10 && item < 21);\n    if (index < 0) return null;\n    return menus[menu[index]];\n  }\n};\n\n\n//把state, mutations等暴露出去。\nexport default {\n  //需要命名空间\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters\n}"]}]}