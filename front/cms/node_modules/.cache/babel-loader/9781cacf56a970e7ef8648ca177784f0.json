{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/dashboard/appBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/dashboard/appBar.vue","mtime":1641644222061},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2xpdWd1YW5naHVpL0RvY3VtZW50cy9jbXNfY29kZS9teS1tZXNzYWdlL2Ntcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBpbXBvcnQgbXlTZWFyY2ggZnJvbSAiLi4vc3RvcmUvbW9kdWxlcy9teVNlYXJjaCI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGdldFVzZXJNZXNzYWdlTGlzdCwgZ2V0TWVzc2FnZVVucmVhZENvdW50LCBtYXJrTWVzc2FnZVJlYWRPbmUgfSBmcm9tICJAL2FwaS9nZXREYXRhLmpzIjsKaW1wb3J0IHsgZ2V0TXNnUmVtaW5kZXJTdGF0dXNEZXNjIH0gZnJvbSAiQC91dGlscy9hcnRpY2xlVXRpbHMuanMiOwppbXBvcnQgeyBqdW1wVG9EZXRhaWwgfSBmcm9tICJAL3V0aWxzL2NvbW1vbi5qcyI7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiQC91dGlscy9ldmVudC1idXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5nZXRVc2VyVW5yZWFkQXJ0aWNsZUNvdW50KCk7CiAgICB0aGlzLmdldFVzZXJNZXNzYWdlKCk7CiAgICBFdmVudEJ1cy4kb24oIm1ha2VBbGxNc2dSZWFkIiwgZnVuY3Rpb24gKG1zZykgewogICAgICAvLyDmiYDmnInmtojmga/moIforrDlt7Lor7vvvIzmiormoIforrDljrvmjokKICAgICAgY29uc29sZS5sb2coIiMjIyMjIyMjIHJlY2VpdmUgbWVzc2FnZSAjIyMjIyMjICIgKyBtc2cpOwogICAgICBfdGhpcy5tc2dDb3VudCA9IDA7CgogICAgICBfdGhpcy5nZXRVc2VyTWVzc2FnZSgpOwogICAgfSksIEV2ZW50QnVzLiRvbigibWFya1NpbmdsZVJlYWQiLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgIC8vIOaIkeS7rOS4jemcgOimgeWcqOiOt+WPluS4gOasoeacquivu+a2iOaBr+aVsOmHj++8jOWmguaenOWGjeasoeWIt+aWsOeahOivne+8jOWPr+iDveeci+S4iuWOu+S8muacieacquivu+a2iOaBr+WPr+iDvei/mOS8muWkmueahOe7k+aenAogICAgICBjb25zb2xlLmxvZygiIyMjIyMjIyMgcmVjZWl2ZSBtZXNzYWdlICMjIyMjIyMgIiArIG1zZyk7CiAgICAgIF90aGlzLm1zZ0NvdW50LS07CiAgICB9KSwgRXZlbnRCdXMuJG9uKCJyZWZyZXNoVW5yZWFkIiwgZnVuY3Rpb24gKG1zZykgewogICAgICAvLyDmjqXliLDmraTmtojmga/kvJrliLfmlrDkuIDkuIvmnKror7vmlbDjgIIKICAgICAgY29uc29sZS5sb2coIiMjIyMjIyMjIHJlZnJlc2ggbWVzc2FnZSAjIyMjIyMjICIgKyBtc2cpOwoKICAgICAgX3RoaXMuZ2V0VXNlclVucmVhZEFydGljbGVDb3VudCgpOwogICAgfSksIEV2ZW50QnVzLiRvbigiYXJ0aWNsZUxpc3RDb21wbGV0ZSIsIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgY29uc29sZS5sb2coIiMjIyMjIyMjIGRvbm90aGluZyBmb3Igbm93ICMjIyMjIyMgIiArIG1zZyk7IC8vdGhpcy5nZXRVc2VyVW5yZWFkQXJ0aWNsZUNvdW50KCk7CiAgICAgIC8vdGhpcy5nZXRVc2VyTWVzc2FnZSgpOwogICAgfSk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGFudmFsOiAi566A5L2T5Lit5paHIiwKICAgICAgZHJhd2VyOiB0cnVlLAogICAgICBtc2dDb3VudDogMCwKICAgICAgbGFuaXRlbXM6IFt7CiAgICAgICAgdGl0bGU6ICLnroDkvZPkuK3mlociLAogICAgICAgIHZhbDogInpoIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICJFbmdsaXNoIiwKICAgICAgICB2YWw6ICJlbiIKICAgICAgfV0sCiAgICAgIC8vZGVmYXVsdCBtZXNzYWdlCiAgICAgIG1zZ0l0ZW1zOiBbewogICAgICAgIGlkOiAtMSwKICAgICAgICBvcGVyYXRvcjogIiIsCiAgICAgICAgb3B0VGV4dDogIuayoeacieaWsOa2iOaBryIsCiAgICAgICAgdGl0bGU6ICIiCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgdXNlcjogZnVuY3Rpb24gdXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlci51c2VySW5mbzsKICAgIH0KICB9KSksIG1hcEdldHRlcnMoewogICAgLy8g5oqKIGB0aGlzLmRvbmVDb3VudGAg5pig5bCE5Li6IGB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRvbmVUb2Rvc0NvdW50YAogICAgaGFzRWRpdFBlcm1pc3Npb246ICJ1c2VyL2hhc0VkaXRQZXJtaXNzaW9uIgogIH0pKSwKICBtZXRob2RzOiB7CiAgICBnZXRVc2VyTWVzc2FnZTogZnVuY3Rpb24gZ2V0VXNlck1lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZ2V0VXNlck1lc3NhZ2VMaXN0KDEsIDEwKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vc2hvd01zZ1RleHQoIjEiKQogICAgICAgIGNvbnNvbGUubG9nKCIjIyMjIyMjIyB1bnJlYWQgbWVzc2FnZSA9PT09PT09PT0+ICMjIyMjIyMgIiArIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7CgogICAgICAgIGlmIChyZXNwb25zZSAhPSBudWxsICYmIHJlc3BvbnNlLmRhdGEgIT0gbnVsbCAmJiByZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgIF90aGlzMi5tc2dJdGVtcyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczIubXNnSXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIG1zZyA9IF90aGlzMi5tc2dJdGVtc1tpXTsKICAgICAgICAgICAgbXNnLm9wdFRleHQgPSBnZXRNc2dSZW1pbmRlclN0YXR1c0Rlc2MobXNnLm9wZXJhdGlvbik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgpOwogICAgfSwKICAgIGdldFVzZXJVbnJlYWRBcnRpY2xlQ291bnQ6IGZ1bmN0aW9uIGdldFVzZXJVbnJlYWRBcnRpY2xlQ291bnQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgZ2V0TWVzc2FnZVVucmVhZENvdW50KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKCIjIyMjIyMjIyB1bnJlYWQgY291bm50ID09PT09PT09PT4gIyMjIyMjIyAiICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPSBudWxsICYmIHJlc3BvbnNlLmRhdGEgPiAwKSB7CiAgICAgICAgICBfdGhpczMubXNnQ291bnQgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKTsKICAgIH0sCiAgICBtYXJrT25jZVJlYWQ6IGZ1bmN0aW9uIG1hcmtPbmNlUmVhZChtZXNzYWdlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKG1lc3NhZ2UuaWQgPT09IC0xKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBtYXJrTWVzc2FnZVJlYWRPbmUobWVzc2FnZS5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UgIT0gbnVsbCAmJiByZXNwb25zZS5jb2RlID09PSAwICYmIHJlc3BvbnNlLm1lc3NhZ2UgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgbWVzc2FnZS5pc1JlYWQgPSB0cnVlOwogICAgICAgICAgX3RoaXM0Lm1zZ0NvdW50LS07CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgpOwogICAgICBqdW1wVG9EZXRhaWwodGhpcy4kcm91dGVyLCBtZXNzYWdlLm1lc3NhZ2VJZCk7CiAgICB9LAogICAgb25EcmF3ZXJDbGljazogZnVuY3Rpb24gb25EcmF3ZXJDbGljaygpIHsKICAgICAgdGhpcy5kcmF3ZXIgPSAhdGhpcy5kcmF3ZXI7CiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZSIsIHRoaXMuZHJhd2VyKTsKICAgIH0sCiAgICBjaGFuZ2VMYW5ndWFnZTogZnVuY3Rpb24gY2hhbmdlTGFuZ3VhZ2UoaXRlbSkgewogICAgICB0aGlzLmxhbnZhbCA9IGl0ZW0udGl0bGU7CiAgICAgIHRoaXMuJGkxOG4ubG9jYWxlID0gaXRlbS52YWw7CiAgICB9LAogICAgdG9NZXNzYWdlQ2VudGVyOiBmdW5jdGlvbiB0b01lc3NhZ2VDZW50ZXIoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAibWVzc2FnZUNlbnRlciIKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YCJ5Lit5paH56ug6Lez6L2s6K+m5oOFCiAgICBzZWxlY3RNc2c6IGZ1bmN0aW9uIHNlbGVjdE1zZyhpbmRleCkgewogICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PXNlbGVjdE1zZz09PT09PT09PSIgKyBpbmRleCArICIgbWVzc2FnZUlEOiIgKyB0aGlzLm1zZ0l0ZW1zW2luZGV4XS5tZXNzYWdlSWQpOwogICAgICBqdW1wVG9EZXRhaWwodGhpcy4kcm91dGVyLCB0aGlzLm1zZ0l0ZW1zW2luZGV4XS5tZXNzYWdlSWQpOwogICAgfSwKICAgIG5ld0FydGljbGU6IGZ1bmN0aW9uIG5ld0FydGljbGUoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAicHVibGlzaEFydGljbGUiCiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJGkxOG4ubG9jYWxlID0gInpoIjsKICB9LAogIC8v6L+H5ruk5paH5a2XCiAgZmlsdGVyczogewogICAgbGVuZ2h0aDogZnVuY3Rpb24gbGVuZ2h0aCh0ZXh0LCBsZW5ndGgpIHsKICAgICAgdmFyIHN1ZmZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogIi4uLiI7CgogICAgICBpZiAoIXRleHQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0ZXh0Lmxlbmd0aCA8PSBsZW5ndGgpIHsKICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgfQoKICAgICAgcmV0dXJuICh0ZXh0ICsgIiIpLnJlcGxhY2UoL1xuL2csICI8YnIvPiIpLnN1YnN0cmluZygwLCBsZW5ndGgpICsgc3VmZml4OwogICAgfQogIH0KfTs="},{"version":3,"sources":["appBar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app-bar id=\"app-bar\" app flat link height=\"64\" class=\"app-bar-style\">\n    <v-app-bar-nav-icon @click=\"onDrawerClick\"> </v-app-bar-nav-icon>\n\n    <v-spacer></v-spacer>\n    <v-btn\n      color=\"primary\"\n      dark\n      class=\"pl-2\"\n      height=\"36\"\n      min-width=\"105\"\n      v-if=\"hasEditPermission\"\n      @click=\"newArticle\"\n    >\n      {{ $t(\"new_message\") }}\n    </v-btn>\n    <!-- 消息通知 -->\n    <v-menu :nudge-width=\"220\" offset-y open-on-hover>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn class=\"ml-2\" min-width=\"0\" text v-bind=\"attrs\" v-on=\"on\">\n          <v-badge v-if=\"msgCount > 0\" color=\"red\" overlap bordered>\n            <template v-slot:badge>\n              <span>{{ msgCount > 99 ? 99 : msgCount }}</span>\n            </template>\n            <v-icon>mdi-bell</v-icon>\n          </v-badge>\n          <v-icon v-if=\"msgCount <= 0\">mdi-bell</v-icon>\n        </v-btn>\n      </template>\n      <v-card>\n        <v-card-text>\n          <div @click=\"markOnceRead(item)\" disabled v-for=\"(item, cindex) in msgItems\" :key=\"'message'+cindex\">\n            \n            <div class=\"pa-0 ma-0 \" style=\"min-height:45px\">\n              \n              <span class=\"ml-n2\" v-if=\"item.isRead === false\">\n                <v-icon dense large color=\"red darken-3\"\n                  >mdi-circle-small</v-icon>\n              </span>\n              <span class=\"ml-n2\"  v-else>\n                <v-icon dense large color=\"white darken-3\"\n                  >mdi-circle-small</v-icon>\n              </span>\n              <span class=\"ml-n2\">{{ item.operator }}</span>\n              <span class=\"ml-1 mr-2\">-</span>\n              <span class=\"ml-1\">{{item.optText}}</span>\n              <span class=\"ml-1 mr-2\">-</span>\n              <v-tooltip bottom>\n              <template v-slot:activator=\"{ on, attrs }\">\n              <a\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                small\n                :style=\"{color:'#1867C0'}\"\n                color=\"blue lighten-2\"\n                @click=\"selectMsg(cindex)\"\n              >\n                {{ item.messageTitle | lenghth(20) }}</a>\n               </template>\n            <span>{{item.messageTitle}}</span>\n         </v-tooltip>\n         \n         <v-divider />\n        \n            </div>\n          </div>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            align=\"center\"\n            color=\"blue darken-1\"\n            text\n            @click=\"toMessageCenter\"\n          >\n            查看全部信息\n          </v-btn>\n          <v-spacer></v-spacer>\n        </v-card-actions>\n      </v-card>\n    </v-menu>\n    <!-- 语言选择 -->\n    <v-menu\n      \n      bottom\n      left\n      offset-y\n      origin=\"top right\"\n      min-width=\"0\"\n      transition=\"scale-transition\"\n    >\n      <template v-slot:activator=\"{ attrs, on }\">\n        <v-btn class=\"ml-2\" min-width=\"110px\" text v-bind=\"attrs\" v-on=\"on\" v-if=\"false\">\n          <v-icon>mdi-translate </v-icon>{{ lanval }}\n        </v-btn>\n      </template>\n      <v-list v-model=\"lanitems.val\">\n        <v-list-item\n          v-for=\"(item, index) in lanitems\"\n          :key=\"index\"\n          :val=\"lanitems.val\"\n          @click=\"changeLanguage(item)\"\n        >\n          <v-list-item-title>{{ item.title }}</v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-menu>\n    <!-- <v-btn> 退出 </v-btn> -->\n\n    <div class=\"mr-1 ml-6\">\n      <div class=\"app-bar-user\">{{ user.name }}</div>\n      <span class=\"app-bar-user-post mr-2\" v-if=\"user.department != null\">{{ user.department }}</span>\n      <span class=\"app-bar-user-post\" v-if='user.positionName !=\"MG\"'>{{ user.positionName }}</span>\n    </div>\n\n    \n  </v-app-bar>\n</template>\n<script>\n// import mySearch from \"../store/modules/mySearch\";\nimport { mapState, mapGetters } from \"vuex\";\nimport { getUserMessageList, getMessageUnreadCount,markMessageReadOne } from \"@/api/getData.js\";\nimport { getMsgReminderStatusDesc} from \"@/utils/articleUtils.js\";\nimport { jumpToDetail } from \"@/utils/common.js\";\nimport { EventBus } from \"@/utils/event-bus\";\n\nexport default {\n\n  mounted() {\n\n    this.getUserUnreadArticleCount()\n    this.getUserMessage();\n\n    EventBus.$on(\"makeAllMsgRead\", (msg) => {\n      // 所有消息标记已读，把标记去掉\n      console.log(\"######## receive message ####### \" + msg);\n      this.msgCount = 0;\n      this.getUserMessage()\n    }),\n\n     EventBus.$on(\"markSingleRead\", (msg) => {\n      // 我们不需要在获取一次未读消息数量，如果再次刷新的话，可能看上去会有未读消息可能还会多的结果\n      console.log(\"######## receive message ####### \" + msg);\n      this.msgCount--;\n    }),\n\n    EventBus.$on(\"refreshUnread\", (msg) => {\n      // 接到此消息会刷新一下未读数。\n      console.log(\"######## refresh message ####### \" + msg);\n      this.getUserUnreadArticleCount()\n    }),\n\n    EventBus.$on(\"articleListComplete\", (msg) => {\n      console.log(\"######## donothing for now ####### \" + msg);\n      //this.getUserUnreadArticleCount();\n      //this.getUserMessage();\n    })\n  },\n\n  data: () => ({\n    lanval: \"简体中文\",\n    drawer: true,\n    msgCount: 0,\n    lanitems: [\n      { title: \"简体中文\", val: \"zh\" },\n      { title: \"English\", val: \"en\" },\n    ],\n    //default message\n    msgItems: [\n      {\n        id:-1,\n        operator: \"\",\n        optText: \"没有新消息\",\n        title: \"\",\n      },\n    ],\n  }),\n\n  computed: {\n    ...mapState({\n      user: (state) => state.user.userInfo,\n    }),\n    ...mapGetters({\n      // 把 `this.doneCount` 映射为 `this.$store.getters.doneTodosCount`\n      hasEditPermission: \"user/hasEditPermission\",\n    }),\n  },\n\n  methods: {\n\n    getUserMessage() {\n       getUserMessageList(1, 10)\n      .then((response) => {\n        //showMsgText(\"1\")\n        console.log(\"######## unread message =========> ####### \" + JSON.stringify(response));\n        if (response != null && response.data != null && response.data.length > 0) {\n          this.msgItems = response.data;\n          for (let i = 0; i < this.msgItems.length; i++) {\n            let msg = this.msgItems[i];\n            msg.optText = getMsgReminderStatusDesc(msg.operation);\n          }\n        }\n      }).catch();\n    },\n\n    getUserUnreadArticleCount() {\n      getMessageUnreadCount()\n        .then((response) => {\n            //console.log(\"######## unread counnt =========> ####### \" + JSON.stringify(response));\n            if(response.data != null && response.data > 0) {\n              this.msgCount = response.data\n            }\n        }).catch()\n    },\n\n    markOnceRead(message) {\n      if(message.id === -1) {\n        return;\n      }      \n      markMessageReadOne(message.id)\n        .then((response) => {\n          if(response != null && response.code ===0 && response.message === \"success\"){\n              message.isRead = true;\n              this.msgCount--;\n          }  \n        })\n        .catch();\n\n        jumpToDetail(this.$router,message.messageId);\n    },\n\n    onDrawerClick() {\n      this.drawer = !this.drawer;\n      this.$emit(\"change\", this.drawer);\n    },\n    changeLanguage(item) {\n      this.lanval = item.title;\n      this.$i18n.locale = item.val;\n    },\n\n    toMessageCenter() {\n      this.$router.push({ name: \"messageCenter\" });\n    },\n    // 选中文章跳转详情\n    selectMsg(index) {\n      console.log(\"==========selectMsg=========\" + index+\" messageID:\"+this.msgItems[index].messageId); \n        jumpToDetail(this.$router,this.msgItems[index].messageId);\n    },\n    newArticle() {\n      this.$router.push({ name: \"publishArticle\" });\n    },\n  },\n  created() {\n    this.$i18n.locale = \"zh\";\n  },\n  //过滤文字\n  filters: {\n    lenghth(text, length, suffix = \"...\") {\n      if (!text) {\n        return;\n      }\n      if (text.length <= length) {\n        return text;\n      }\n      return (text + \"\").replace(/\\n/g, \"<br/>\").substring(0, length) + suffix;\n    },\n  },\n};\n</script>\n<style scoped>\n.app-bar-style {\n  background: #ffffffff !important;\n  box-shadow: inset 0px -1px 0px 0px #e4e8ebff !important;\n}\n.app-bar-user {\n  color: #333333ff;\n  font-family: Noto Sans S Chinese;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: 0px;\n  text-align: left;\n}\n.app-bar-user-post {\n  color: #999999ff;\n  font-family: Noto Sans S Chinese;\n  font-weight: regular;\n  font-size: 12px;\n  line-height: normal;\n  letter-spacing: 0px;\n  text-align: left;\n}\n</style>\n"],"sourceRoot":"src/components/dashboard"}]}