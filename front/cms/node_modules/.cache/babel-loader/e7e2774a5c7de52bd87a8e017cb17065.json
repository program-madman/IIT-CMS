{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/editAuthority.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/editAuthority.vue","mtime":1638535925252},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRBdXRob3JpdHlNZW51LCBnZXREZXB0TGlzdCB9IGZyb20gIkAvYXBpL2dldERhdGEuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG9wZW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB0ZW1wbGF0ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aW1lb3V0OiAyMDAwLAogICAgICBjYXV0aW9uOiB0cnVlLAogICAgICAvL+iiq+aOiOadg+eahOmDqOmXqAogICAgICB3aXRoaW5EZXB0czogW10sCiAgICAgIC8v5b6F5o6I5p2D55qE6YOo6ZeoCiAgICAgIHdpdGhvdXREZXB0czogW10sCiAgICAgIC8v5qih5p2/5ZCN56ewCiAgICAgIHRlbXBsYXRlTmFtZTogIiIsCiAgICAgIC8v5qih5p2/5o+P6L+wCiAgICAgIHN1bW1hcnk6ICIiLAogICAgICAvL+aooeadv+aPj+i/sOWtl+espumZkOWItgogICAgICBydWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYubGVuZ3RoIDw9IDQ1IHx8ICLmnIDlpJrovpPlhaU0NeWtl+aPj+i/sCI7CiAgICAgIH1dLAogICAgICBkaWFsb2c6IHRoaXMub3BlbiwKICAgICAgLy/mnYPpmZDliJfooagKICAgICAgYXV0aG9yaXR5TWVudTogW10sCiAgICAgIC8v6buY6K6k6YCJ5Lit54q25oCBCiAgICAgIHNlbGVjdGlvbjogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIC8vdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VEaWFsb2ciKTsgLy/mlrDliJvlu7rkuIDkuKrmqKHmnb/vvIznlKjmiLflj6/og73kvJrmlL7lvIPvvIzmiYDku6XmiJHku6zpnIDopoHliKTmlq3kuIvvvIzmmK/kuI3mmK/lt7Lnu4/lhpnkuobpg6jliIblrZfmrrXkuoYKCiAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh0aGlzLnRlbXBsYXRlKSA9PT0gInt9Iikgey8vbGV0IHdpdGhpbkRlcHRzQ2hhbmdlID0gdGhpcy53aXRoaW5EZXB0cy5sZW5ndGggPT09IDAKICAgICAgICAvL2xldCB0ZW1wbGF0ZU5hbWVDaGFuZ2UgPSB0aGlzLnRlbXBsYXRlTmFtZS50cmltKCkgPT09ICIiCiAgICAgICAgLy9sZXQgc3VtbWFyeUNoYW5nZSA9IHRoaXMuc3VtbWFyeS50cmltKCkgPT09ICIiCiAgICAgICAgLy9hbGVydCgiICIrd2l0aGluRGVwdHNDaGFuZ2UgKyAiICIgKyB0ZW1wbGF0ZU5hbWVDaGFuZ2UgKyAiICIgK3N1bW1hcnlDaGFuZ2UpCiAgICAgICAgLy8gaWYodGhpcy50ZW1wbGF0ZU5hbWUudHJpbSgpID09PSAiIil7CiAgICAgICAgLy8gfQogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCJvbkVkaXRBdXRob3JpdHlUZW1wbGF0ZVJlc3VsdCIsICJzdWNjZXNzIik7CiAgICB9LAogICAgbW92ZVRvV2FpdDogZnVuY3Rpb24gbW92ZVRvV2FpdChpbmRleCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMud2l0aGluRGVwdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoaSA9PSBpbmRleCkgewogICAgICAgICAgdGhpcy53aXRob3V0RGVwdHMucHVzaCh0aGlzLndpdGhpbkRlcHRzW2ldKTsKICAgICAgICAgIHRoaXMud2l0aGluRGVwdHMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9CiAgICAgIH0gLy9jaGFuZ2UodGhpcy53YWl0Rm9yU2VsZWN0RGVwdCwgdGhpcy5zZWxlY3REZXB0LCBpbmRleCk7CgogICAgfSwKICAgIG1vdmVUb1NlbGVjdGVkOiBmdW5jdGlvbiBtb3ZlVG9TZWxlY3RlZChpbmRleCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMud2l0aG91dERlcHRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGkgPT0gaW5kZXgpIHsKICAgICAgICAgIHRoaXMud2l0aGluRGVwdHMucHVzaCh0aGlzLndpdGhvdXREZXB0c1tpXSk7CiAgICAgICAgICB0aGlzLndpdGhvdXREZXB0cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0KICAgICAgfSAvL2NoYW5nZSh0aGlzLnNlbGVjdERlcHQsIHRoaXMud2FpdEZvclNlbGVjdERlcHQsIGluZGV4KTsKCiAgICB9LAogICAgZ2V0VGVtcGxhdGVSZXN1bHQ6IGZ1bmN0aW9uIGdldFRlbXBsYXRlUmVzdWx0KCkgewogICAgICByZXR1cm4gInN1Y2Nlc3MiOwogICAgfSAvLyBjaGFuZ2Uoc291cmNlLCBkZXN0LCBpbmRleCkgewogICAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykgewogICAgLy8gICAgIGlmIChpID09IGluZGV4KSB7CiAgICAvLyAgICAgICBkZXN0LnB1c2goc291cmNlW2ldKTsKICAgIC8vICAgICAgIHNvdXJjZS5zcGxpY2UoaW5kZXgsIDEpOwogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gfSwKCiAgfSwKICB3YXRjaDogewogICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHsKICAgICAgdGhpcy5kaWFsb2cgPSB0aGlzLm9wZW47CiAgICB9LAogICAgZGlhbG9nOiBmdW5jdGlvbiBkaWFsb2codmFsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBvbiBkaWFsb2cgaGFzIG9wZW5lZAogICAgICBpZiAodmFsKSB7CiAgICAgICAgLy8gZ2V0QXV0aG9yaXR5TWVudSgpCiAgICAgICAgLy8gICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAvLyAgICAgaWYgKAogICAgICAgIC8vICAgICAgIHJlc3BvbnNlICE9IG51bGwgJiYKICAgICAgICAvLyAgICAgICByZXNwb25zZS5kYXRhICE9IG51bGwgJiYKICAgICAgICAvLyAgICAgICByZXNwb25zZS5kYXRhLmxlbmd0aCA+IDAKICAgICAgICAvLyAgICAgKSB7CiAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coIiMjIyMjIyMjIGF1dGhvcml0eSBtZW51ID09PT09PT09PT4gIyMjIyMjIyAiICsgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTsKICAgICAgICAvLyAgICAgICBhbGVydChKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICB9KQogICAgICAgIC8vICAgLmNhdGNoKCk7CiAgICAgICAgLy9hbGVydCgiPT0+ICIrSlNPTi5zdHJpbmdpZnkodGhpcy50ZXN0KSkKICAgICAgICAvL+WIneWni+WMlgogICAgICAgIHRoaXMud2l0aGluRGVwdHMgPSBbXTsKICAgICAgICB0aGlzLndpdGhvdXREZXB0cyA9IFtdOwogICAgICAgIHRoaXMuc3VtbWFyeSA9ICIiOwogICAgICAgIHRoaXMudGVtcGxhdGVOYW1lID0gIiI7IC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5hdXRob3JpdHlNZW51KSk7CgogICAgICAgIHZhciBkZXBhcnRtZW50TGlzdCA9IGdldERlcHRMaXN0KCk7CgogICAgICAgIGlmICh0eXBlb2YgdGhpcy50ZW1wbGF0ZSA9PT0gInVuZGVmaW5lZCIgfHwgSlNPTi5zdHJpbmdpZnkodGhpcy50ZW1wbGF0ZSkgPT09ICJ7fSIpIHsKICAgICAgICAgIC8vIyMjIyMjIyMjIyMjIyMjIyMgICDkv6Hlu7rmnYPpmZDnrqHnkIYgICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICAgICAgIC8v6L+Z5piv5LiA5Liq5paw5aKe5p2D6ZmQ77yM5oiR5Lus5oqK6YOo6Zeo5L+h5oGv6YO96LWL5YC85Yiw5pyq5o6I5p2D55qE6ZuG5ZCI5Lit44CCCiAgICAgICAgICBpZiAoZGVwYXJ0bWVudExpc3QuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMud2l0aG91dERlcHRzID0gZGVwYXJ0bWVudExpc3QuZGF0YTsKICAgICAgICAgIH0gLy/pnIDopoHmi4nlj5bpu5jorqTmnYPpmZDkv6Hmga8KCgogICAgICAgICAgdmFyIGF1dGhvcml0eVJlc3AgPSBnZXRBdXRob3JpdHlNZW51KCk7CgogICAgICAgICAgaWYgKGF1dGhvcml0eVJlc3AuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMuYXV0aG9yaXR5TWVudSA9IGF1dGhvcml0eVJlc3AuZGF0YTsKICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLmF1dGhvcml0eU1lbnU7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIyMjIyMjIyMjIyMjIyMjIyMgICDov5nmmK/nvJbovpHljp/mnInmqKHmnb/vvIzpnIDopoHmiorljp/mqKHmnb/mlbDmja7mj5Dlh7rmnaUgICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICAgICAgIC8v5Yid5aeL5YyWCiAgICAgICAgICB0aGlzLnRlbXBsYXRlTmFtZSA9IHRoaXMudGVtcGxhdGUudGVtcGxhdGVOYW1lOwogICAgICAgICAgdGhpcy5zdW1tYXJ5ID0gdGhpcy50ZW1wbGF0ZS5zdW1tYXJ5OwogICAgICAgICAgdGhpcy5hdXRob3JpdHlNZW51ID0gdGhpcy50ZW1wbGF0ZS5hdXRob3JpdHlMaXN0OwogICAgICAgICAgdmFyIGNoaWxkcmVuID0gW107IC8v5oqK5omA5pyJ5a2Q5p2D6ZmQ5ZCI5bm25oiQ5LiA5Liq5pWw57uECgogICAgICAgICAgdGhpcy5hdXRob3JpdHlNZW51LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuID0gY2hpbGRyZW4uY29uY2F0KGVsZW1lbnQuY2hpbGRyZW4pOwogICAgICAgICAgfSk7IC8v5oqK6YCJ5Lit55qE5a2Q5p2D6ZmQ5o+Q5Ye65p2lCgogICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgcmV0dXJuIHYuaXNDaGVja2VkOwogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zb2xlLmxvZygibWVyZ2UgcmVzdWx0IiArIEpTT04uc3RyaW5naWZ5KHRoaXMuY2hpbGRyZW4pKTsgLy/mnInmqKHmnb/kv6Hmga/vvIzmqKHmnb/ph4zljIXlkKvkuoblt7LojrflvpfmnYPpmZDnmoTpg6jpl6jjgIIKICAgICAgICAgIC8v6ZyA6KaB5o+Q5Y+W5bey57uP5o6I5p2D55qE6YOo6ZeoCgogICAgICAgICAgaWYgKGRlcGFydG1lbnRMaXN0LmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAvL+mmluWFiCBhLmZpbHRlcigoaSkgPT4gIWIuZmluZCgoaikgPT4gai5pZCA9PT0gaS5pZCkp562b6YCJ5Ye6YeS4reS4jmLkuK3kuI3lkIznmoTlhYPntKDvvIzkuYvlkI4KICAgICAgICAgICAgLy9iLmZpbHRlcigoaSkgPT4gIWIuZmluZCgoaikgPT4gai5pZCA9PT0gaS5pZCkp562b6YCJ5Ye6YuS4reS4jmHkuK3kuI3lkIznmoTlhYPntKDvvIzkuYvlkI5jb25jYXTlkIjlubbkuKTkuKrnu5PmnpwKICAgICAgICAgICAgdGhpcy53aXRob3V0RGVwdHMgPSBkZXBhcnRtZW50TGlzdC5kYXRhLmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgIHJldHVybiAhX3RoaXMud2l0aGluRGVwdHMuZmluZChmdW5jdGlvbiAoaikgewogICAgICAgICAgICAgICAgcmV0dXJuIGouY29tcGFueUNvZGUgPT09IGkuY29tcGFueUNvZGU7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pLmNvbmNhdCh0aGlzLndpdGhpbkRlcHRzLmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgIHJldHVybiAhX3RoaXMud2l0aGluRGVwdHMuZmluZChmdW5jdGlvbiAoaikgewogICAgICAgICAgICAgICAgcmV0dXJuIGouY29tcGFueUNvZGUgPT09IGkuY29tcGFueUNvZGU7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["editAuthority.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-row justify=\"center\">\n\n   \n\n\n   <v-dialog\n      v-model=\"dialog\"\n      v-bind=\"$attrs\"\n      v-on=\"$listeners\"\n      fullscreen\n      hide-overlay\n      transition=\"dialog-bottom-transition\"\n    >\n      <v-toolbar dark color=\"primary\">\n        <v-btn icon dark @click=\"close\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n        <v-toolbar-title>编辑权限</v-toolbar-title>\n      </v-toolbar>\n\n      <v-container\n        class=\"grey lighten-5\"\n        style=\"min-width: 100px; max-width: 100%; max-height: 100%\"\n      >\n        <v-row style=\"min-width: 100px; max-width: 100%; max-height: 100%\">\n          <v-col\n            style=\"min-width: 100px; max-width: 50%; max-height: 100%\"\n            class=\"flex-grow-1 flex-shrink-0\"\n          >\n            <v-row>\n              <v-card-title\n                class=\"text-h8 mt-0 ml-0\"\n                style=\"color: #666666; font-weight:medium;font-size=14px\"\n              >\n                模板名称\n              </v-card-title>\n            </v-row>\n\n            <v-row>\n              <v-text-field\n                v-model=\"templateName\"\n                label=\"模板名称\"\n                placeholder=\"输入您的模板名称\"\n                outlined\n                dense\n                \n              >abcd</v-text-field>\n            </v-row>\n            <v-card-title\n              class=\"text-h10 mt-0 ml-0\"\n              style=\"color: #666666; font-weight:medium;font-size=14px\"\n            >\n              权限编辑\n            </v-card-title>\n            <v-card\n              class=\"pa-2\"\n              outlined\n              tile\n              style=\"height: 316px; overflow: scroll\"\n            >\n              <v-treeview\n                v-model=\"selection\"\n                :items=\"authorityMenu\"\n                selection-type=\"leaf\"\n                selectable\n                item-disabled=\"locked\"\n                return-object\n                open-all\n              >\n              </v-treeview>\n            </v-card>\n\n            <v-card-title\n              class=\"mt-0 ml-0\"\n              style=\"color: #666666; font-weight:medium;font-size=5px\"\n            >\n              模板描述\n            </v-card-title>\n\n            <v-textarea\n             v-model=\"summary\"\n              outlined\n              auto-grow\n              clearable\n              clear-icon=\"mdi-close-circle\"\n              counter\n              :rules=\"rules\"\n              name=\"summary\"\n              background-color=\"#ffffff\"\n              label=\"请输入权限模板的说明\"\n              style=\"height=210px\"\n            ></v-textarea>\n          </v-col>\n          <v-col\n            cols=\"6\"\n            style=\"max-width: 50%; max-height: 100%; backgrond: red\"\n            class=\"flex-grow-0 flex-shrink-1\"\n          >\n            <v-row justify=\"center\">\n              <v-card-title\n                class=\"mt-0 ml-0\"\n                style=\"color: #666666; font-weight:medium;font-size=5px\"\n              >\n                包含角色列表\n              </v-card-title>\n              <v-card-title\n                class=\"mt-0 ml-0\"\n                style=\"color: #666666; font-weight:medium;font-size=5px\"\n              >\n                *被删除的角色将会自动归为Viewer权限模板\n              </v-card-title>\n            </v-row>\n\n            <v-card\n              class=\"pa-2\"\n              outlined\n              tile\n              style=\"height: 240px; max-width: 100%; max-height: 100%\"\n            >\n              <v-chip\n                v-for=\"(dept, index) in withinDepts\"\n                :key=\"index\"\n                class=\"ma-2\"\n                close\n                color=\"primary\"\n                text-color=\"white\"\n                @click:close=\"moveToWait(index)\"\n              >\n                {{ dept.companyName }}\n              </v-chip>\n            </v-card>\n            <v-card-title\n              class=\"mt-0 ml-0\"\n              style=\"color: #666666; font-weight:medium;font-size=5px\"\n            >\n              点击部门进行添加\n            </v-card-title>\n\n            <v-chip\n              v-for=\"(dept, index) in withoutDepts\"\n              :key=\"index\"\n              class=\"ma-2\"\n              color=\"secondary\"\n              text-color=\"white\"\n              @click=\"moveToSelected(index)\"\n            >\n              {{ dept.companyName }}\n              <v-icon right> mdi-plus </v-icon>\n            </v-chip>\n          </v-col>\n        </v-row>\n\n        <v-footer fixed padless style=\"height: 64px\" class=\"footer\">\n          <v-spacer></v-spacer>\n          <v-btn\n            class=\"mr-6\"\n            min-width=\"105px\"\n            outlined\n            depressed\n            dark\n            color=\"#1867C0FF\"\n            @click=\"close\"\n          >\n            取消\n          </v-btn>\n\n          <v-btn\n            class=\"mr-6\"\n            min-width=\"105px\"\n            outlined\n            depressed\n            dark\n            color=\"#1867C0FF\"\n            @click=\"close\"\n          >\n            保存\n          </v-btn>\n        </v-footer>\n      </v-container>\n\n      <v-card class=\"pa-6\" elevation=\"0\"> </v-card>\n      <div style=\"height: 62px; background: #ffffff\"></div>\n    </v-dialog>\n  </v-row>\n</template>\n\n<script>\nimport { getAuthorityMenu, getDeptList } from \"@/api/getData.js\";\n\nexport default {\n  \n  props: {\n    open: {\n      type: Boolean,\n      default: false,\n    },\n    template: {\n      type: Object,\n      default: function(){},\n    },\n  },\n  components: {},\n  data() {\n    return {\n      timeout: 2000,\n      caution:true,\n      //被授权的部门\n      withinDepts: [],\n      //待授权的部门\n      withoutDepts: [],\n      //模板名称\n      templateName: \"\",\n      //模板描述\n      summary: \"\",\n      //模板描述字符限制\n      rules: [(v) => v.length <= 45 || \"最多输入45字描述\"],\n      dialog: this.open,\n      //权限列表\n      authorityMenu: [],\n      //默认选中状态\n      selection: [],\n    };\n  },\n\n  methods: {\n\n\n    close() {\n      //this.dialog = false;\n      this.$emit(\"closeDialog\");\n\n      //新创建一个模板，用户可能会放弃，所以我们需要判断下，是不是已经写了部分字段了\n      if(JSON.stringify(this.template) === \"{}\") {\n          //let withinDeptsChange = this.withinDepts.length === 0\n          //let templateNameChange = this.templateName.trim() === \"\"\n          //let summaryChange = this.summary.trim() === \"\"\n          \n          //alert(\" \"+withinDeptsChange + \" \" + templateNameChange + \" \" +summaryChange)\n          \n          \n          // if(this.templateName.trim() === \"\"){\n              \n          // }\n\n      }\n\n      this.$emit(\"onEditAuthorityTemplateResult\",\"success\")  \n\n    },\n\n   \n    moveToWait(index) {\n      for (let i = 0; i < this.withinDepts.length; i++) {\n        if (i == index) {\n          this.withoutDepts.push(this.withinDepts[i]);\n          this.withinDepts.splice(index, 1);\n        }\n      }\n      //change(this.waitForSelectDept, this.selectDept, index);\n    },\n    moveToSelected(index) {\n      for (let i = 0; i < this.withoutDepts.length; i++) {\n        if (i == index) {\n          this.withinDepts.push(this.withoutDepts[i]);\n          this.withoutDepts.splice(index, 1);\n        }\n      }\n      //change(this.selectDept, this.waitForSelectDept, index);\n    },\n\n    getTemplateResult() {\n      return \"success\"\n    }\n\n    // change(source, dest, index) {\n    //   for (let i = 0; i < source.length; i++) {\n    //     if (i == index) {\n    //       dest.push(source[i]);\n    //       source.splice(index, 1);\n    //     }\n    //   }\n    // },\n  },\n\n  watch: {\n\n\n    open() {\n      this.dialog = this.open;\n    },\n\n    dialog(val) {\n      // on dialog has opened\n      if (val) {\n        // getAuthorityMenu()\n        //   .then((response) => {\n        //     if (\n        //       response != null &&\n        //       response.data != null &&\n        //       response.data.length > 0\n        //     ) {\n        //       console.log(\"######## authority menu =========> ####### \" + JSON.stringify(response));\n        //       alert(JSON.stringify(response));\n        //     }\n        //   })\n        //   .catch();\n        //alert(\"==> \"+JSON.stringify(this.test))\n\n        //初始化\n        this.withinDepts = [];\n        this.withoutDepts = [];\n        this.summary = \"\";\n        this.templateName = \"\";\n\n        //console.log(JSON.stringify(this.authorityMenu));\n        let departmentList = getDeptList();\n        if (\n          typeof this.template === \"undefined\" ||\n          JSON.stringify(this.template) === \"{}\"\n        ) {\n          //#################   信建权限管理    ####################\n          //这是一个新增权限，我们把部门信息都赋值到未授权的集合中。\n          if (departmentList.data.length > 0) {\n            this.withoutDepts = departmentList.data;\n          }\n          //需要拉取默认权限信息\n          let authorityResp = getAuthorityMenu();\n          if (authorityResp.data.length > 0) {\n            this.authorityMenu = authorityResp.data;\n            this.selection = this.authorityMenu\n          }\n        } else {\n          //#################   这是编辑原有模板，需要把原模板数据提出来    ####################\n          //初始化\n          this.templateName = this.template.templateName;\n          this.summary = this.template.summary;\n          this.authorityMenu = this.template.authorityList;\n          \n          let children = [];\n          \n         //把所有子权限合并成一个数组\n          this.authorityMenu.forEach(element => children=children.concat(element.children));\n          //把选中的子权限提出来\n          this.selection = children.filter((v) => v.isChecked)\n          console.log(\"merge result\"+JSON.stringify(this.children))\n\n          //有模板信息，模板里包含了已获得权限的部门。\n          //需要提取已经授权的部门\n          if (departmentList.data.length > 0) {\n            //首先 a.filter((i) => !b.find((j) => j.id === i.id))筛选出a中与b中不同的元素，之后\n            //b.filter((i) => !b.find((j) => j.id === i.id))筛选出b中与a中不同的元素，之后concat合并两个结果\n            this.withoutDepts = departmentList.data\n              .filter(\n                (i) =>\n                  !this.withinDepts.find((j) => j.companyCode === i.companyCode)\n              )\n              .concat(\n                this.withinDepts.filter(\n                  (i) =>\n                    !this.withinDepts.find(\n                      (j) => j.companyCode === i.companyCode\n                    )\n                )\n              );\n          }\n        }\n      }\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views/page"}]}