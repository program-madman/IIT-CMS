{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/statisticalReportView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/statisticalReportView.vue","mtime":1641453010574},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9saXVndWFuZ2h1aS9Eb2N1bWVudHMvY21zX2NvZGUvbXktbWVzc2FnZS9jbXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL2xpdWd1YW5naHVpL0RvY3VtZW50cy9jbXNfY29kZS9teS1tZXNzYWdlL2Ntcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFN1cHBsaWVyUmVwb3J0VmlldyBmcm9tICJAL2NvbXBvbmVudHMvc3RhdGlzdGljYWxSZXBvcnRTdXBwbGllclZpZXcudnVlIjsKaW1wb3J0IHsgZ2V0UmVtaW5kZXJEZWFsZXJzLCBzZW5kTWVzc2FnZVJlbWluZCwgZ2V0QXJ0aWNsZUFyZWFzLCBnZXRBbGxEZWFsZXJSZXBvcnQsIGdldEFsbERvd25sb2FkVXJsSW5SZXBvcnRWaWV3IH0gZnJvbSAiQC9hcGkvZ2V0RGF0YS5qcyI7CmltcG9ydCB7IGRvd25sb2FkRmlsZUJ5VXJsIH0gZnJvbSAiQC91dGlscy9kb3dubG9hZC5qcyI7CmltcG9ydCB7IHJvdW5kRnVuLCB0ZXh0RWxsaXBzaXMgfSBmcm9tICJAL3V0aWxzL3N0cmluZ1V0aWxzLmpzIjsKaW1wb3J0IHsgc2hvd1NuYWNrYmFyLCBjbG9zZVNuYWNrYmFyIH0gZnJvbSAiQC91dGlscy9zbmFja2Jhci5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAic3RhdGlzdGljYWxSZXBvcnRWaWV3IiwKICBwcm9wczogWydtc2dJZFBhcmFtJywgJ2ZlZWJhY2tCYWNrVHlwZSddLAogIGNvbXBvbmVudHM6IHsKICAgIFN1cHBsaWVyUmVwb3J0VmlldzogU3VwcGxpZXJSZXBvcnRWaWV3LAogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZygpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC9jb21wb25lbnRzL2Jhc2UvbG9hZGluZy52dWUiKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+eKtuaAge+8muW3suivu+OAgeacquivuwogICAgICBTVEFUVVNfUkVBRDogMCwKICAgICAgU1RBVFVTX1VOUkVBRDogMSwKICAgICAgLy/nu5/orqHmn6Xor6LnsbvlnosgMDog6ZiF6K+757G75Z6L5p+l6K+iIDE6IOmZhOS7tuexu+Wei+afpeivoiAyOiDlm57lpI3nsbvlnovmn6Xor6IKICAgICAgU1RBVElTVElDU1NUQVRVU19UWVBFX1JFQUQ6IDAsCiAgICAgIFNUQVRJU1RJQ1NTVEFUVVNfVFlQRV9BVFRBQ0g6IDEsCiAgICAgIFNUQVRJU1RJQ1NTVEFUVVNfVFlQRV9SRVBMWTogMiwKICAgICAgLy/liqDovb3nirbmgIEKICAgICAgbG9hZGluZ3ZpZXc6IHRydWUsCiAgICAgIHJlbWluZGVyTG9hZGluZzogZmFsc2UsCiAgICAgIERFQUxFUlRZUEU6IFt7CiAgICAgICAgdGV4dDogIuWFqOmDqCIsCiAgICAgICAgaWQ6ICIiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiNFPlupciLAogICAgICAgIGlkOiAiMSIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICLni6znq4vllK7lkI4iLAogICAgICAgIGlkOiAiMCIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICLkuoznuqfnvZHngrkiLAogICAgICAgIGlkOiAiMiIKICAgICAgfV0sCiAgICAgIHJlbWluZERpYWxvZzogZmFsc2UsCiAgICAgIHNlYXJjaF9zZWxlOiAiIiwKICAgICAgc2VsZWN0ZWRfYXJlYTogW10sCiAgICAgIGV4cGFuZGVkOiBbXSwKICAgICAgY2xpY2tBcmVhTmFtZTogW10sCiAgICAgIHN0YXRpc3RpY3NTdGF0dXM6IDAsCiAgICAgIGF0dGFjaG1lbnRJZDogMCwKICAgICAgcmVtaW5kZXJDb21wYW55TGlzdDogW10sCiAgICAgIHVuU2VsZWN0ZWRSZW1pbmRlclVzZXJJZDogW10sCiAgICAgIHVuU2VsZWN0UmVtaW5kZXJDb21wYW55SWRzOiBbXSwKICAgICAgZGlhbG9nX3N1cHBsaWVyOiBmYWxzZSwKICAgICAgbXNnSUQ6IHRoaXMubXNnSWRQYXJhbSwKICAgICAgaGVhZGVyczogW10sCiAgICAgIGRlc3NlcnRzX2FyZWE6IFtdLAogICAgICBpc1NlbmRpbmc6IGZhbHNlLAogICAgICBpdGVtc19zdGF0dXM6IFsi5pyq6K+7IiwgIuW3suivuyJdLAogICAgICBhcnRpY2xlX2FyZWFzOiBbXSwKICAgICAgaXRlbXNfYXJlYTogW10sCiAgICAgIGl0ZW1zX3R5cGU6IFtdLAogICAgICBzZWxlY3RSZWFkVmFsdWU6IHRoaXMuU1RBVFVTX1VOUkVBRCwKICAgICAgc2VsZWN0VHlwZVZhbHVlOiAiIiwKICAgICAgc2VsZWN0X3N0YXR1czogIuacquivuyIsCiAgICAgIHNlbGVjdF9hcmVhOiAi5YWo6YOoIiwKICAgICAgc2VsZWN0X3R5cGU6IFtdLAogICAgICAvL+aYr+WQpuato+WcqOivt+axgueUn+aIkOS4i+i9vXVybAogICAgICBpc0Rvd25sb2FkVXJsUmVxdWVzdGluZzogZmFsc2UsCiAgICAgIHVuU2VsZWN0Q29tYW55SW5mb01hcEluZm86IG5ldyBNYXAoKSwKICAgICAgcmVtaW5kZXJoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICLljLrln58iLAogICAgICAgIHZhbHVlOiAiYXJlYSIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICLnu4/plIDllYYiLAogICAgICAgIHZhbHVlOiAiY29tcGFueU5hbWUiCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJtb3VudGVkIC0tLSBtc2dJRDoiICsgdGhpcy5tc2dJRCArICIgZmVlYmFja0JhY2tUeXBlOiIgKyB0aGlzLmZlZWJhY2tCYWNrVHlwZSk7CiAgICB0aGlzLml0ZW1zX3R5cGUgPSB0aGlzLkRFQUxFUlRZUEU7CiAgICB0aGlzLnNlbGVjdF90eXBlID0gewogICAgICB0ZXh0OiAi5YWo6YOoIiwKICAgICAgaWQ6ICIiCiAgICB9OwogICAgdGhpcy5zZWxlY3RSZWFkVmFsdWUgPSB0aGlzLlNUQVRVU19VTlJFQUQ7IC8v6I635Y+W5paH56ug5Yy65Z+fICAgIAoKICAgIHRoaXMuZ2V0QXJ0aWNsZUFyZWFzU2VydmljZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDojrflj5bmlofnq6Dlj5HluIPml7bmiYDpgInljLrln58KICAgICAqLwogICAgZ2V0QXJ0aWNsZUFyZWFzU2VydmljZTogZnVuY3Rpb24gZ2V0QXJ0aWNsZUFyZWFzU2VydmljZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGdldEFydGljbGVBcmVhcyh0aGlzLm1zZ0lEKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygiZ2V0QXJ0aWNsZUFyZWFzIHJlY2VpdmU6IiArIEpTT04uc3RyaW5naWZ5KHJlcykpOwoKICAgICAgICBpZiAocmVzLmRhdGEgPT0gbnVsbCkgewogICAgICAgICAgY29uc29sZS5sb2coImRhdGEgc2l6ZSBpcyAwIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5wcm9jZXNzQXJlYVJlc3BvbnNlKHJlcy5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOWIneWni+WMluWMuuWfn+aVsOaNruWTjeW6lAogICAgICovCiAgICBwcm9jZXNzQXJlYVJlc3BvbnNlOiBmdW5jdGlvbiBwcm9jZXNzQXJlYVJlc3BvbnNlKGRhdGEpIHsKICAgICAgLy/liJ3lp4vljJbljLrln58KICAgICAgdGhpcy5pbml0SXRlbXNBcmVhKGRhdGEpOyAvL+W8gOWni+afpeivouaKpeWRigoKICAgICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgICB9LAoKICAgIC8qKgogICAgICog6I635Y+W5p+l6K+i5p2h5Lu25a+55bqU55qE5Yy65Z+fCiAgICAgKi8KICAgIGdldFF1ZXJ5QXJlYTogZnVuY3Rpb24gZ2V0UXVlcnlBcmVhKHNlbGVjdEFyZWEpIHsKICAgICAgY29uc29sZS5sb2coJ2dldFF1ZXJ5QXJlYTonICsgc2VsZWN0QXJlYSk7CgogICAgICBpZiAoc2VsZWN0QXJlYSA9PSAi5YWo6YOoIikgewogICAgICAgIHJldHVybiB0aGlzLmFydGljbGVfYXJlYXM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFtzZWxlY3RBcmVhXTsKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIOiOt+WPlue7n+iuoeaKpeWRigogICAgICovCiAgICBnZXREZWFsZXJSZXBvcnRTZXJ2aWNlOiBmdW5jdGlvbiBnZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXREYXRhKCk7CiAgICAgIHRoaXMubG9hZGluZ3ZpZXcgPSB0cnVlOwogICAgICBnZXRBbGxEZWFsZXJSZXBvcnQodGhpcy5tc2dJRCwgdGhpcy5nZXRRdWVyeUFyZWEodGhpcy5zZWxlY3RfYXJlYSksIHRoaXMuc2VsZWN0VHlwZVZhbHVlLCB0aGlzLnNlYXJjaF9zZWxlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygiZ2V0RGVhbGVyUmVwb3J0IHJlY2VpdmU6IiArIEpTT04uc3RyaW5naWZ5KHJlcykpOwoKICAgICAgICBpZiAocmVzLmRhdGEgPT0gbnVsbCkgewogICAgICAgICAgY29uc29sZS5sb2coImRhdGEgc2l6ZSBpcyAwIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpczIuaGVhZGVycyA9IF90aGlzMi5pbml0SGVhZGVyRGF0YShyZXMuZGF0YS5yZXBvcnRzKTsKCiAgICAgICAgaWYgKHJlcy5kYXRhLnJlcG9ydHMubGVuZ3RoID09IDApIHsKICAgICAgICAgIF90aGlzMi5kZXNzZXJ0c19hcmVhID0gW107CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5kZXNzZXJ0c19hcmVhID0gX3RoaXMyLmluaXRCb2R5RGF0YShyZXMuZGF0YS5yZXBvcnRzKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIubG9hZGluZ3ZpZXcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXREYXRhOiBmdW5jdGlvbiByZXNldERhdGEoKSB7CiAgICAgIHRoaXMuaGVhZGVycyA9IFtdOwogICAgICB0aGlzLmRlc3NlcnRzX2FyZWEgPSBbXTsKICAgIH0sCiAgICAvL+aehOW7uuWNleS4qmhlYWRlcuWktOS/oeaBrwogICAgYnVpbGRIZWFkZXJCZWFuOiBmdW5jdGlvbiBidWlsZEhlYWRlckJlYW4odGV4dCwgdmFsdWUpIHsKICAgICAgdmFyIGhlYWRlckJlYW4gPSB7fTsKICAgICAgaGVhZGVyQmVhbi50ZXh0ID0gdGV4dEVsbGlwc2lzKHRleHQsIDIwKTsKICAgICAgaGVhZGVyQmVhbi52YWx1ZSA9IHZhbHVlOwogICAgICBoZWFkZXJCZWFuLndpZHRoID0gIjEwcmVtIjsKICAgICAgaGVhZGVyQmVhbi5hbGlnbiA9ICJsZWZ0IjsKICAgICAgcmV0dXJuIGhlYWRlckJlYW47CiAgICB9LAoKICAgIC8qKgogICAgICog5Yid5aeL5YyW6YCJ5oup5Yy65Z+fCiAgICAgKi8KICAgIGluaXRJdGVtc0FyZWE6IGZ1bmN0aW9uIGluaXRJdGVtc0FyZWEoZGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuYXJ0aWNsZV9hcmVhcyA9IFtdOwogICAgICB0aGlzLml0ZW1zX2FyZWEgPSBbJ+WFqOmDqCddOwogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGFyZWFOYW1lKSB7CiAgICAgICAgX3RoaXMzLml0ZW1zX2FyZWEucHVzaChhcmVhTmFtZSk7CgogICAgICAgIF90aGlzMy5hcnRpY2xlX2FyZWFzLnB1c2goYXJlYU5hbWUpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WIneWni+WMlkhlYWRlcueahOaVsOaNrgogICAgaW5pdEhlYWRlckRhdGE6IGZ1bmN0aW9uIGluaXRIZWFkZXJEYXRhKGRhdGEpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgaGVhZGVyRGF0YUFycmF5ID0gW107CiAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLlkI3np7AiLCAiYXJlYSIpKTsKCiAgICAgIGlmICh0aGlzLnNlbGVjdFJlYWRWYWx1ZSA9PSB0aGlzLlNUQVRVU19VTlJFQUQpIHsKICAgICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi5pyq6K+757uf6K6hIiwgInJlYWRpbmciKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaGVhZGVyRGF0YUFycmF5LnB1c2godGhpcy5idWlsZEhlYWRlckJlYW4oIuW3suivu+e7n+iuoSIsICJyZWFkaW5nIikpOwogICAgICB9IC8v5aaC5p6c5piv5peg6ZyA6KaB5Zue5aSN55qE5paH56ug77yM5q2k5YiX5LiN6ZyA6KaB5bGV56S6CgoKICAgICAgaWYgKHRoaXMuZmVlYmFja0JhY2tUeXBlICE9IDQpIHsKICAgICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi5bey5Zue5aSN57uf6K6hIiwgInJlcGx5IikpOwogICAgICB9CgogICAgICBpZiAoZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgIGNvbnNvbGUubG9nKCJpbml0SGVhZGVyRGF0YTphdHRhY2htZW50U3RhdGlzdGljcyBpcyAwIik7CiAgICAgICAgcmV0dXJuIGhlYWRlckRhdGFBcnJheTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coImluaXRIZWFkZXJEYXRhOmRhdGEgIiArIEpTT04uc3RyaW5naWZ5KGRhdGEpKTsKICAgICAgdmFyIGF0dGFjaE5hbWVMaXN0ID0gW107CiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoc3VwcGxpZXJEYXRhKSB7CiAgICAgICAgaWYgKHN1cHBsaWVyRGF0YS5hdHRhY2htZW50UmVwb3J0cyAhPSBudWxsICYmIHN1cHBsaWVyRGF0YS5hdHRhY2htZW50UmVwb3J0cy5sZW5ndGggPiAwICYmIGF0dGFjaE5hbWVMaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICBzdXBwbGllckRhdGEuYXR0YWNobWVudFJlcG9ydHMuZm9yRWFjaChmdW5jdGlvbiAoYXR0YWNobWVudFN0YXRpc3RpY3MpIHsKICAgICAgICAgICAgdmFyIGF0dGFjaG1lbnROYW1lID0gYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudE5hbWUuc2xpY2UoYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudE5hbWUubGFzdEluZGV4T2YoIi8iKSArIDEpOwogICAgICAgICAgICBhdHRhY2hOYW1lTGlzdC5wdXNoKF90aGlzNC5idWlsZEhlYWRlckJlYW4oIuW3suS4i+i9vee7n+iuoSgiICsgYXR0YWNobWVudE5hbWUgKyAiKSIsIGF0dGFjaG1lbnRTdGF0aXN0aWNzLmF0dGFjaG1lbnROYW1lKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBhdHRhY2hOYW1lTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChoZWFkZXJCZWFuKSB7CiAgICAgICAgaGVhZGVyRGF0YUFycmF5LnB1c2goaGVhZGVyQmVhbik7CiAgICAgIH0pOwogICAgICByZXR1cm4gaGVhZGVyRGF0YUFycmF5OwogICAgfSwKCiAgICAvKioKICAgICAqIOmYheivu+e7n+iuoei1i+WAvAogICAgICovCiAgICBjb21wb3NlUmVhZFN0YXRpc3RpY3NEYXRhOiBmdW5jdGlvbiBjb21wb3NlUmVhZFN0YXRpc3RpY3NEYXRhKGJvZHlCZWFuLCBoYXZlUmVhZENvdW50LCByZWFkQ291bnQpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0UmVhZFZhbHVlID09IHRoaXMuU1RBVFVTX1JFQUQpIHsKICAgICAgICBib2R5QmVhbi5yZWFkaW5nU3RhdGlzdGljc0NvdW50ID0gaGF2ZVJlYWRDb3VudDsKICAgICAgfSBlbHNlIHsKICAgICAgICBib2R5QmVhbi5yZWFkaW5nU3RhdGlzdGljc0NvdW50ID0gcmVhZENvdW50IC0gaGF2ZVJlYWRDb3VudDsKICAgICAgfQoKICAgICAgYm9keUJlYW4ucmVhZGluZ1RvdGFsQ291bnQgPSByZWFkQ291bnQ7CiAgICAgIGJvZHlCZWFuLnJlYWRpbmdQZXJjZW50YWdlID0gcm91bmRGdW4oYm9keUJlYW4ucmVhZGluZ1N0YXRpc3RpY3NDb3VudCwgYm9keUJlYW4ucmVhZGluZ1RvdGFsQ291bnQpOwogICAgfSwKCiAgICAvKioKICAgICAqIOmYheivu+e7n+iuoeWPjemmiAogICAgICovCiAgICBjb21wb3NlRmVlZGJhY2tEYXRhOiBmdW5jdGlvbiBjb21wb3NlRmVlZGJhY2tEYXRhKGJvZHlCZWFuLCBoYXZlRmVlZGJhY2tDb3VudCwgZmVlZGJhY2tDb3VudCkgewogICAgICBib2R5QmVhbi5yZXBseVN0YXRpc3RpY3NDb3VudCA9IGhhdmVGZWVkYmFja0NvdW50OwogICAgICBib2R5QmVhbi5yZXBseVRvdGFsQ291bnQgPSBmZWVkYmFja0NvdW50OwogICAgICBib2R5QmVhbi5yZXBseVBlcmNlbnRhZ2UgPSByb3VuZEZ1bihib2R5QmVhbi5yZXBseVN0YXRpc3RpY3NDb3VudCwgYm9keUJlYW4ucmVwbHlUb3RhbENvdW50KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDnu4Too4XpmYTku7bmlofku7YKICAgICAqLwogICAgY29tcG9zZUF0dGFjaEZpbGU6IGZ1bmN0aW9uIGNvbXBvc2VBdHRhY2hGaWxlKGF0dGFjaG1lbnRTdGF0aXN0aWNzKSB7CiAgICAgIHZhciBhdHRhY2hEYXRhID0ge307CiAgICAgIGF0dGFjaERhdGEuYXR0YWNobWVudElkID0gYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudElkOwogICAgICBhdHRhY2hEYXRhLnZhbHVlU3RhdGlzdGljc0NvdW50ID0gYXR0YWNobWVudFN0YXRpc3RpY3MuaGF2ZURvd25sb2FkQ291bnQ7CiAgICAgIGF0dGFjaERhdGEudmFsdWVUb3RhbENvdW50ID0gYXR0YWNobWVudFN0YXRpc3RpY3MuZG93bmxvYWRDb3VudDsKICAgICAgYXR0YWNoRGF0YS52YWx1ZVBlcmNlbnRhZ2UgPSByb3VuZEZ1bihhdHRhY2hEYXRhLnZhbHVlU3RhdGlzdGljc0NvdW50LCBhdHRhY2hEYXRhLnZhbHVlVG90YWxDb3VudCk7CiAgICAgIHJldHVybiBhdHRhY2hEYXRhOwogICAgfSwKCiAgICAvKioKICAgICAqIOaWsOW7uuS4gOS4qumZhOS7tuWvueixoQogICAgICovCiAgICBidWlsZE5ld0F0dGFjaG1lbnREYXRhOiBmdW5jdGlvbiBidWlsZE5ld0F0dGFjaG1lbnREYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiAiIiwKICAgICAgICBzdGF0aXN0aWNzQ291bnQ6IDAsCiAgICAgICAgdG90YWxDb3VudDogMAogICAgICB9OwogICAgfSwKCiAgICAvKioKICAgICAqIOe7hOijheihqOagvOWGheWuuQogICAgICovCiAgICBpbml0Qm9keURhdGE6IGZ1bmN0aW9uIGluaXRCb2R5RGF0YShkYXRhKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGRhdGFBcnJheSA9IFtdOwogICAgICB2YXIgdG90YWxpbmZvID0ge307CiAgICAgIHZhciB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzID0gW107CiAgICAgIHRvdGFsaW5mby5hcmVhID0gIuWQiOiuoSI7CiAgICAgIHZhciByZWFkU3RhdGlzdGljc0NvdW50ID0gMCwKICAgICAgICAgIHJlYWRTdGF0aXN0aWNzVG90YWxDb3VudCA9IDA7CiAgICAgIHZhciBmZWVkYmFja1N0YXRpc3RpY3NDb3VudCA9IDAsCiAgICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50ID0gMDsKICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0aXN0aWNzUmVwb3J0KSB7CiAgICAgICAgaWYgKHN0YXRpc3RpY3NSZXBvcnQuYXJlYSA9PSBudWxsKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgYm9keUJlYW4gPSB7fTsKICAgICAgICBib2R5QmVhbi5hcmVhID0gc3RhdGlzdGljc1JlcG9ydC5hcmVhOyAvL+mYheivu+e7n+iuoei1i+WAvAoKICAgICAgICBfdGhpczUuY29tcG9zZVJlYWRTdGF0aXN0aWNzRGF0YShib2R5QmVhbiwgc3RhdGlzdGljc1JlcG9ydC5oYXZlUmVhZENvdW50LCBzdGF0aXN0aWNzUmVwb3J0LnJlYWRDb3VudCk7CgogICAgICAgIHJlYWRTdGF0aXN0aWNzQ291bnQgKz0gYm9keUJlYW4ucmVhZGluZ1N0YXRpc3RpY3NDb3VudDsKICAgICAgICByZWFkU3RhdGlzdGljc1RvdGFsQ291bnQgKz0gYm9keUJlYW4ucmVhZGluZ1RvdGFsQ291bnQ7IC8v5Zue5aSN57uf6K6h6LWL5YC8CgogICAgICAgIF90aGlzNS5jb21wb3NlRmVlZGJhY2tEYXRhKGJvZHlCZWFuLCBzdGF0aXN0aWNzUmVwb3J0LmhhdmVGZWVkYmFja0NvdW50LCBzdGF0aXN0aWNzUmVwb3J0LmZlZWRiYWNrQ291bnQpOwoKICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NDb3VudCArPSBib2R5QmVhbi5yZXBseVN0YXRpc3RpY3NDb3VudDsKICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50ICs9IGJvZHlCZWFuLnJlcGx5VG90YWxDb3VudDsgLy/pmYTku7bkuIvovb3nu5/orqEKCiAgICAgICAgdmFyIGF0dGFjaERhdGFMaXN0ID0gW107CiAgICAgICAgc3RhdGlzdGljc1JlcG9ydC5hdHRhY2htZW50UmVwb3J0cy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRhY2htZW50U3RhdGlzdGljcywgaW5kZXgpIHsKICAgICAgICAgIGlmICh0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0gPSBfdGhpczUuYnVpbGROZXdBdHRhY2htZW50RGF0YSgpOwogICAgICAgICAgfSAvL+iuvue9rumZhOS7tuaVsOaNrgoKCiAgICAgICAgICB2YXIgYXR0YWNoRGF0YSA9IF90aGlzNS5jb21wb3NlQXR0YWNoRmlsZShhdHRhY2htZW50U3RhdGlzdGljcyk7CgogICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0uYXR0YWNobWVudElkID0gYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudElkOwogICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0uc3RhdGlzdGljc0NvdW50ICs9IGF0dGFjaERhdGEudmFsdWVTdGF0aXN0aWNzQ291bnQ7CiAgICAgICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XS50b3RhbENvdW50ICs9IGF0dGFjaERhdGEudmFsdWVUb3RhbENvdW50OwogICAgICAgICAgYXR0YWNoRGF0YUxpc3QucHVzaChhdHRhY2hEYXRhKTsKICAgICAgICB9KTsKICAgICAgICBib2R5QmVhbi5hdHRhY2hEYXRhTGlzdCA9IGF0dGFjaERhdGFMaXN0OwogICAgICAgIGRhdGFBcnJheS5wdXNoKGJvZHlCZWFuKTsKICAgICAgfSk7CiAgICAgIHRvdGFsaW5mby5yZWFkaW5nU3RhdGlzdGljc0NvdW50ID0gcmVhZFN0YXRpc3RpY3NDb3VudDsKICAgICAgdG90YWxpbmZvLnJlYWRpbmdUb3RhbENvdW50ID0gcmVhZFN0YXRpc3RpY3NUb3RhbENvdW50OwogICAgICB0b3RhbGluZm8ucmVhZGluZ1BlcmNlbnRhZ2UgPSByb3VuZEZ1bihyZWFkU3RhdGlzdGljc0NvdW50LCByZWFkU3RhdGlzdGljc1RvdGFsQ291bnQpOwogICAgICB0b3RhbGluZm8ucmVwbHlTdGF0aXN0aWNzQ291bnQgPSBmZWVkYmFja1N0YXRpc3RpY3NDb3VudDsKICAgICAgdG90YWxpbmZvLnJlcGx5VG90YWxDb3VudCA9IGZlZWRiYWNrU3RhdGlzdGljc1RvdGFsQ291bnQ7CiAgICAgIHRvdGFsaW5mby5yZXBseVBlcmNlbnRhZ2UgPSByb3VuZEZ1bihmZWVkYmFja1N0YXRpc3RpY3NDb3VudCwgZmVlZGJhY2tTdGF0aXN0aWNzVG90YWxDb3VudCk7CiAgICAgIHRvdGFsaW5mby5hdHRhY2hEYXRhTGlzdCA9IFtdOwogICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzLmZvckVhY2goZnVuY3Rpb24gKGF0dGFjaG1lbnRTdGF0aXN0aWNzKSB7CiAgICAgICAgdmFyIGF0dGFjaERhdGEgPSB7fTsKICAgICAgICBhdHRhY2hEYXRhLmF0dGFjaG1lbnRJZCA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmF0dGFjaG1lbnRJZDsKICAgICAgICBhdHRhY2hEYXRhLnZhbHVlU3RhdGlzdGljc0NvdW50ID0gYXR0YWNobWVudFN0YXRpc3RpY3Muc3RhdGlzdGljc0NvdW50OwogICAgICAgIGF0dGFjaERhdGEudmFsdWVUb3RhbENvdW50ID0gYXR0YWNobWVudFN0YXRpc3RpY3MudG90YWxDb3VudDsKICAgICAgICBhdHRhY2hEYXRhLnZhbHVlUGVyY2VudGFnZSA9IHJvdW5kRnVuKGF0dGFjaG1lbnRTdGF0aXN0aWNzLnN0YXRpc3RpY3NDb3VudCwgYXR0YWNobWVudFN0YXRpc3RpY3MudG90YWxDb3VudCk7CiAgICAgICAgdG90YWxpbmZvLmF0dGFjaERhdGFMaXN0LnB1c2goYXR0YWNoRGF0YSk7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygidG90YWxBdHRhY2htZW50U3RhdGlzdGljczoiICsgSlNPTi5zdHJpbmdpZnkodG90YWxpbmZvLmF0dGFjaERhdGFMaXN0KSk7CiAgICAgIGRhdGFBcnJheS51bnNoaWZ0KHRvdGFsaW5mbyk7CiAgICAgIHJldHVybiBkYXRhQXJyYXk7CiAgICB9LAogICAgY2xvc2VSZW1pbmRlcjogZnVuY3Rpb24gY2xvc2VSZW1pbmRlcigpIHsKICAgICAgY29uc29sZS5sb2coIi4uLi4uLuWFs+mXreaPkOmGkuaMiemSri4uLi4uLi4iKTsKICAgICAgdGhpcy5yZW1pbmREaWFsb2cgPSBmYWxzZTsKICAgICAgY2xvc2VTbmFja2JhcigpOwogICAgfSwKICAgIC8v5YWz6ZetCiAgICBidF9jbG9zZTogZnVuY3Rpb24gYnRfY2xvc2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCIuLi4uLi7lhbPpl63mjInpkq4uLi4uLi4uIik7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlZENoaWxkIiwgZmFsc2UpOwogICAgfSwKICAgIC8v5YWz6ZetZGlhbG9nCiAgICBjbG9zZVBhcmVudDogZnVuY3Rpb24gY2xvc2VQYXJlbnQodW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mbykgewogICAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLS0iICsgdGhpcy5ub3dEaWFsb2cpOwogICAgICB0aGlzLmRpYWxvZ19zdXBwbGllciA9IGZhbHNlOwogICAgICB0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uY2xlYXIoKTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih1blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmVudHJpZXMoKSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfc3RlcCR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwLnZhbHVlLCAyKSwKICAgICAgICAgICAgICBrZXkgPSBfc3RlcCR2YWx1ZVswXSwKICAgICAgICAgICAgICB2YWx1ZSA9IF9zdGVwJHZhbHVlWzFdOwoKICAgICAgICAgIHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5zZXQoa2V5LCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDojrflj5bpnIDopoHmjpLpmaTnmoTlhazlj7jliJfooagKICAgICAqLwogICAgZ2V0VW5TZWxlY3RDb21wYW55Q29kZUxpc3Q6IGZ1bmN0aW9uIGdldFVuU2VsZWN0Q29tcGFueUNvZGVMaXN0KCkgewogICAgICB2YXIgZXhjbHVkZUNvbXBhbnlDb2RlID0gW107CgogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5lbnRyaWVzKCkpLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9zdGVwMiR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwMi52YWx1ZSwgMiksCiAgICAgICAgICAgICAga2V5ID0gX3N0ZXAyJHZhbHVlWzBdLAogICAgICAgICAgICAgIHZhbHVlID0gX3N0ZXAyJHZhbHVlWzFdOwoKICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICBleGNsdWRlQ29tcGFueUNvZGUucHVzaChrZXkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCdnZXRVblNlbGVjdENvbXBhbnlDb2RlTGlzdDonICsgSlNPTi5zdHJpbmdpZnkoZXhjbHVkZUNvbXBhbnlDb2RlKSk7CiAgICAgIHJldHVybiBleGNsdWRlQ29tcGFueUNvZGU7CiAgICB9LAoKICAgIC8qKgogICAgICog6I635Y+W6ZyA6KaB5o6S6Zmk55qE55So5oi35YiX6KGoCiAgICAgKi8KICAgIGdldFVuc2VsZWN0VXNlckxpc3Q6IGZ1bmN0aW9uIGdldFVuc2VsZWN0VXNlckxpc3QoKSB7CiAgICAgIHZhciBleGNsdWRlVXNlckxpc3QgPSBbXTsKCiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmVudHJpZXMoKSksCiAgICAgICAgICBfc3RlcDM7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX3N0ZXAzJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAzLnZhbHVlLCAyKSwKICAgICAgICAgICAgICBrZXkgPSBfc3RlcDMkdmFsdWVbMF0sCiAgICAgICAgICAgICAgdmFsdWUgPSBfc3RlcDMkdmFsdWVbMV07CgogICAgICAgICAgY29uc29sZS5sb2coImtleToiICsga2V5ICsgIiB2YWx1ZToiICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTsKCiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgZXhjbHVkZVVzZXJMaXN0LnB1c2goaXRlbSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCdnZXRVbnNlbGVjdFVzZXJMaXN0OicgKyBKU09OLnN0cmluZ2lmeShleGNsdWRlVXNlckxpc3QpKTsKICAgICAgcmV0dXJuIGV4Y2x1ZGVVc2VyTGlzdDsKICAgIH0sCiAgICAvL+aYvuekulJlbWluZGVy5by55Ye65qGGCiAgICBzaG93UmVtaW5kZXJEaWFsb2c6IGZ1bmN0aW9uIHNob3dSZW1pbmRlckRpYWxvZygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLnJlbWluZERpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMucmVtaW5kZXJMb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0UmVtaW5kZXJEZWFsZXJzKHRoaXMubXNnSUQsIHRoaXMuZ2V0VW5TZWxlY3RDb21wYW55Q29kZUxpc3QoKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09ICcwJykgewogICAgICAgICAgX3RoaXM2LnJlbWluZGVyQ29tcGFueUxpc3QgPSByZXMuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM2LnJlbWluZGVyQ29tcGFueUxpc3QgPSBbXTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCdyZW1pbmRlckNvbXBhbnlMaXN0OicgKyBKU09OLnN0cmluZ2lmeShfdGhpczYucmVtaW5kZXJDb21wYW55TGlzdCkpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYucmVtaW5kZXJMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Y+R6YCB5o+Q6YaSCiAgICBzZW5kUmVtaW5kZXI6IGZ1bmN0aW9uIHNlbmRSZW1pbmRlcigpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygiLi4uLi4u5Y+R6YCB5o+Q6YaSLi4uLi4uLiIpOwogICAgICB0aGlzLmlzU2VuZGluZyA9IHRydWU7CiAgICAgIHRoaXMucmVtaW5kRGlhbG9nID0gZmFsc2U7CiAgICAgIHNlbmRNZXNzYWdlUmVtaW5kKHRoaXMubXNnSUQsIHRoaXMuZ2V0VW5TZWxlY3RDb21wYW55Q29kZUxpc3QoKSwgdGhpcy5nZXRVbnNlbGVjdFVzZXJMaXN0KCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAwKSB7CiAgICAgICAgICBzaG93U25hY2tiYXIoIuWPkemAgeaIkOWKnyIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwoKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgPT0gbnVsbCB8fCB0eXBlb2YgZXJyb3IucmVzcG9uc2UgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciByZXMgPSBlcnJvci5yZXNwb25zZTsKCiAgICAgICAgaWYgKHJlcy5kYXRhID09IG51bGwgfHwgdHlwZW9mIHJlcy5kYXRhID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwoKICAgICAgICBpZiAoZGF0YS5jb2RlICE9IG51bGwgJiYgZGF0YS5jb2RlID09ICcyOCcpIHsKICAgICAgICAgIHNob3dTbmFja2JhcigiMeWwj+aXtuWGheWPquiDveWPkemAgTHmrKHmj5DphpLvvIzor7fnqI3lkI7lho3or5Xor5UiKTsKICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNy5pc1NlbmRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mn6Xmib4KICAgIGJ0X3NlYXJjaDogZnVuY3Rpb24gYnRfc2VhcmNoKCkgewogICAgICBjb25zb2xlLmxvZygiLi4uLi4u5p+l5om+Li4uLi4uLjoiICsgdGhpcy5zZWFyY2hfc2VsZSk7CgogICAgICBpZiAodGhpcy5zZWFyY2hfc2VsZSAhPSAiIikgewogICAgICAgIHRoaXMuZ2V0RGVhbGVyUmVwb3J0U2VydmljZSgpOwogICAgICB9CiAgICB9LAogICAgLy/ov5jljp8KICAgIGJ0X3Jlc2V0OiBmdW5jdGlvbiBidF9yZXNldCgpIHsKICAgICAgY29uc29sZS5sb2coIi4uLi4uLui/mOWOny4uLi4uLi4iKTsKICAgICAgdGhpcy5zZWFyY2hfc2VsZSA9ICIiOwogICAgICB0aGlzLnNlbGVjdF9zdGF0dXMgPSAi5pyq6K+7IiwgdGhpcy5zZWxlY3RfdHlwZSA9IHsKICAgICAgICB0ZXh0OiAi5YWo6YOoIiwKICAgICAgICBpZDogIiIKICAgICAgfTsKICAgICAgdGhpcy5zZWxlY3RSZWFkVmFsdWUgPSB0aGlzLlNUQVRVU19VTlJFQUQ7CiAgICAgIHRoaXMuc2VsZWN0X2FyZWEgPSAi5YWo6YOoIjsKICAgICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgICB9LAogICAgLy/nirbmgIHpgInmi6nnmoTlgLzmlLnlj5gKICAgIHNlbGVjdFN0YXR1c0NoYW5nZTogZnVuY3Rpb24gc2VsZWN0U3RhdHVzQ2hhbmdlKCkgewogICAgICBjb25zb2xlLmxvZygiLi4uLueKtuaAgemAieaLqS4uLi4gOiIgKyB0aGlzLnNlbGVjdF9zdGF0dXMpOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0X3N0YXR1cyA9PSAi5pyq6K+7IikgewogICAgICAgIHRoaXMuc2VsZWN0UmVhZFZhbHVlID0gdGhpcy5TVEFUVVNfVU5SRUFEOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0UmVhZFZhbHVlID0gdGhpcy5TVEFUVVNfUkVBRDsKICAgICAgfQoKICAgICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgICB9LAogICAgLy/ljLrln5/pgInmi6nnmoTlgLzmlLnlj5gKICAgIHNlbGVjdEFyZWFDaGFuZ2U6IGZ1bmN0aW9uIHNlbGVjdEFyZWFDaGFuZ2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCIuLi4u5Yy65Z+f6YCJ5oupLi4uLiA6IiArIHRoaXMuc2VsZWN0X2FyZWEpOwogICAgICB0aGlzLmdldERlYWxlclJlcG9ydFNlcnZpY2UoKTsKICAgIH0sCiAgICBleHBvcnRSZXBseTogZnVuY3Rpb24gZXhwb3J0UmVwbHkoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coIi4uLi7lr7zlh7rlm57lpI3pmYTku7YuLi4uIDoiICsgdGhpcy5zZWxlY3RfYXJlYSk7CiAgICAgIHRoaXMuaXNEb3dubG9hZFVybFJlcXVlc3RpbmcgPSB0cnVlOwogICAgICBnZXRBbGxEb3dubG9hZFVybEluUmVwb3J0Vmlldyh0aGlzLm1zZ0lEKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAodHlwZW9mIHJlcyAhPT0gInVuZGVmaW5lZCIgJiYgcmVzICE9PSBudWxsICYmIHJlcy5jb2RlID09PSAwICYmIHR5cGVvZiByZXMuZGF0YSAhPT0gInVuZGVmaW5lZCIgJiYgcmVzLmRhdGEgIT09IG51bGwgJiYgcmVzLmRhdGEgIT09ICIiKSB7CiAgICAgICAgICBkb3dubG9hZEZpbGVCeVVybChyZXMuZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNob3dTbmFja2Jhcign5LiL6L295aSx6LSl77yM6K+356iN5YCZ6YeN6K+VJyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2hvd1NuYWNrYmFyKCfkuIvovb3lpLHotKXvvIzor7fnqI3lgJnph43or5UnKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM4LmlzRG93bmxvYWRVcmxSZXF1ZXN0aW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8v57G75Z6L6YCJ5oup55qE5YC85pS55Y+YCiAgICBzZWxlY3RUeXBlQ2hhbmdlOiBmdW5jdGlvbiBzZWxlY3RUeXBlQ2hhbmdlKCkgewogICAgICB0aGlzLnNlbGVjdFR5cGVWYWx1ZSA9IHRoaXMuc2VsZWN0X3R5cGUuaWQ7CiAgICAgIGNvbnNvbGUubG9nKCIuLi4u57G75Z6L6YCJ5oupLi4uLiBzZWxlY3RUeXBlVmFsdWU6IiArIHRoaXMuc2VsZWN0VHlwZVZhbHVlKTsKICAgICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgICB9LAogICAgLy/lvZN0YWJsZSByb3cgY2xpY2vml7bop6blj5EKICAgIGNsaWNrUm93OiBmdW5jdGlvbiBjbGlja1Jvdyh0eXBlLCBhcmVhLCBhdHRhY2hJZCkgewogICAgICBpZiAoYXJlYSA9PSAn5ZCI6K6hJykgewogICAgICAgIC8vICB0aGlzLmNsaWNrQXJlYU5hbWUgPSB0aGlzLmdldFF1ZXJ5QXJlYSgn5YWo6YOoJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2xpY2tBcmVhTmFtZSA9IHRoaXMuZ2V0UXVlcnlBcmVhKGFyZWEpOwogICAgICB9CgogICAgICB0aGlzLnN0YXRpc3RpY3NTdGF0dXMgPSB0eXBlOwogICAgICB0aGlzLmF0dGFjaG1lbnRJZCA9IGF0dGFjaElkOwogICAgICBjb25zb2xlLmxvZygiLi4uLnJvd0NsaWNrLi4uLiBzdGF0aXN0aWNzU3RhdHVzOiIgKyB0aGlzLnN0YXRpc3RpY3NTdGF0dXMgKyAiICBjbGlja0FyZWFOYW1lOiIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmNsaWNrQXJlYU5hbWUpICsgIiBhdHRhY2htZW50SWQ6IiArIHRoaXMuYXR0YWNobWVudElkKTsKICAgICAgdGhpcy5kaWFsb2dfc3VwcGxpZXIgPSB0cnVlOwogICAgfQogIH0KfTs="},null]}