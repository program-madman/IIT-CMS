{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/eslint-loader/index.js??ref--13-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/store/modules/user.js","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/store/modules/user.js","mtime":1638535920900},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHN0YXRlID0gewogIGF1dGhvcml6YXRpb246IG51bGwsCiAgbG9naW5TdGF0dXM6IGZhbHNlLAogIHVzZXJJbmZvOiB7CiAgICB0b2tlbjogbnVsbCwKICAgIG5hbWU6ICIiLAogICAgcm9sZTogbnVsbCwKICAgIHVzZXJJZDogIiIsCiAgICBwb3NpdGlvbk5hbWU6ICIiLAogICAgbWVudUxpc3Q6IFtdLAogICAgZGVhbGVyT2JqOiB7CiAgICAgIGNvbXBhbnlOYW1lOiAiIiwKICAgICAgY29tcGFueUNvZGU6ICIiLAogICAgICBjb21wYW55VHlwZTogbnVsbCwKICAgICAgZGVhbGVyVHlwZTogbnVsbCwKICAgICAgYXJlYTogIiIsCiAgICAgIHBvc2l0aW9uczogbnVsbCwKICAgICAgc2VsZWN0ZWQ6IG51bGwKICAgIH0sCiAgICBjb21wYW55Q29kZTogIiIsCiAgICBkZXBhcnRtZW50OiAiIiwKICAgIHNlbmREZWFsZXJzOiBudWxsCiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIHVzZXIpIHsKICAgIC8vIOWPmOabtOeKtuaAgQogICAgc3RhdGUudXNlckluZm8gPSB1c2VyOwogICAgc3RhdGUubG9naW5TdGF0dXMgPSB0cnVlOyAvL3RoaXMuc3RvcmVTZXNzaW9uKHN0YXRlKTsKICB9LAogIHNldEF1dGhvcml6YXRpb246IGZ1bmN0aW9uIHNldEF1dGhvcml6YXRpb24oc3RhdGUsIGF1dGhvcml6YXRpb24pIHsKICAgIHN0YXRlLmF1dGhvcml6YXRpb24gPSBhdXRob3JpemF0aW9uOwogIH0sCiAgc3RvcmVTZXNzaW9uOiBmdW5jdGlvbiBzdG9yZVNlc3Npb24oc3RhdGUpIHsKICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImF1dGhvcml6YXRpb24iLCBlc2NhcGUoc3RhdGUuYXV0aG9yaXphdGlvbikpOwogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlckluZm8iLCBlc2NhcGUoSlNPTi5zdHJpbmdpZnkoc3RhdGUudXNlckluZm8pKSk7CiAgfSwKICByZXNldERhdGFGcm9tU2Vzc2lvbjogZnVuY3Rpb24gcmVzZXREYXRhRnJvbVNlc3Npb24oc3RhdGUpIHsKICAgIHZhciB1c2VySW5mbyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIik7IC8vIGNvbnNvbGUuZGVidWcoIj09PT09PT09PT09PT09PT09PiIrdXNlckluZm8pCgogICAgaWYgKHVzZXJJbmZvID09IG51bGwgfHwgdHlwZW9mIHVzZXJJbmZvID09ICJ1bmRlZmluZWQiKSByZXR1cm47CiAgICBzdGF0ZS5sb2dpblN0YXR1cyA9IHRydWU7CiAgICBzdGF0ZS5hdXRob3JpemF0aW9uID0gdW5lc2NhcGUoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXV0aG9yaXphdGlvbiIpKTsKICAgIHN0YXRlLnVzZXJJbmZvID0gSlNPTi5wYXJzZSh1bmVzY2FwZSh1c2VySW5mbykpOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7fTsKdmFyIGdldHRlcnMgPSB7CiAgaGFzRWRpdFBlcm1pc3Npb246IGZ1bmN0aW9uIGhhc0VkaXRQZXJtaXNzaW9uKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlckluZm8ubWVudUxpc3QuaW5kZXhPZigyMSkgPj0gMDsKICB9LAogIHBlcm1pc3Npb25MaXN0OiBmdW5jdGlvbiBwZXJtaXNzaW9uTGlzdChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXJJbmZvLm1lbnVMaXN0OwogIH0KfTsgLy/miopzdGF0ZSwgbXV0YXRpb25z562J5pq06Zyy5Ye65Y6744CCCgpleHBvcnQgZGVmYXVsdCB7CiAgLy/pnIDopoHlkb3lkI3nqbrpl7QKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTs="},{"version":3,"sources":["/Users/liuguanghui/Documents/cms_code/my-message/cms/src/store/modules/user.js"],"names":["state","authorization","loginStatus","userInfo","token","name","role","userId","positionName","menuList","dealerObj","companyName","companyCode","companyType","dealerType","area","positions","selected","department","sendDealers","mutations","setUser","user","setAuthorization","storeSession","sessionStorage","setItem","escape","JSON","stringify","resetDataFromSession","getItem","unescape","parse","actions","getters","hasEditPermission","indexOf","permissionList","namespaced"],"mappings":"AAAA,IAAMA,KAAK,GAAG;AACZC,EAAAA,aAAa,EAAC,IADF;AAEZC,EAAAA,WAAW,EAAC,KAFA;AAGZC,EAAAA,QAAQ,EAAC;AACPC,IAAAA,KAAK,EAAE,IADA;AAEPC,IAAAA,IAAI,EAAE,EAFC;AAGPC,IAAAA,IAAI,EAAE,IAHC;AAIPC,IAAAA,MAAM,EAAE,EAJD;AAKPC,IAAAA,YAAY,EAAE,EALP;AAMPC,IAAAA,QAAQ,EAAE,EANH;AAOPC,IAAAA,SAAS,EAAE;AACTC,MAAAA,WAAW,EAAE,EADJ;AAETC,MAAAA,WAAW,EAAE,EAFJ;AAGTC,MAAAA,WAAW,EAAE,IAHJ;AAITC,MAAAA,UAAU,EAAE,IAJH;AAKTC,MAAAA,IAAI,EAAE,EALG;AAMTC,MAAAA,SAAS,EAAE,IANF;AAOTC,MAAAA,QAAQ,EAAE;AAPD,KAPJ;AAgBPL,IAAAA,WAAW,EAAE,EAhBN;AAiBPM,IAAAA,UAAU,EAAE,EAjBL;AAkBPC,IAAAA,WAAW,EAAE;AAlBN;AAHG,CAAd;AAyBA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,OADgB,mBACRrB,KADQ,EACFsB,IADE,EACI;AAClB;AACAtB,IAAAA,KAAK,CAACG,QAAN,GAAiBmB,IAAjB;AACAtB,IAAAA,KAAK,CAACE,WAAN,GAAoB,IAApB,CAHkB,CAIlB;AACD,GANe;AAOhBqB,EAAAA,gBAPgB,4BAOCvB,KAPD,EAOOC,aAPP,EAOqB;AACnCD,IAAAA,KAAK,CAACC,aAAN,GAAsBA,aAAtB;AACD,GATe;AAUhBuB,EAAAA,YAVgB,wBAUHxB,KAVG,EAUG;AACjByB,IAAAA,cAAc,CAACC,OAAf,CAAuB,eAAvB,EAAuCC,MAAM,CAAC3B,KAAK,CAACC,aAAP,CAA7C;AACAwB,IAAAA,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAmCC,MAAM,CAACC,IAAI,CAACC,SAAL,CAAe7B,KAAK,CAACG,QAArB,CAAD,CAAzC;AAED,GAde;AAehB2B,EAAAA,oBAfgB,gCAeK9B,KAfL,EAeW;AACzB,QAAIG,QAAQ,GAAGsB,cAAc,CAACM,OAAf,CAAuB,UAAvB,CAAf,CADyB,CAEzB;;AACA,QAAG5B,QAAQ,IAAI,IAAZ,IAAoB,OAAOA,QAAP,IAAoB,WAA3C,EAAwD;AAExDH,IAAAA,KAAK,CAACE,WAAN,GAAoB,IAApB;AACAF,IAAAA,KAAK,CAACC,aAAN,GAAsB+B,QAAQ,CAACP,cAAc,CAACM,OAAf,CAAuB,eAAvB,CAAD,CAA9B;AACA/B,IAAAA,KAAK,CAACG,QAAN,GAAgByB,IAAI,CAACK,KAAL,CAAWD,QAAQ,CAAC7B,QAAD,CAAnB,CAAhB;AACD;AAvBe,CAAlB;AA4BA,IAAM+B,OAAO,GAAG,EAAhB;AAGA,IAAMC,OAAO,GAAG;AACdC,EAAAA,iBAAiB,EAAE,2BAAApC,KAAK,EAAI;AAC1B,WAAOA,KAAK,CAACG,QAAN,CAAeM,QAAf,CAAwB4B,OAAxB,CAAgC,EAAhC,KAAuC,CAA9C;AACD,GAHa;AAIdC,EAAAA,cAAc,EAAE,wBAAAtC,KAAK,EAAG;AACtB,WAAOA,KAAK,CAACG,QAAN,CAAeM,QAAtB;AACD;AANa,CAAhB,C,CAUA;;AACA,eAAe;AACb;AACA8B,EAAAA,UAAU,EAAE,IAFC;AAGbvC,EAAAA,KAAK,EAALA,KAHa;AAIboB,EAAAA,SAAS,EAATA,SAJa;AAKbc,EAAAA,OAAO,EAAPA,OALa;AAMbC,EAAAA,OAAO,EAAPA;AANa,CAAf","sourcesContent":["const state = {\n  authorization:null,\n  loginStatus:false,\n  userInfo:{\n    token: null,\n    name: \"\",\n    role: null,\n    userId: \"\",\n    positionName: \"\",\n    menuList: [],\n    dealerObj: {\n      companyName: \"\",\n      companyCode: \"\",\n      companyType: null,\n      dealerType: null,\n      area: \"\",\n      positions: null,\n      selected: null\n    },\n    companyCode: \"\",\n    department: \"\",\n    sendDealers: null\n  }\n};\n\nconst mutations = {\n  setUser(state,user) {\n    // 变更状态\n    state.userInfo = user;\n    state.loginStatus = true;\n    //this.storeSession(state);\n  },\n  setAuthorization(state,authorization){\n    state.authorization = authorization;\n  },\n  storeSession(state){\n    sessionStorage.setItem(\"authorization\",escape(state.authorization))\n    sessionStorage.setItem(\"userInfo\", escape(JSON.stringify(state.userInfo)));\n    \n  },\n  resetDataFromSession(state){\n    let userInfo = sessionStorage.getItem(\"userInfo\")\n    // console.debug(\"=================>\"+userInfo)\n    if(userInfo == null || typeof(userInfo) == \"undefined\") return\n\n    state.loginStatus = true;\n    state.authorization = unescape(sessionStorage.getItem(\"authorization\"));\n    state.userInfo= JSON.parse(unescape(userInfo));\n  }\n  \n};\n\n\nconst actions = {\n  \n};\nconst getters = {\n  hasEditPermission: state => {\n    return state.userInfo.menuList.indexOf(21) >= 0;\n  },\n  permissionList: state =>{\n    return state.userInfo.menuList;\n  }\n};\n\n\n//把state, mutations等暴露出去。\nexport default {\n  //需要命名空间\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters\n}"]}]}