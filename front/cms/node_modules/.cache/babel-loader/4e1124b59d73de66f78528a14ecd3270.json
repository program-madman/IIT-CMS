{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/publishArticle/publish.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/publishArticle/publish.vue","mtime":1639763210654},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2xpdWd1YW5naHVpL0RvY3VtZW50cy9jbXNfY29kZS9teS1tZXNzYWdlL2Ntcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBwdWJsaXNoTWVzc2FnZSwgZ2V0RGVhbGVyTGlzdCwgZ2V0RGVhbGVyRGVwTGlzdCwgZ2V0T2VtRGVwTGlzdCB9IGZyb20gIkAvYXBpL2dldERhdGEuanMiOwppbXBvcnQgIkAvdXRpbHMvdGltZUZvcm1hdGUuanMiOwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIkAvdXRpbHMvZXZlbnQtYnVzIjsKaW1wb3J0IHsgc2hvd1NuYWNrYmFyLCBjbG9zZVNuYWNrYmFyIH0gZnJvbSAiQC91dGlscy9zbmFja2Jhci5qcyI7CmltcG9ydCB7IFRocm90dGxlLCBkZWVwQ2xvbmUgfSBmcm9tICJAL3V0aWxzL3Rvb2xzLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBvcGVuOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgdm90ZUVuYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRlYWxlcjogewogICAgICB0eXBlOiBbT2JqZWN0LCBBcnJheSwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICB0aW1lUGlja2VyOiBmdW5jdGlvbiB0aW1lUGlja2VyKCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuL3RpbWVQaWNrZXIudnVlIik7CiAgICB9LAogICAgYWxlcnRUaW1lOiBmdW5jdGlvbiBhbGVydFRpbWUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIkAvY29tcG9uZW50cy9iYXNlL2FsZXJ0VGltZSIpOwogICAgfSwKICAgIGxvYWRpbmdBbGVydDogZnVuY3Rpb24gbG9hZGluZ0FsZXJ0KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL2NvbXBvbmVudHMvYmFzZS9sb2FkaW5nQWxlcnQiKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2c6IHRoaXMub3BlbiwKICAgICAgbXNnTnVtYmVyOiBudWxsLAogICAgICByZWxlYXNlVGltZTogIiIsCiAgICAgIGVmZmVjdGl2ZVRpbWU6ICIiLAogICAgICBpbnZhbGlkVGltZTogIiIsCiAgICAgIGZlZWRiYWNrVHlwZTogNCwKICAgICAgdXBsb2FkaW5nOiBmYWxzZSwKICAgICAgcmVwbHlUeXBlczogW3sKICAgICAgICB0ZXh0OiAi5peg6ZyA5Zue5aSNIiwKICAgICAgICB2YWx1ZTogNAogICAgICB9LCB7CiAgICAgICAgdGV4dDogIuW3suivu+WbnuaJpyIsCiAgICAgICAgdmFsdWU6IDAKICAgICAgfSwgewogICAgICAgIHRleHQ6ICLmloflrZflm57lpI0iLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAi6ZmE5Lu2IiwKICAgICAgICB2YWx1ZTogMgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIuaKleelqCIsCiAgICAgICAgdmFsdWU6IDMKICAgICAgfV0sCiAgICAgIGNoX2RlbGVhcl9kaXNhYmxlOiBmYWxzZSwKICAgICAgY2hfZGVsZWFyOiBmYWxzZSwKICAgICAgY2hfb2VtOiBmYWxzZSwKICAgICAgY2hfZGVsZWFyX2RlcGxpc3Rfc2hvdzogZmFsc2UsCiAgICAgIGNoX2FyZWFfc3VwcDogW10sCiAgICAgIGNoX2NvbV9zdXBwOiBbXSwKICAgICAgY2hfZGVsZWFyX3NlbGVjdDogW10sCiAgICAgIGNoX2RlbGVhcl9zZWxlY3RfdmlldzogW10sCiAgICAgIGNoX2RlbGVhcl9kZXBsaXN0OiBbXSwKICAgICAgY2hfZGVsZWFyX2RlcGxpc3RfdmlldzogW10sCiAgICAgIGNoX29lbV9kZXBsaXN0OiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXREZWFsZXJMaXN0KCk7CiAgICB0aGlzLmluaXREZWFsZXJEZXAoKTsKICAgIHRoaXMuaW5pdE9lbURlcCgpOwogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZURpYWxvZyIpOwogICAgICBjbG9zZVNuYWNrYmFyKCk7CiAgICB9LAogICAgaW5pdERlYWxlckxpc3Q6IGZ1bmN0aW9uIGluaXREZWFsZXJMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZ2V0RGVhbGVyTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vY29uc29sZS5kZWJ1ZyhKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgICBpZiAoIXJlcyB8fCB0eXBlb2YgcmVzID09ICJ1bmRlZmluZWQiIHx8IHJlcy5jb2RlICE9IDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CgogICAgICAgIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSA9PSAidW5kZWZpbmVkIiB8fCBkYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgYXJlYVNldCA9IG5ldyBTZXQoKTsKICAgICAgICB2YXIgZGVhbGVyVHlwZVNldCA9IG5ldyBTZXQoKTsKICAgICAgICBfdGhpcy5jaF9kZWxlYXJfc2VsZWN0ID0gW107CiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgdmFyIGFyZWEgPSBpdGVtLmFyZWE7CgogICAgICAgICAgaWYgKGFyZWEgIT0gbnVsbCAmJiBfdHlwZW9mKGFyZWEpICE9IHVuZGVmaW5lZCAmJiBhcmVhICE9ICIiKSB7CiAgICAgICAgICAgIGFyZWFTZXQuYWRkKGFyZWEpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciB0eXBlID0gaXRlbS5kZWFsZXJUeXBlOwoKICAgICAgICAgIGlmICh0eXBlICE9IG51bGwgJiYgX3R5cGVvZih0eXBlKSAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgaWYgKHR5cGUgPT0gMCkgdHlwZSArPSAzOwogICAgICAgICAgICBkZWFsZXJUeXBlU2V0LmFkZCh0eXBlKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgdGVtcCA9IHsKICAgICAgICAgICAgaWQ6IGluZGV4LAogICAgICAgICAgICBpc0NoZWNrOiBmYWxzZSwKICAgICAgICAgICAgaXNWaXNpYmxlOiB0cnVlLAogICAgICAgICAgICBkaXNhYmxlOiBmYWxzZSwKICAgICAgICAgICAgY29tcGFueU5hbWU6IGl0ZW0uY29tcGFueU5hbWUsCiAgICAgICAgICAgIGNvbXBhbnlDb2RlOiBpdGVtLmNvbXBhbnlDb2RlLAogICAgICAgICAgICBjb21wYW55VHlwZTogaXRlbS5jb21wYW55VHlwZSwKICAgICAgICAgICAgZGVhbGVyVHlwZTogaXRlbS5kZWFsZXJUeXBlLAogICAgICAgICAgICBhcmVhOiBpdGVtLmFyZWEKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMuY2hfZGVsZWFyX3NlbGVjdC5wdXNoKHRlbXApOwogICAgICAgIH0pOwogICAgICAgIF90aGlzLmNoX2RlbGVhcl9zZWxlY3RfdmlldyA9IGRlZXBDbG9uZShfdGhpcy5jaF9kZWxlYXJfc2VsZWN0KTsKICAgICAgICBfdGhpcy5jaF9hcmVhX3N1cHAgPSBbXTsKICAgICAgICBBcnJheS5mcm9tKGFyZWFTZXQpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICB2YXIgdGVtcCA9IHsKICAgICAgICAgICAgaWQ6IGluZGV4LAogICAgICAgICAgICBpc0NoZWNrOiBmYWxzZSwKICAgICAgICAgICAgbGFibGU6IGl0ZW0KICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMuY2hfYXJlYV9zdXBwLnB1c2godGVtcCk7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMuY2hfY29tX3N1cHAgPSBbXTsKICAgICAgICBBcnJheS5mcm9tKGRlYWxlclR5cGVTZXQpLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgdmFyIHRlbXAgPSB7CiAgICAgICAgICAgIGlkOiBpbmRleCwKICAgICAgICAgICAgaXNDaGVjazogZmFsc2UsCiAgICAgICAgICAgIGxhYmxlOiBfdGhpcy5nZXREZWFsZXJUeXBlRGVzYyhpdGVtKSwKICAgICAgICAgICAgdHlwZTogaXRlbSAlIDMKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMuY2hfY29tX3N1cHAucHVzaCh0ZW1wKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKTsKICAgIH0sCiAgICBpbml0RGVhbGVyRGVwOiBmdW5jdGlvbiBpbml0RGVhbGVyRGVwKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGdldERlYWxlckRlcExpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAoIXJlcyB8fCB0eXBlb2YgcmVzID09ICJ1bmRlZmluZWQiIHx8IHJlcy5jb2RlICE9IDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CgogICAgICAgIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSA9PSAidW5kZWZpbmVkIiB8fCBkYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpczIuY2hfZGVsZWFyX2RlcGxpc3QgPSBbXTsKICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIHZhciB0ZW1wID0gewogICAgICAgICAgICBpZDoga2V5LAogICAgICAgICAgICBpc0NoZWNrOiB0cnVlLAogICAgICAgICAgICB2YWx1ZTogZGF0YVtrZXldCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzMi5jaF9kZWxlYXJfZGVwbGlzdC5wdXNoKHRlbXApOwogICAgICAgIH0pOyAvL1RPRE865Y+v6IO95L+u5pS56YOo6Zeo5YiX6KGo5Lik6KGM5pi+56S6CiAgICAgICAgLy8gdGhpcy5jaF9kZWxlYXJfZGVwbGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIC8vICAgbGV0IHRlbXAgPSB7fTsKICAgICAgICAvLyAgIGlmIChpbmRleCAlIDIgPT0gMCkgewogICAgICAgIC8vICAgICB0ZW1wWzBdID0gaXRlbTsKICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgIHRlbXBbMV0gPSBpdGVtOwogICAgICAgIC8vICAgfQogICAgICAgIC8vICAgdGhpcy5jaF9kZWxlYXJfZGVwbGlzdF92aWV3LnB1c2godGVtcCk7CiAgICAgICAgLy8gfSk7CiAgICAgIH0pLmNhdGNoKCk7CiAgICB9LAogICAgaW5pdE9lbURlcDogZnVuY3Rpb24gaW5pdE9lbURlcCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBnZXRPZW1EZXBMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKCFyZXMgfHwgdHlwZW9mIHJlcyA9PSAidW5kZWZpbmVkIiB8fCByZXMuY29kZSAhPSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwoKICAgICAgICBpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgPT0gInVuZGVmaW5lZCIgfHwgZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzLmNoX29lbV9kZXBsaXN0ID0gW107CiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgdmFyIHRlbXAgPSB7CiAgICAgICAgICAgIGlkOiBpbmRleCwKICAgICAgICAgICAgaXNDaGVjazogZmFsc2UsCiAgICAgICAgICAgIGNvbXBhbnlOYW1lOiBpdGVtLmNvbXBhbnlOYW1lLAogICAgICAgICAgICBjb21wYW55Q29kZTogaXRlbS5jb21wYW55Q29kZSwKICAgICAgICAgICAgY29tcGFueVR5cGU6IGl0ZW0uY29tcGFueVR5cGUsCiAgICAgICAgICAgIGRlYWxlclR5cGU6IGl0ZW0uZGVhbGVyVHlwZSwKICAgICAgICAgICAgYXJlYTogaXRlbS5hcmVhCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzMy5jaF9vZW1fZGVwbGlzdC5wdXNoKHRlbXApOwogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KF90aGlzMy5jaF9vZW1fZGVwbGlzdCkpOwogICAgICB9KS5jYXRjaCgpOwogICAgfSwKICAgIGdldERlYWxlclR5cGVEZXNjOiBmdW5jdGlvbiBnZXREZWFsZXJUeXBlRGVzYyh0eXBlKSB7CiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIHJldHVybiAiNHPlupciOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICByZXR1cm4gIuS6jOe6p+e9keeCuSI7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIHJldHVybiAi54us56uL5ZSu5ZCOIjsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAi5pyq5YiG57G7IjsKICAgICAgfQogICAgfSwKICAgIC8v6YCJ5oup5YWo6YOoCiAgICBzZWxlY3RBbGxEZWxlYXI6IGZ1bmN0aW9uIHNlbGVjdEFsbERlbGVhcigpIHsKICAgICAgdmFyIGlzU2VsZWN0ZWQgPSB0aGlzLmNoX2RlbGVhcjsKICAgICAgdGhpcy5jaF9hcmVhX3N1cHAuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uaXNDaGVjayA9IGlzU2VsZWN0ZWQ7CiAgICAgIH0pOwogICAgICB0aGlzLmNoX2NvbV9zdXBwLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtLmlzQ2hlY2sgPSBpc1NlbGVjdGVkOwogICAgICB9KTsKICAgICAgdGhpcy5jaF9kZWxlYXJfc2VsZWN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtLmlzQ2hlY2sgPSBpc1NlbGVjdGVkOwogICAgICAgIGl0ZW0uaXNWaXNpYmxlID0gaXNTZWxlY3RlZDsKICAgICAgfSk7CiAgICAgIHRoaXMuY2hfZGVsZWFyX3NlbGVjdF92aWV3ID0gZGVlcENsb25lKHRoaXMuY2hfZGVsZWFyX3NlbGVjdCk7CgogICAgICBpZiAoaXNTZWxlY3RlZCkgewogICAgICAgIHRoaXMuY2hfZGVsZWFyX2RlcGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5pc0NoZWNrID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNoX2RlbGVhcl9kZXBsaXN0ID0gZGVlcENsb25lKHRoaXMuY2hfZGVsZWFyX2RlcGxpc3QpOyAvL1RPRE865Y+v6IO95L+u5pS56YOo6Zeo5YiX6KGo5Lik6KGM5pi+56S6CiAgICAgICAgLy8gdGhpcy5jaF9kZWxlYXJfZGVwbGlzdF92aWV3ID0gW107CiAgICAgICAgLy8gdGhpcy5jaF9kZWxlYXJfZGVwbGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIC8vICAgbGV0IHRlbXAgPSB7fTsKICAgICAgICAvLyAgIGlmIChpbmRleCAlIDIgPT0gMCkgewogICAgICAgIC8vICAgICB0ZW1wWzBdID0gaXRlbTsKICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgIHRlbXBbMV0gPSBpdGVtOwogICAgICAgIC8vICAgfQogICAgICAgIC8vICAgdGhpcy5jaF9kZWxlYXJfZGVwbGlzdF92aWV3LnB1c2godGVtcCk7CiAgICAgICAgLy8gfSk7CgogICAgICAgIHRoaXMuY2hfZGVsZWFyX2RlcGxpc3Rfc2hvdyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RBbGxPZW06IGZ1bmN0aW9uIHNlbGVjdEFsbE9lbSgpIHsKICAgICAgdmFyIGlzU2VsZWN0ZWQgPSB0aGlzLmNoX29lbTsKICAgICAgdGhpcy5jaF9vZW1fZGVwbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5pc0NoZWNrID0gaXNTZWxlY3RlZDsKICAgICAgfSk7CiAgICB9LAogICAgb25BcmVhU2VsZWN0Q2hhbmdlOiBmdW5jdGlvbiBvbkFyZWFTZWxlY3RDaGFuZ2UoaXRlbSkgewogICAgICBpZiAoIWl0ZW0uaXNDaGVjaykgewogICAgICAgIHRoaXMuY2hfZGVsZWFyX3NlbGVjdC5mb3JFYWNoKGZ1bmN0aW9uIChpdCkgewogICAgICAgICAgaWYgKGl0LmFyZWEgPT0gaXRlbS5sYWJsZSkgewogICAgICAgICAgICBpdC5pc0NoZWNrID0gZmFsc2U7CiAgICAgICAgICAgIGl0LmlzVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAodGhpcy5jaF9kZWxlYXJfc2VsZWN0LmZpbmRJbmRleChmdW5jdGlvbiAoaXQpIHsKICAgICAgICAgIHJldHVybiBpdC5pc0NoZWNrID09IHRydWU7CiAgICAgICAgfSkgPj0gMCkgewogICAgICAgICAgdGhpcy5jaF9kZWxlYXJfZGVwbGlzdF9zaG93ID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jaF9kZWxlYXJfZGVwbGlzdF9zaG93ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZhciBzZWxlY1R5cGUgPSBbXTsKICAgICAgICB0aGlzLmNoX2NvbV9zdXBwLmZvckVhY2goZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgICBpZiAoaXQuaXNDaGVjaykgewogICAgICAgICAgICBzZWxlY1R5cGUucHVzaChpdC50eXBlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoc2VsZWNUeXBlLmxlbmd0aCA9PSAwKSByZXR1cm47CiAgICAgICAgdGhpcy5jaF9kZWxlYXJfc2VsZWN0LmZvckVhY2goZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgICB2YXIgdHlwZVNlbGVjdGVkID0gc2VsZWNUeXBlLmluZGV4T2YoaXQuZGVhbGVyVHlwZSkgPj0gMDsKCiAgICAgICAgICBpZiAodHlwZVNlbGVjdGVkICYmIGl0LmFyZWEgPT0gaXRlbS5sYWJsZSkgewogICAgICAgICAgICBpdC5pc0NoZWNrID0gdHJ1ZTsKICAgICAgICAgICAgaXQuaXNWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmNoX2RlbGVhcl9kZXBsaXN0X3Nob3cgPSB0cnVlOwogICAgICB9CgogICAgICB0aGlzLmNoX2RlbGVhcl9zZWxlY3RfdmlldyA9IHRoaXMuY2hfZGVsZWFyX3NlbGVjdC5maWx0ZXIoZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgcmV0dXJuIGl0LmlzVmlzaWJsZSA9PSB0cnVlOwogICAgICB9KTsKICAgICAgY29uc29sZS5kZWJ1ZyhKU09OLnN0cmluZ2lmeSh0aGlzLmNoX2RlbGVhcl9zZWxlY3QpKTsKICAgIH0sCiAgICBvblR5cGVTZWxlY3RDaGFuZ2U6IGZ1bmN0aW9uIG9uVHlwZVNlbGVjdENoYW5nZShpdGVtKSB7CiAgICAgIGlmICghaXRlbS5pc0NoZWNrKSB7CiAgICAgICAgdGhpcy5jaF9kZWxlYXJfc2VsZWN0LmZvckVhY2goZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgICBpZiAoaXQuZGVhbGVyVHlwZSA9PSBpdGVtLnR5cGUpIHsKICAgICAgICAgICAgaXQuaXNDaGVjayA9IGZhbHNlOwogICAgICAgICAgICBpdC5pc1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoaXQpKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKHRoaXMuY2hfZGVsZWFyX3NlbGVjdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgICByZXR1cm4gaXQuaXNDaGVjazsKICAgICAgICB9KSA+PSAwKSB7CiAgICAgICAgICB0aGlzLmNoX2RlbGVhcl9kZXBsaXN0X3Nob3cgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNoX2RlbGVhcl9kZXBsaXN0X3Nob3cgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNlbGVjdEFyZWEgPSBbXTsKICAgICAgICB0aGlzLmNoX2FyZWFfc3VwcC5mb3JFYWNoKGZ1bmN0aW9uIChpdCkgewogICAgICAgICAgaWYgKGl0LmlzQ2hlY2spIHsKICAgICAgICAgICAgc2VsZWN0QXJlYS5wdXNoKGl0LmxhYmxlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoc2VsZWN0QXJlYS5sZW5ndGggPT0gMCkgcmV0dXJuOwogICAgICAgIHRoaXMuY2hfZGVsZWFyX3NlbGVjdC5mb3JFYWNoKGZ1bmN0aW9uIChpdCkgewogICAgICAgICAgdmFyIGFyZWFTZWxlY3RlZCA9IHNlbGVjdEFyZWEuaW5kZXhPZihpdC5hcmVhKSA+PSAwOwoKICAgICAgICAgIGlmIChhcmVhU2VsZWN0ZWQgJiYgaXQuZGVhbGVyVHlwZSA9PSBpdGVtLnR5cGUpIHsKICAgICAgICAgICAgaXQuaXNDaGVjayA9IHRydWU7CiAgICAgICAgICAgIGl0LmlzVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jaF9kZWxlYXJfZGVwbGlzdF9zaG93ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdGhpcy5jaF9kZWxlYXJfc2VsZWN0X3ZpZXcgPSB0aGlzLmNoX2RlbGVhcl9zZWxlY3QuZmlsdGVyKGZ1bmN0aW9uIChpdCkgewogICAgICAgIHJldHVybiBpdC5pc1Zpc2libGUgPT0gdHJ1ZTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUuZGVidWcoSlNPTi5zdHJpbmdpZnkodGhpcy5jaF9kZWxlYXJfc2VsZWN0KSk7CiAgICB9LAogICAgb25EZWFsZXJTZWxlY3RDaGFuZ2U6IGZ1bmN0aW9uIG9uRGVhbGVyU2VsZWN0Q2hhbmdlKGl0ZW0pIHsKICAgICAgdGhpcy5jaF9kZWxlYXJfc2VsZWN0W2l0ZW0uaWRdID0gZGVlcENsb25lKGl0ZW0pOwogICAgICBjb25zb2xlLmRlYnVnKEpTT04uc3RyaW5naWZ5KHRoaXMuY2hfZGVsZWFyX3NlbGVjdCkpOwogICAgfSwKICAgIHB1Ymxpc2g6IFRocm90dGxlKGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5wdWJsaXNoSW1wKCk7CiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIHNob3dTbmFja2Jhcigi5oKo5o+Q5Lqk55qE5aSq6aKR57mB5LqG77yM56iN562J5LiA5Lya6K+V6K+V5ZCnIik7CiAgICB9KSwKICAgIHB1Ymxpc2hJbXA6IGZ1bmN0aW9uIHB1Ymxpc2hJbXAoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKCEvXltBLVphLXowLTldKiQvLnRlc3QodGhpcy5tc2dOdW1iZXIpKSB7CiAgICAgICAgc2hvd1NuYWNrYmFyKCLmlofnq6DnvJblj7for7fovpPlhaUyMOS9jeaVsOWtl+S4juWtl+avjee7hOWQiO+8iOmAieWhq++8iSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGRlYWxlcnMgPSBbXTsKICAgICAgdGhpcy5jaF9kZWxlYXJfc2VsZWN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS5pc0NoZWNrKSB7CiAgICAgICAgICB2YXIgdGVtcCA9IHsKICAgICAgICAgICAgY29tcGFueU5hbWU6IGl0ZW0uY29tcGFueU5hbWUsCiAgICAgICAgICAgIGNvbXBhbnlDb2RlOiBpdGVtLmNvbXBhbnlDb2RlLAogICAgICAgICAgICBjb21wYW55VHlwZTogaXRlbS5jb21wYW55VHlwZSwKICAgICAgICAgICAgZGVhbGVyVHlwZTogaXRlbS5kZWFsZXJUeXBlLAogICAgICAgICAgICBhcmVhOiBpdGVtLmFyZWEKICAgICAgICAgIH07CiAgICAgICAgICBkZWFsZXJzLnB1c2godGVtcCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIGRlcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CgogICAgICBpZiAoZGVhbGVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5jaF9kZWxlYXJfZGVwbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS5pc0NoZWNrKSB7CiAgICAgICAgICAgIGRlcFtpdGVtLmlkXSA9IGl0ZW0udmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2hfb2VtX2RlcGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLmlzQ2hlY2spIHsKICAgICAgICAgIHZhciB0ZW1wID0gewogICAgICAgICAgICBjb21wYW55TmFtZTogaXRlbS5jb21wYW55TmFtZSwKICAgICAgICAgICAgY29tcGFueUNvZGU6IGl0ZW0uY29tcGFueUNvZGUsCiAgICAgICAgICAgIGNvbXBhbnlUeXBlOiBpdGVtLmNvbXBhbnlUeXBlLAogICAgICAgICAgICBkZWFsZXJUeXBlOiBpdGVtLmRlYWxlclR5cGUsCiAgICAgICAgICAgIGFyZWE6IGl0ZW0uYXJlYQogICAgICAgICAgfTsKICAgICAgICAgIGRlYWxlcnMucHVzaCh0ZW1wKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKGRlYWxlcnMubGVuZ3RoID09IDApIHsKICAgICAgICBzaG93U25hY2tiYXIoIuacqumAieaLqeWPkeW4g+WvueixoSzor7fpgInmi6nlj5HluIPlr7nosaHlkI7ph43or5UiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciByZWxlYXNlVGltZSA9IHRoaXMucmVsZWFzZVRpbWUgPT0gIiIgPyBuZXcgRGF0ZSgpLmZvcm1hdCgieXl5eS1NTS1kZCBoaDptbTpzcyIpIDogdGhpcy5yZWxlYXNlVGltZTsKICAgICAgdmFyIGludmFsaWRUaW1lID0gdGhpcy5pbnZhbGlkVGltZSA9PSAiIiA/IG51bGwgOiB0aGlzLmludmFsaWRUaW1lOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBpZDogdGhpcy5pZCwKICAgICAgICBtc2dOdW1iZXI6IHRoaXMubXNnTnVtYmVyLAogICAgICAgIGRlYWxlck9iakxpc3Q6IGRlYWxlcnMsCiAgICAgICAgcG9zaXRpb25zOiBkZXAsCiAgICAgICAgcmVsZWFzZVRpbWU6IHJlbGVhc2VUaW1lLAogICAgICAgIGludmFsaWRUaW1lOiBpbnZhbGlkVGltZSwKICAgICAgICBlZmZlY3RpdmVUaW1lOiB0aGlzLmVmZmVjdGl2ZVRpbWUsCiAgICAgICAgZmVlZGJhY2tUeXBlOiB0aGlzLmZlZWRiYWNrVHlwZSwKICAgICAgICBtc2dTdGF0dXM6IDEKICAgICAgfTsKICAgICAgdGhpcy51cGxvYWRpbmcgPSB0cnVlOwogICAgICBwdWJsaXNoTWVzc2FnZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmRlYnVnKCJwdWJsaXNoIG1lc3NhZ2U6IiArIEpTT04uc3RyaW5naWZ5KHJlcykpOwoKICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgewogICAgICAgICAgX3RoaXM0LiRyZWZzLmFsZXJUaW1lLmFsZXJ0KCLmlofnq6Dmj5DkuqTmiJDlip/vvIzlsIbkuLrmgqjot7Povazmlofnq6DpppbpobXjgIIiLCAxMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBFdmVudEJ1cy4kZW1pdCgicHVibGlzaFN1Y2Vzc2Z1bCIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNob3dTbmFja2Jhcigi5Y+R5biD5aSx6LSlLOivt+eojeWQjumHjeivlSIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIHNob3dTbmFja2Jhcigi5Y+R5biD5aSx6LSlLOivt+eojeWQjumHjeivlSIpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQudXBsb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGNhY3VsYXRlRGlyZWN0RmlsZURlbGVhcjogZnVuY3Rpb24gY2FjdWxhdGVEaXJlY3RGaWxlRGVsZWFyKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGNvbnNvbGUuZGVidWcoImRlYWxlciA9PT09PT09PT09PiIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmRlYWxlcikpOwoKICAgICAgaWYgKHRoaXMuY2hfZGVsZWFyX3NlbGVjdC5sZW5ndGggPT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZGVhbGVyLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy5jaF9kZWxlYXJfZGlzYWJsZSA9IGZhbHNlOwogICAgICAgIHRoaXMuY2hfYXJlYV9zdXBwLmZvckVhY2goZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgICBpdC5kaXNhYmxlID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jaF9hcmVhX3N1cHAgPSBkZWVwQ2xvbmUodGhpcy5jaF9hcmVhX3N1cHApOwogICAgICAgIHRoaXMuY2hfY29tX3N1cHAuZm9yRWFjaChmdW5jdGlvbiAoaXQpIHsKICAgICAgICAgIGl0LmRpc2FibGUgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNoX2NvbV9zdXBwID0gZGVlcENsb25lKHRoaXMuY2hfY29tX3N1cHApOwogICAgICAgIHRoaXMuY2hfZGVsZWFyX3NlbGVjdC5mb3JFYWNoKGZ1bmN0aW9uIChpdCkgewogICAgICAgICAgaXQuZGlzYWJsZSA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hfZGVsZWFyX2Rpc2FibGUgPSB0cnVlOwogICAgICAgIHRoaXMuY2hfZGVsZWFyID0gdHJ1ZTsKICAgICAgICB0aGlzLmNoX2RlbGVhcl9kZXBsaXN0X3Nob3cgPSB0cnVlOwogICAgICAgIHRoaXMuZGVhbGVyLmZvckVhY2goZnVuY3Rpb24gKGNvZGUpIHsKICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzNS5jaF9kZWxlYXJfc2VsZWN0LmZpbmRJbmRleChmdW5jdGlvbiAoZGVhbGVyKSB7CiAgICAgICAgICAgIHJldHVybiBkZWFsZXIuY29tcGFueUNvZGUgPT09IGNvZGU7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoaW5kZXggPCAwKSByZXR1cm47CiAgICAgICAgICB2YXIgY29tID0gX3RoaXM1LmNoX2RlbGVhcl9zZWxlY3RbaW5kZXhdOwogICAgICAgICAgY29tLmRpc2FibGUgPSB0cnVlOwogICAgICAgICAgY29tLmlzQ2hlY2sgPSB0cnVlOwoKICAgICAgICAgIHZhciBhcmVhSW5kZXggPSBfdGhpczUuY2hfYXJlYV9zdXBwLmZpbmRJbmRleChmdW5jdGlvbiAoaXQpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbS5hcmVhID09IGl0LmxhYmxlOwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGFyZWFJbmRleCA8IDApIHJldHVybjsKICAgICAgICAgIF90aGlzNS5jaF9hcmVhX3N1cHBbYXJlYUluZGV4XS5kaXNhYmxlID0gdHJ1ZTsKICAgICAgICAgIF90aGlzNS5jaF9hcmVhX3N1cHBbYXJlYUluZGV4XS5pc0NoZWNrID0gdHJ1ZTsKCiAgICAgICAgICB2YXIgdHlwZUluZGV4ID0gX3RoaXM1LmNoX2NvbV9zdXBwLmZpbmRJbmRleChmdW5jdGlvbiAoaXQpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbS5kZWFsZXJUeXBlID09IGl0LnR5cGU7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAodHlwZUluZGV4IDwgMCkgcmV0dXJuOwogICAgICAgICAgX3RoaXM1LmNoX2NvbV9zdXBwW3R5cGVJbmRleF0uZGlzYWJsZSA9IHRydWU7CiAgICAgICAgICBfdGhpczUuY2hfY29tX3N1cHBbdHlwZUluZGV4XS5pc0NoZWNrID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5jaF9kZWxlYXJfc2VsZWN0X3ZpZXcgPSB0aGlzLmNoX2RlbGVhcl9zZWxlY3QuZmlsdGVyKGZ1bmN0aW9uIChpdCkgewogICAgICAgIHJldHVybiBpdC5pc1Zpc2libGUgPT0gdHJ1ZTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUuZGVidWcoSlNPTi5zdHJpbmdpZnkodGhpcy5jaF9kZWxlYXJfc2VsZWN0X3ZpZXcpKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkgewogICAgICB0aGlzLmRpYWxvZyA9IHRoaXMub3BlbjsKCiAgICAgIGlmICh0aGlzLm9wZW4pIHsKICAgICAgICB0aGlzLmNhY3VsYXRlRGlyZWN0RmlsZURlbGVhcigpOwogICAgICB9CiAgICB9LAogICAgdm90ZUVuYWJsZTogZnVuY3Rpb24gdm90ZUVuYWJsZSgpIHsKICAgICAgaWYgKHRoaXMudm90ZUVuYWJsZSkgewogICAgICAgIHRoaXMuZmVlZGJhY2tUeXBlID0gMzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZlZWRiYWNrVHlwZSA9IDQ7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBlZmZlY3RpdmVUaW1lTWF4OiBmdW5jdGlvbiBlZmZlY3RpdmVUaW1lTWF4KCkgewogICAgICByZXR1cm4gbmV3IERhdGUodGhpcy5pbnZhbGlkVGltZSk7CiAgICB9LAogICAgaW52YWxpZFRpbWVNaW46IGZ1bmN0aW9uIGludmFsaWRUaW1lTWluKCkgewogICAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5wYXJzZSh0aGlzLmVmZmVjdGl2ZVRpbWUpKTsKICAgIH0KICB9Cn07"},null]}