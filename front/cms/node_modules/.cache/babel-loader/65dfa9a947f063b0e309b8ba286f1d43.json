{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js!/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/eslint-loader/index.js??ref--13-0!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/utils/templateUtils.js","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/utils/templateUtils.js","mtime":1639251373473},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwpleHBvcnQgdmFyIHRyYW5zZm9ybWF0aW9uQXV0aG9yaXR5ID0gZnVuY3Rpb24gdHJhbnNmb3JtYXRpb25BdXRob3JpdHkoYXV0aG9yaXR5TGlzdCwgc2VsZWN0Q2hpbGQpIHsKICB2YXIgY2hpbGRyZW5BcnIgPSBbXTsKCiAgaWYgKGF1dGhvcml0eUxpc3QgIT09IG51bGwgJiYgdHlwZW9mIGF1dGhvcml0eUxpc3QgIT09ICJ1bmRlZmluZWQiKSB7CiAgICBhdXRob3JpdHlMaXN0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgaWYgKHYgIT0gbnVsbCAmJiB0eXBlb2YgdiAhPT0gInVuZGVmaW5lZCIgJiYgSlNPTi5zdHJpbmdpZnkodikgIT09ICJudWxsIikgewogICAgICAgIHYubmFtZSA9IHYubWVudU5hbWU7CiAgICAgICAgdi5sb2NrZWQgPSAhdi5pc0VuYWJsZTsKCiAgICAgICAgaWYgKHYuaXNDaGVjaykgewogICAgICAgICAgY2hpbGRyZW5BcnIucHVzaCh2KTsKICAgICAgICB9CgogICAgICAgIGlmICh2LmNoaWxkcmVuICE9IG51bGwgJiYgdHlwZW9mIHYuY2hpbGRyZW4gIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICB2LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgYy5uYW1lID0gYy5tZW51TmFtZTsKICAgICAgICAgICAgYy5sb2NrZWQgPSAhYy5pc0VuYWJsZTsKCiAgICAgICAgICAgIGlmIChzZWxlY3RDaGlsZCAhPSBudWxsICYmIHR5cGVvZiBzZWxlY3RDaGlsZCAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAvL+a4heeQhuS4gOS4i3NlbGVjdGNoaWxkCiAgICAgICAgICAgICAgY29uc29sZS5sb2coInNlbGVjdCBhdXRob3JpdHkgZGVwdCAgPT09PT4iICsgSlNPTi5zdHJpbmdpZnkoc2VsZWN0Q2hpbGQpKTsKICAgICAgICAgICAgICBzZWxlY3RDaGlsZCA9IHNlbGVjdENoaWxkLmZpbHRlcihmdW5jdGlvbiAodikgewogICAgICAgICAgICAgICAgcmV0dXJuIHYgIT09IG51bGwgJiYgdHlwZW9mIHYgIT09ICJ1bmRlZmluZWQiICYmIEpTT04uc3RyaW5naWZ5KHYpICE9PSAibnVsbCI7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHNlbGVjdENoaWxkLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuaWQgPT09IGMuaWQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coInJlc3VsdCBzZWxlY3QgY2hpbGQgID09PT0+IiArIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpOwoKICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIGMuaXNDaGVjayA9IHJlc3VsdC5sZW5ndGggPiAwOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBjaGlsZHJlbkFyciA9IGNoaWxkcmVuQXJyLmNvbmNhdCh2LmNoaWxkcmVuKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGNoaWxkcmVuQXJyOwogIH0KfTs="},{"version":3,"sources":["/Users/liuguanghui/Documents/cms_code/my-message/cms/src/utils/templateUtils.js"],"names":["transformationAuthority","authorityList","selectChild","childrenArr","forEach","v","JSON","stringify","name","menuName","locked","isEnable","isCheck","push","children","c","console","log","filter","result","element","id","length","concat"],"mappings":";;;;AACA,OAAO,IAAMA,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACC,aAAD,EAAgBC,WAAhB,EAAgC;AAErE,MAAIC,WAAW,GAAG,EAAlB;;AACA,MAAIF,aAAa,KAAK,IAAlB,IAA0B,OAAOA,aAAP,KAAyB,WAAvD,EAAoE;AAClEA,IAAAA,aAAa,CAACG,OAAd,CAAsB,UAAAC,CAAC,EAAI;AACzB,UAAIA,CAAC,IAAI,IAAL,IAAa,OAAOA,CAAP,KAAa,WAA1B,IAAyCC,IAAI,CAACC,SAAL,CAAeF,CAAf,MAAsB,MAAnE,EAA2E;AACzEA,QAAAA,CAAC,CAACG,IAAF,GAASH,CAAC,CAACI,QAAX;AACAJ,QAAAA,CAAC,CAACK,MAAF,GAAW,CAACL,CAAC,CAACM,QAAd;;AACA,YAAGN,CAAC,CAACO,OAAL,EAAc;AACZT,UAAAA,WAAW,CAACU,IAAZ,CAAiBR,CAAjB;AACD;;AACD,YAAIA,CAAC,CAACS,QAAF,IAAc,IAAd,IAAsB,OAAOT,CAAC,CAACS,QAAT,KAAsB,WAAhD,EAA6D;AAC3DT,UAAAA,CAAC,CAACS,QAAF,CAAWV,OAAX,CAAmB,UAAAW,CAAC,EAAI;AACtBA,YAAAA,CAAC,CAACP,IAAF,GAASO,CAAC,CAACN,QAAX;AACAM,YAAAA,CAAC,CAACL,MAAF,GAAW,CAACK,CAAC,CAACJ,QAAd;;AACA,gBAAIT,WAAW,IAAI,IAAf,IAAuB,OAAOA,WAAP,KAAuB,WAAlD,EAA+D;AAC7D;AACAc,cAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiCX,IAAI,CAACC,SAAL,CAAeL,WAAf,CAA7C;AACAA,cAAAA,WAAW,GAAGA,WAAW,CAACgB,MAAZ,CAAmB,UAAAb,CAAC;AAAA,uBAAIA,CAAC,KAAK,IAAN,IAAc,OAAOA,CAAP,KAAa,WAA3B,IAA0CC,IAAI,CAACC,SAAL,CAAeF,CAAf,MAAsB,MAApE;AAAA,eAApB,CAAd;AACA,kBAAIc,MAAM,GAAGjB,WAAW,CAACgB,MAAZ,CAAmB,UAACE,OAAD;AAAA,uBAAaA,OAAO,CAACC,EAAR,KAAeN,CAAC,CAACM,EAA9B;AAAA,eAAnB,CAAb;AACAL,cAAAA,OAAO,CAACC,GAAR,CAAY,+BAA+BX,IAAI,CAACC,SAAL,CAAeY,MAAf,CAA3C;;AACA,kBAAI,OAAOA,MAAP,KAAkB,WAAtB,EAAmC;AACjCJ,gBAAAA,CAAC,CAACH,OAAF,GAAYO,MAAM,CAACG,MAAP,GAAgB,CAA5B;AACD;AACF;AACF,WAbD;AAcAnB,UAAAA,WAAW,GAAGA,WAAW,CAACoB,MAAZ,CAAmBlB,CAAC,CAACS,QAArB,CAAd;AACD;AACF;AACF,KAzBD;AA0BA,WAAOX,WAAP;AACD;AAEF,CAjCM","sourcesContent":["\nexport const transformationAuthority = (authorityList, selectChild) => {\n\n  let childrenArr = [];\n  if (authorityList !== null && typeof authorityList !== \"undefined\") {\n    authorityList.forEach(v => {\n      if (v != null && typeof v !== \"undefined\" && JSON.stringify(v) !== \"null\") {\n        v.name = v.menuName;\n        v.locked = !v.isEnable;\n        if(v.isCheck) {\n          childrenArr.push(v)\n        }\n        if (v.children != null && typeof v.children !== \"undefined\") {\n          v.children.forEach(c => {\n            c.name = c.menuName;\n            c.locked = !c.isEnable\n            if (selectChild != null && typeof selectChild !== \"undefined\") {\n              //清理一下selectchild\n              console.log(\"select authority dept  ====>\" + JSON.stringify(selectChild))\n              selectChild = selectChild.filter(v => v !== null && typeof v !== \"undefined\" && JSON.stringify(v) !== \"null\")\n              let result = selectChild.filter((element) => element.id === c.id)\n              console.log(\"result select child  ====>\" + JSON.stringify(result))\n              if (typeof result !== \"undefined\") {\n                c.isCheck = result.length > 0;\n              }\n            }\n          })\n          childrenArr = childrenArr.concat(v.children)\n        }\n      }\n    });\n    return childrenArr;\n  }\n\n}"]}]}