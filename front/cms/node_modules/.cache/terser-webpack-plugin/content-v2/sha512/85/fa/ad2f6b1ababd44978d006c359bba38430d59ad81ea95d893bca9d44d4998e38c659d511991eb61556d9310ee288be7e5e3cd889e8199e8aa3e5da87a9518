{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-9d3d5e76\"],{1681:function(e,t,i){},fa9e:function(e,t,i){},ff91:function(e,t,i){\"use strict\";i.r(t),i(\"d3b7\"),i(\"3ca3\"),i(\"ddb0\"),i(\"498a\"),i(\"4de4\"),i(\"7db0\"),i(\"a434\"),i(\"99af\");var n=i(\"bdaa\"),s=(i(\"a6fa\"),i(\"923a\")),a={props:{open:{type:Boolean,default:!1},template:{type:Object,default:function(){}},department:{type:[],default:[]}},components:{confirm:function(){return i.e(\"chunk-2219f922\").then(i.bind(null,\"14b0\"))}},data:function(){return{submiting:!1,typeAdd:\"add\",typeUpdate:\"update\",leaveNotify:\"您当前有修改的信息未保存，离开当前页面您输入的信息将不会被保存。\",addErrorText:\"添加权限模板失败,请稍后再试...\",updateErrorText:\"更新权限模板失败,请稍后再试...\",timeout:2e3,caution:!1,cautionText:\"\",withinDepts:[],withoutDepts:[],templateName:\"\",summary:\"\",rules:[function(e){return e.length<=45||\"最多输入45字描述\"}],dialog:this.open,authorityMenu:[],selection:[],originalWithinDepts:[],originalTemplateName:\"\",originalSummary:\"\",originalSelection:[]}},methods:{notifiyUser:function(e){var t=this;this.$refs.confirm.confirm(e).then((function(){return t.close()})).catch((function(){}))},close:function(){this.$emit(\"closeDialog\")},onConfirm:function(){var e=this.checkEmpty();return e[0]?(this.cautionText=\"您需要填写模板名称\",void(this.caution=!0)):e[1]?(this.cautionText=\"您需要填写模板描述\",void(this.caution=!0)):e[2]?(this.cautionText=\"您需要添加授权部门\",void(this.caution=!0)):0===this.selection.length?(this.cautionText=\"请至少添加一个权限\",void(this.caution=!0)):void(\"{}\"===JSON.stringify(this.template)?this.submitTemplate(this.typeAdd):this.checkChage()?this.submitTemplate(this.typeUpdate):(this.cautionText=\"您没有做任何改变\",this.caution=!0))},onCancel:function(){JSON.stringify(this.template),this.checkChage()?this.notifiyUser(this.leaveNotify):this.close()},checkEmpty:function(){var e=0===this.withinDepts.length;return[\"\"===this.templateName.trim(),\"null\"===JSON.stringify(this.summary)||\"\"===this.summary.trim(),e]},checkChage:function(){var e=this;if(this.templateName.trim()!==this.originalTemplateName.trim())return!0;if(\"null\"!==JSON.stringify(this.summary)&&this.summary.trim()!==this.originalSummary)return!0;if(this.withinDepts.length!==this.originalWithinDepts.length)return!0;if(JSON.stringify(this.originalWithinDepts)!==JSON.stringify(this.withinDepts))return!0;if(this.selection.length!==this.originalSelection.length)return!0;var t=this.originalSelection.filter((function(t){return e.selection.find((function(e){return t.id===e.id}))}));return this.originalSelection.length!==t.length},submitTemplate:function(e){var t={};t.templateName=this.templateName,t.desc=this.summary,t.oemList=this.withinDepts,t.targetList=this.selection,this.submiting=!0,e==this.typeAdd?this.onAddTemplate(t):e==this.typeUpdate&&this.onUpdateTemplate(t)},onAddTemplate:function(e){var t=this;Object(n.a)(e).then((function(e){t.submiting=!1,t.checkResponse(e)?((e=e.data).time=new Date(e.create_time).format(\"yyyy-MM-dd hh:mm:ss\"),t.$emit(\"onEditAuthorityTemplateResult\",e,t.typeAdd),t.close()):t.onSubmitError(t.addErrorText)})).catch((function(e){t.submiting=!1,t.onSubmitError(t.addErrorText)}))},onUpdateTemplate:function(e){var t=this;e.templateId=this.template.templateId,e.time=(new Date).format(\"yyyy-MM-dd hh:mm:ss\"),Object(n.L)(e).then((function(i){t.submiting=!1,null!=i&&void 0!==i.code&&0===i.code?(t.$emit(\"onEditAuthorityTemplateResult\",e,t.typeUpdate),t.close()):t.onSubmitError(t.addErrorText)})).catch((function(e){t.submiting=!1,t.onSubmitError(t.addErrorText)}))},checkResponse:function(e){return null!=e&&void 0!==e.code&&null!=e.data&&void 0!==e.data&&0==e.code},onSubmitError:function(e){this.cautionText=e,this.caution=!0},moveToWait:function(e){for(var t=0;t<this.withinDepts.length;t++)t==e&&(this.withoutDepts.push(this.withinDepts[t]),this.withinDepts.splice(e,1))},moveToSelected:function(e){for(var t=0;t<this.withoutDepts.length;t++)t==e&&(this.withinDepts.push(this.withoutDepts[t]),this.withoutDepts.splice(e,1))},onCreateNewTemplate:function(){this.withoutDepts=this.department.concat([])},onEditTemplate:function(){var e=this;this.templateName=this.template.templateName,this.originalTemplateName=this.templateName;var t=this.template.desc;this.summary=\"null\"===(null==t||JSON.stringify(t))?\"\":t,this.originalSummary=this.summary,this.withinDepts=this.template.oemList,this.originalWithinDepts=this.withinDepts.concat([]),0<this.department.length&&(this.withoutDepts=this.department.concat([]).filter((function(t){return!e.withinDepts.find((function(e){return e.companyCode===t.companyCode}))})).concat(this.withinDepts.filter((function(t){return!e.withinDepts.find((function(e){return e.companyCode===t.companyCode}))}))))}},watch:{open:function(){this.dialog=this.open},dialog:function(e){var t=this;e&&(this.withinDepts=[],this.withoutDepts=[],this.originalWithinDepts=[],this.summary=\"\",this.templateName=\"\",this.originalTemplateName=\"\",this.originalSummary=\"\",Object(n.n)().then((function(e){null!=e.data&&void 0!==e.data&&(t.authorityMenu=e.data,e=[],void 0===t.template||\"{}\"===JSON.stringify(t.template)?(e=Object(s.a)(t.authorityMenu),t.onCreateNewTemplate()):(e=Object(s.a)(t.authorityMenu,t.template.targetList),t.onEditTemplate()),t.selection=e.filter((function(e){return e.isCheck})),t.originalSelection=t.selection.concat([]))})).catch((function(e){t.cautionText=\"获取权限列表出现异常，请稍后再试\",t.caution=!0,t.close()})))}}},o=i(\"2877\"),r=i(\"6544\"),c=i.n(r),l=i(\"8336\"),h=i(\"b0af\"),d=i(\"99d9\"),u=i(\"cc20\"),p=i(\"62ad\"),m=i(\"a523\"),f=i(\"169a\"),v=i(\"553a\"),g=i(\"132d\"),b=i(\"8e36\"),y=i(\"0fd9\"),w=i(\"2db4\"),C=i(\"2fa4\"),S=i(\"8654\"),O=i(\"5530\"),x=(i(\"a9e3\"),i(\"1681\"),i(\"58df\")),j=Object(x.a)(S.a).extend({name:\"v-textarea\",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return Object(O.a)({\"v-textarea\":!0,\"v-textarea--auto-grow\":this.autoGrow,\"v-textarea--no-resize\":this.noResizeHandle},S.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e,t,i=this.$refs.input;i&&(i.style.height=\"0\",e=i.scrollHeight,t=parseInt(this.rows,10)*parseFloat(this.rowHeight),i.style.height=Math.max(t,e)+\"px\")},genInput:function(){var e=S.a.options.methods.genInput.call(this);return e.tag=\"textarea\",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){S.a.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit(\"keydown\",e)}}}),k=i(\"71d9\"),T=i(\"2a7f\"),I=i(\"3835\"),_=i(\"b85c\"),D=i(\"2909\"),N=(i(\"6062\"),i(\"ac1f\"),i(\"841c\"),i(\"d81d\"),i(\"b64b\"),i(\"159b\"),i(\"4ec9\"),i(\"fa9e\"),i(\"ade3\")),A=(i(\"caad\"),i(\"0789\")),$=i(\"3206\"),E=i(\"a9ad\"),V=i(\"80d2\"),q=(r=Object(x.a)(E.a,Object($.a)(\"treeview\")),E={activatable:Boolean,activeClass:{type:String,default:\"v-treeview-node--active\"},color:{type:String,default:\"primary\"},expandIcon:{type:String,default:\"$subgroup\"},indeterminateIcon:{type:String,default:\"$checkboxIndeterminate\"},itemChildren:{type:String,default:\"children\"},itemDisabled:{type:String,default:\"disabled\"},itemKey:{type:String,default:\"id\"},itemText:{type:String,default:\"name\"},loadChildren:Function,loadingIcon:{type:String,default:\"$loading\"},offIcon:{type:String,default:\"$checkboxOff\"},onIcon:{type:String,default:\"$checkboxOn\"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:\"accent\"},shaped:Boolean,transition:Boolean,selectionType:{type:String,default:\"leaf\",validator:function(e){return[\"leaf\",\"independent\"].includes(e)}}},r.extend().extend({name:\"v-treeview-node\",inject:{treeview:{default:null}},props:Object(O.a)({level:Number,item:{type:Object,default:function(){return null}},parentIsDisabled:Boolean},E),data:function(){return{hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}},computed:{disabled:function(){return Object(V.q)(this.item,this.itemDisabled)||this.parentIsDisabled&&\"leaf\"===this.selectionType},key:function(){return Object(V.q)(this.item,this.itemKey)},children:function(){var e,t=this;return(e=Object(V.q)(this.item,this.itemChildren))&&e.filter((function(e){return!t.treeview.isExcluded(Object(V.q)(e,t.itemKey))}))},text:function(){return Object(V.q)(this.item,this.itemText)},scopedProps:function(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon:function(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren:function(){return!(!this.children||!this.children.length&&!this.loadChildren)}},created:function(){this.treeview.register(this)},beforeDestroy:function(){this.treeview.unregister(this)},methods:{checkChildren:function(){var e=this;return new Promise((function(t){if(!e.children||e.children.length||!e.loadChildren||e.hasLoaded)return t();e.isLoading=!0,t(e.loadChildren(e.item))})).then((function(){e.isLoading=!1,e.hasLoaded=!0}))},open:function(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel:function(){var e=[];return this.$scopedSlots.label?e.push(this.$scopedSlots.label(this.scopedProps)):e.push(this.text),this.$createElement(\"div\",{slot:\"label\",staticClass:\"v-treeview-node__label\"},e)},genPrependSlot:function(){return this.$scopedSlots.prepend?this.$createElement(\"div\",{staticClass:\"v-treeview-node__prepend\"},this.$scopedSlots.prepend(this.scopedProps)):null},genAppendSlot:function(){return this.$scopedSlots.append?this.$createElement(\"div\",{staticClass:\"v-treeview-node__append\"},this.$scopedSlots.append(this.scopedProps)):null},genContent:function(){var e=[this.genPrependSlot(),this.genLabel(),this.genAppendSlot()];return this.$createElement(\"div\",{staticClass:\"v-treeview-node__content\"},e)},genToggle:function(){var e=this;return this.$createElement(g.a,{staticClass:\"v-treeview-node__toggle\",class:{\"v-treeview-node__toggle--open\":this.isOpen,\"v-treeview-node__toggle--loading\":this.isLoading},slot:\"prepend\",on:{click:function(t){t.stopPropagation(),e.isLoading||e.checkChildren().then((function(){return e.open()}))}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox:function(){var e=this;return this.$createElement(g.a,{staticClass:\"v-treeview-node__checkbox\",props:{color:this.isSelected||this.isIndeterminate?this.selectedColor:void 0,disabled:this.disabled},on:{click:function(t){t.stopPropagation(),e.isLoading||e.checkChildren().then((function(){e.$nextTick((function(){e.isSelected=!e.isSelected,e.isIndeterminate=!1,e.treeview.updateSelected(e.key,e.isSelected),e.treeview.emitSelected()}))}))}}},[this.computedIcon])},genLevel:function(e){var t=this;return Object(V.i)(e).map((function(){return t.$createElement(\"div\",{staticClass:\"v-treeview-node__level\"})}))},genNode:function(){var e=this,t=[this.genContent()];return this.selectable&&t.unshift(this.genCheckbox()),this.hasChildren?t.unshift(this.genToggle()):t.unshift.apply(t,Object(D.a)(this.genLevel(1))),t.unshift.apply(t,Object(D.a)(this.genLevel(this.level))),this.$createElement(\"div\",this.setTextColor(this.isActive&&this.color,{staticClass:\"v-treeview-node__root\",class:Object(N.a)({},this.activeClass,this.isActive),on:{click:function(){e.openOnClick&&e.hasChildren?e.checkChildren().then(e.open):e.activatable&&!e.disabled&&(e.isActive=!e.isActive,e.treeview.updateActive(e.key,e.isActive),e.treeview.emitActive())}}}),t)},genChild:function(e,t){return this.$createElement(q,{key:Object(V.q)(e,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:e,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped,level:this.level+1,selectionType:this.selectionType,parentIsDisabled:t},scopedSlots:this.$scopedSlots})},genChildrenWrapper:function(){var e=this;if(!this.isOpen||!this.children)return null;var t=[this.children.map((function(t){return e.genChild(t,e.disabled)}))];return this.$createElement(\"div\",{staticClass:\"v-treeview-node__children\"},t)},genTransition:function(){return this.$createElement(A.a,[this.genChildrenWrapper()])}},render:function(e){var t=[this.genNode()];return this.transition?t.push(this.genTransition()):t.push(this.genChildrenWrapper()),e(\"div\",{staticClass:\"v-treeview-node\",class:{\"v-treeview-node--leaf\":!this.hasChildren,\"v-treeview-node--click\":this.openOnClick,\"v-treeview-node--disabled\":this.disabled,\"v-treeview-node--rounded\":this.rounded,\"v-treeview-node--shaped\":this.shaped,\"v-treeview-node--selected\":this.isSelected},attrs:{\"aria-expanded\":String(this.isOpen)}},t)}})),L=q,K=(r=i(\"7560\"),i(\"d9bd\"));function P(e,t,i){return-1<Object(V.q)(e,i).toLocaleLowerCase().indexOf(t.toLocaleLowerCase())}E=Object(x.a)(Object($.b)(\"treeview\"),r.a).extend({name:\"v-treeview\",provide:function(){return{treeview:this}},props:Object(O.a)({active:{type:Array,default:function(){return[]}},dense:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:function(){return[]}},multipleActive:Boolean,open:{type:Array,default:function(){return[]}},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:function(){return[]}}},E),data:function(){return{level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}},computed:{excludedItems:function(){var e=new Set;if(!this.search)return e;for(var t=0;t<this.items.length;t++)!function e(t,i,n,s,a,o,r){if(t(i,n,a))return 1;var c=Object(V.q)(i,o);if(c){for(var l=!1,h=0;h<c.length;h++)e(t,c[h],n,s,a,o,r)&&(l=!0);if(l)return 1}r.add(Object(V.q)(i,s))}(this.filter||P,this.items[t],this.search,this.itemKey,this.itemText,this.itemChildren,e);return e}},watch:{items:{handler:function(){var e=this,t=Object.keys(this.nodes).map((function(t){return Object(V.q)(e.nodes[t].item,e.itemKey)})),i=this.getKeys(this.items),n=Object(V.c)(i,t);!n.length&&i.length<t.length||(n.forEach((function(t){return delete e.nodes[t]})),n=Object(D.a)(this.selectedCache),this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),Object(V.k)(n,Object(D.a)(this.selectedCache))||this.emitSelected())},deep:!0},active:function(e){this.handleNodeCacheWatcher(e,this.activeCache,this.updateActive,this.emitActive)},value:function(e){this.handleNodeCacheWatcher(e,this.selectedCache,this.updateSelected,this.emitSelected)},open:function(e){this.handleNodeCacheWatcher(e,this.openCache,this.updateOpen,this.emitOpen)}},created:function(){function e(e){return t.returnObject?Object(V.q)(e,t.itemKey):e}var t=this;this.buildTree(this.items);var i,n=Object(_.a)(this.value.map(e));try{for(n.s();!(i=n.n()).done;){var s=i.value;this.updateSelected(s,!0,!0)}}catch(e){n.e(e)}finally{n.f()}var a,o=Object(_.a)(this.active.map(e));try{for(o.s();!(a=o.n()).done;){var r=a.value;this.updateActive(r,!0)}}catch(e){o.e(e)}finally{o.f()}},mounted:function(){var e=this;(this.$slots.prepend||this.$slots.append)&&Object(K.c)(\"The prepend and append slots require a slot-scope attribute\",this),this.openAll?this.updateAll(!0):(this.open.forEach((function(t){return e.updateOpen(e.returnObject?Object(V.q)(t,e.itemKey):t,!0)})),this.emitOpen())},methods:{updateAll:function(e){var t=this;Object.keys(this.nodes).forEach((function(i){return t.updateOpen(Object(V.q)(t.nodes[i].item,t.itemKey),e)})),this.emitOpen()},getKeys:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=0;i<e.length;i++){var n=Object(V.q)(e[i],this.itemKey);t.push(n),n=Object(V.q)(e[i],this.itemChildren),n&&t.push.apply(t,Object(D.a)(this.getKeys(n)))}return t},buildTree:function(e){for(var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var s=e[n],a=Object(V.q)(s,this.itemKey),o=null!=(r=Object(V.q)(s,this.itemChildren))?r:[],r=this.nodes.hasOwnProperty(a)?this.nodes[a]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null};s={vnode:r.vnode,parent:i,children:o.map((function(e){return Object(V.q)(e,t.itemKey)})),item:s};this.buildTree(o,a),!this.nodes.hasOwnProperty(a)&&null!==i&&this.nodes.hasOwnProperty(i)?s.isSelected=this.nodes[i].isSelected:(s.isSelected=r.isSelected,s.isIndeterminate=r.isIndeterminate),s.isActive=r.isActive,s.isOpen=r.isOpen,this.nodes[a]=s,o.length&&(o=(r=this.calculateState(a,this.nodes)).isSelected,r=r.isIndeterminate,s.isSelected=o,s.isIndeterminate=r),!this.nodes[a].isSelected||\"independent\"!==this.selectionType&&0!==s.children.length||this.selectedCache.add(a),this.nodes[a].isActive&&this.activeCache.add(a),this.nodes[a].isOpen&&this.openCache.add(a),this.updateVnodeState(a)}},calculateState:function(e,t){var i=t[e].children;e=i.reduce((function(e,i){return e[0]+=+Boolean(t[i].isSelected),e[1]+=+Boolean(t[i].isIndeterminate),e}),[0,0]),i=!!i.length&&e[0]===i.length;return{isSelected:i,isIndeterminate:!i&&(0<e[0]||0<e[1])}},emitOpen:function(){this.emitNodeCache(\"update:open\",this.openCache)},emitSelected:function(){this.emitNodeCache(\"input\",this.selectedCache)},emitActive:function(){this.emitNodeCache(\"update:active\",this.activeCache)},emitNodeCache:function(e,t){var i=this;this.$emit(e,this.returnObject?Object(D.a)(t).map((function(e){return i.nodes[e].item})):Object(D.a)(t))},handleNodeCacheWatcher:function(e,t,i,n){var s=this;e=this.returnObject?e.map((function(e){return Object(V.q)(e,s.itemKey)})):e,t=Object(D.a)(t),Object(V.k)(t,e)||(t.forEach((function(e){return i(e,!1)})),e.forEach((function(e){return i(e,!0)})),n())},getDescendants:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=this.nodes[e].children;t.push.apply(t,Object(D.a)(i));for(var n=0;n<i.length;n++)t=this.getDescendants(i[n],t);return t},getParents:function(e){for(var t=this.nodes[e].parent,i=[];null!==t;)i.push(t),t=this.nodes[t].parent;return i},register:function(e){var t=Object(V.q)(e.item,this.itemKey);this.nodes[t].vnode=e,this.updateVnodeState(t)},unregister:function(e){e=Object(V.q)(e.item,this.itemKey),this.nodes[e]&&(this.nodes[e].vnode=null)},isParent:function(e){return this.nodes[e].children&&this.nodes[e].children.length},updateActive:function(e,t){var i,n=this;this.nodes.hasOwnProperty(e)&&(this.multipleActive||this.activeCache.forEach((function(e){n.nodes[e].isActive=!1,n.updateVnodeState(e),n.activeCache.delete(e)})),(i=this.nodes[e])&&(t?this.activeCache.add(e):this.activeCache.delete(e),i.isActive=t,this.updateVnodeState(e)))},updateSelected:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(this.nodes.hasOwnProperty(e)){var n=new Map;if(\"independent\"!==this.selectionType){var s,a=Object(_.a)(this.getDescendants(e));try{for(a.s();!(s=a.n()).done;){var o=s.value;Object(V.q)(this.nodes[o].item,this.itemDisabled)&&!i||(this.nodes[o].isSelected=t,this.nodes[o].isIndeterminate=!1,n.set(o,t))}}catch(e){a.e(e)}finally{a.f()}var r=this.calculateState(e,this.nodes);this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=r.isIndeterminate,n.set(e,t);var c,l=Object(_.a)(this.getParents(e));try{for(l.s();!(c=l.n()).done;){var h=c.value,d=this.calculateState(h,this.nodes);this.nodes[h].isSelected=d.isSelected,this.nodes[h].isIndeterminate=d.isIndeterminate,n.set(h,d.isSelected)}}catch(e){l.e(e)}finally{l.f()}}else this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=!1,n.set(e,t);var u,p=Object(_.a)(n.entries());try{for(p.s();!(u=p.n()).done;){var m=Object(I.a)(u.value,2),f=m[0],v=m[1];this.updateVnodeState(f),\"leaf\"===this.selectionType&&this.isParent(f)||(!0===v?this.selectedCache.add(f):this.selectedCache.delete(f))}}catch(e){p.e(e)}finally{p.f()}}},updateOpen:function(e,t){var i,n,s=this;this.nodes.hasOwnProperty(e)&&(i=this.nodes[e],(n=Object(V.q)(i.item,this.itemChildren))&&!n.length&&i.vnode&&!i.vnode.hasLoaded?i.vnode.checkChildren().then((function(){return s.updateOpen(e,t)})):n&&n.length&&(i.isOpen=t,i.isOpen?this.openCache.add(e):this.openCache.delete(e),this.updateVnodeState(e)))},updateVnodeState:function(e){e=this.nodes[e],e&&e.vnode&&(e.vnode.isSelected=e.isSelected,e.vnode.isIndeterminate=e.isIndeterminate,e.vnode.isActive=e.isActive,e.vnode.isOpen=e.isOpen)},isExcluded:function(e){return!!this.search&&this.excludedItems.has(e)}},render:function(e){var t=this,i=this.items.length?this.items.filter((function(e){return!t.isExcluded(Object(V.q)(e,t.itemKey))})).map((function(e){return L.options.methods.genChild.bind(t)(e,Object(V.q)(e,t.itemDisabled))})):this.$slots.default;return e(\"div\",{staticClass:\"v-treeview\",class:Object(O.a)({\"v-treeview--hoverable\":this.hoverable,\"v-treeview--dense\":this.dense},this.themeClasses)},i)}}),a=Object(o.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"v-row\",{attrs:{justify:\"center\"}},[i(\"v-dialog\",e._g(e._b({attrs:{fullscreen:\"\",\"hide-overlay\":\"\",transition:\"dialog-bottom-transition\"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:\"dialog\"}},\"v-dialog\",e.$attrs,!1),e.$listeners),[i(\"v-toolbar\",{attrs:{dark:\"\",color:\"primary\"}},[i(\"v-btn\",{attrs:{icon:\"\",dark:\"\"},on:{click:e.onCancel}},[i(\"v-icon\",[e._v(\"mdi-close\")])],1),i(\"v-toolbar-title\",[e._v(\"编辑权限\")])],1),i(\"v-container\",{staticClass:\"grey lighten-5\",staticStyle:{\"min-width\":\"100px\",\"max-width\":\"100%\",\"max-height\":\"100%\"}},[i(\"v-row\",{staticStyle:{\"min-width\":\"100px\",\"max-width\":\"100%\",\"max-height\":\"100%\"}},[i(\"confirm\",{ref:\"confirm\"}),i(\"v-snackbar\",{attrs:{timeout:e.timeout,centened:!0,width:240},scopedSlots:e._u([{key:\"action\",fn:function(t){return t=t.attrs,[i(\"v-btn\",e._b({attrs:{color:\"blue\",text:\"\"},on:{click:function(t){e.caution=!1}}},\"v-btn\",t,!1),[e._v(\" 关闭 \")])]}}]),model:{value:e.caution,callback:function(t){e.caution=t},expression:\"caution\"}},[e._v(\" \"+e._s(e.cautionText)+\" \")]),i(\"v-dialog\",{attrs:{persistent:\"\",width:\"300\"},model:{value:e.submiting,callback:function(t){e.submiting=t},expression:\"submiting\"}},[i(\"v-card\",{attrs:{color:\"primary\",dark:\"\"}},[i(\"v-card-text\",[e._v(\" 提交请求中,请稍后... \"),i(\"v-progress-linear\",{staticClass:\"mb-0\",attrs:{indeterminate:\"\",color:\"white\"}})],1)],1)],1),i(\"v-col\",{staticClass:\"flex-grow-1 flex-shrink-0\",staticStyle:{\"min-width\":\"100px\",\"max-width\":\"50%\",\"max-height\":\"100%\"}},[i(\"v-row\",[i(\"v-card-title\",{staticClass:\"text-h8 mt-0 ml-0\",staticStyle:{color:\"#666666\",\"font-weight\":\"medium\"}},[e._v(\" 模板名称 \")])],1),i(\"v-row\",[i(\"v-text-field\",{attrs:{label:\"模板名称\",placeholder:\"输入您的模板名称\",outlined:\"\",dense:\"\"},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:\"templateName\"}})],1),i(\"v-card-title\",{staticClass:\"text-h10 mt-0 ml-0\",staticStyle:{color:\"#666666\",\"font-weight\":\"medium\"}},[e._v(\" 权限编辑 \")]),i(\"v-card\",{staticClass:\"pa-2\",staticStyle:{height:\"316px\",overflow:\"scroll\"},attrs:{outlined:\"\",tile:\"\"}},[i(\"v-treeview\",{attrs:{items:e.authorityMenu,\"selection-type\":\"leaf\",selectable:\"\",\"item-disabled\":\"locked\",\"return-object\":\"\",\"open-all\":\"\"},model:{value:e.selection,callback:function(t){e.selection=t},expression:\"selection\"}})],1),i(\"v-card-title\",{staticClass:\"mt-0 ml-0\",staticStyle:{color:\"#666666\",\"font-weight\":\"medium\"}},[e._v(\" 模板描述 \")]),i(\"v-textarea\",{staticStyle:{},attrs:{outlined:\"\",\"auto-grow\":\"\",clearable:\"\",\"clear-icon\":\"mdi-close-circle\",counter:\"\",rules:e.rules,name:\"summary\",\"background-color\":\"#ffffff\",label:\"请输入权限模板的说明\"},model:{value:e.summary,callback:function(t){e.summary=t},expression:\"summary\"}})],1),i(\"v-col\",{staticClass:\"flex-grow-0 flex-shrink-1\",staticStyle:{\"max-width\":\"50%\",\"max-height\":\"100%\",backgrond:\"red\"},attrs:{cols:\"6\"}},[i(\"v-row\",{attrs:{justify:\"center\"}},[i(\"v-card-title\",{staticClass:\"mt-0 ml-0\",staticStyle:{color:\"#666666\",\"font-weight\":\"medium\"}},[e._v(\" 包含角色列表 \")]),i(\"v-card-title\",{staticClass:\"mt-0 ml-0\",staticStyle:{color:\"#666666\",\"font-weight\":\"medium\"}},[e._v(\" *被删除的角色将会自动归为Viewer权限模板 \")])],1),i(\"v-card\",{staticClass:\"pa-2\",staticStyle:{height:\"240px\",\"max-width\":\"100%\",\"max-height\":\"100%\"},attrs:{outlined:\"\",tile:\"\"}},e._l(e.withinDepts,(function(t,n){return i(\"v-chip\",{key:n,staticClass:\"ma-2\",attrs:{close:\"\",color:\"primary\",\"text-color\":\"white\"},on:{\"click:close\":function(t){return e.moveToWait(n)}}},[e._v(\" \"+e._s(t.companyName)+\" \")])})),1),i(\"v-card-title\",{staticClass:\"mt-0 ml-0\",staticStyle:{color:\"#666666\",\"font-weight\":\"medium\"}},[e._v(\" 点击部门进行添加 \")]),e._l(e.withoutDepts,(function(t,n){return i(\"v-chip\",{key:n,staticClass:\"ma-2\",attrs:{color:\"secondary\",\"text-color\":\"white\"},on:{click:function(t){return e.moveToSelected(n)}}},[e._v(\" \"+e._s(t.companyName)+\" \"),i(\"v-icon\",{attrs:{right:\"\"}},[e._v(\" mdi-plus \")])],1)}))],2)],1),i(\"v-footer\",{staticClass:\"footer\",staticStyle:{height:\"64px\"},attrs:{fixed:\"\",padless:\"\"}},[i(\"v-spacer\"),i(\"v-btn\",{staticClass:\"mr-6\",attrs:{\"min-width\":\"105px\",outlined:\"\",depressed:\"\",dark:\"\",color:\"#1867C0FF\"},on:{click:e.onCancel}},[e._v(\" 取消 \")]),i(\"v-btn\",{staticClass:\"mr-6\",attrs:{\"min-width\":\"105px\",outlined:\"\",depressed:\"\",dark:\"\",color:\"#1867C0FF\"},on:{click:e.onConfirm}},[e._v(\" 保存 \")])],1)],1),i(\"v-card\",{staticClass:\"pa-6\",attrs:{elevation:\"0\"}}),i(\"div\",{staticStyle:{height:\"62px\",background:\"#ffffff\"}})],1)],1)}),[],!1,null,null,null),t.default=a.exports,c()(a,{VBtn:l.a,VCard:h.a,VCardText:d.b,VCardTitle:d.c,VChip:u.a,VCol:p.a,VContainer:m.a,VDialog:f.a,VFooter:v.a,VIcon:g.a,VProgressLinear:b.a,VRow:y.a,VSnackbar:w.a,VSpacer:C.a,VTextField:S.a,VTextarea:j,VToolbar:k.a,VToolbarTitle:T.a,VTreeview:E})}}]);","extractedComments":[]}