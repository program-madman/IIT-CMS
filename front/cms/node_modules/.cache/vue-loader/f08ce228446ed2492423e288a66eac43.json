{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleManagement.vue","mtime":1638535920904},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEFsbExpc3QsIHdpdGhkcmF3TWVzc2FnZSB9IGZyb20gIkAvYXBpL2dldERhdGEuanMiOwppbXBvcnQgeyBnZXREaXN0cmlidXRlU3RhdHVzIH0gZnJvbSAiQC91dGlscy9hcnRpY2xlVXRpbHMuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhcnRpY2xlIE1hbmFnZW1lbnQiLAogIGRhdGE6ICgpID0+ICh7CiAgICBkYXRhOiBudWxsLAogICAgc2VsZWN0RGVwdDogIuWFqOmDqCIsCiAgICBkaXN0cmlidXRlRGVwYXJ0SXRlbXM6IFsKICAgICAgIuWFqOmDqCIsCiAgICAgICJIUiIsCiAgICAgICLpm4blm6LnianmtYHpg6giLAogICAgICAi5ZOB54mM5ZSu5ZCO6YOoIiwKICAgICAgIuWTgeeJjOWUruWJjemDqCIsCiAgICAgICJDRU8iLAogICAgXSwKICAgIHNlbGVjdFN0YXR1czogIuWFqOmDqCIsCiAgICBkaXN0cmlidXRlU3RhdHVzSXRlbXM6IFsKICAgICAgIuWFqOmDqCIsCiAgICAgICLlt7Llj5HluIMiLAogICAgICAi5Y+s5ZueIiwKICAgICAgIuW3suWkseaViCIsCiAgICAgICLlt7Lkv67mlLkiLAogICAgICAi6I2J56i/IiwKICAgIF0sCiAgICBzZWFyY2g6ICIiLAogICAgaGVhZGVyczogWwogICAgICB7CiAgICAgICAgdGV4dDogIuagh+mimCIsCiAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAidGl0bGUiLAogICAgICB9LAogICAgICB7IHRleHQ6ICLlj5HluIPpg6jpl6giLCB2YWx1ZTogImRpc3RyaWJ1dGVEZXBhcnQiIH0sCiAgICAgIHsgdGV4dDogIumZhOS7tiIsIHZhbHVlOiAiYXR0YWNobWVudCIgfSwKICAgICAgeyB0ZXh0OiAi6ZiF6K+7IiwgdmFsdWU6ICJyZWFkaW5nTnVtIiB9LAogICAgICB7IHRleHQ6ICLlm57lpI0iLCB2YWx1ZTogInJlcGx5TnVtIiB9LAogICAgICB7IHRleHQ6ICLlj5HluIPnirbmgIEiLCB2YWx1ZTogImRpc3RyaWJ1dGVTdGF0dXMiIH0sCiAgICAgIHsgdGV4dDogIuWPkeW4g+aXtumXtCIsIHZhbHVlOiAiZGlzdHJpYnV0ZVRpbWUiIH0sCiAgICAgIHsgdGV4dDogIuaTjeS9nCIsIHZhbHVlOiAiYWN0aW9ucyIsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgXSwKICAgIGFydGljbGVJdGVtczogW10sCiAgICBhcnRpY2xlVGVtcDogW10sCiAgICB3aXRoZHJhd0RpYWxvZzogZmFsc2UsCiAgICB3aXRoZHJhd0l0ZW06IHsKICAgICAgaWQ6IDAsCiAgICAgIHRpdGxlOiAiIiwKICAgICAgZGlzdHJpYnV0ZURlcGFydDogIiIsCiAgICAgIGF0dGFjaG1lbnQ6IDAsCiAgICAgIHJlYWRpbmdOdW06IDAsCiAgICAgIHJlcGx5TnVtOiAwLAogICAgICBkaXN0cmlidXRlU3RhdHVzOiAiIiwKICAgICAgZGlzdHJpYnV0ZVRpbWU6ICIiLAogICAgfSwKICB9KSwKCiAgLy/nm5Hop4blr7nor53moYYKICB3YXRjaDogewogICAgZGlhbG9nKHZhbCkgewogICAgICB2YWwgfHwgdGhpcy5jbG9zZSgpOwogICAgfSwKICB9LAogIC8v6aG16Z2i56ys5LiA5qyh5Yqg6L295pe2LOiwg+eUqOWIneWni+WMluaWueazlQogIGNyZWF0ZWQoKSB7fSwKCiAgYWN0aXZhdGVkKCkgewogICAgdGhpcy5pbml0aWFsaXplKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgLy/liJ3lp4vljJZtb2Nr5pWw5o2uCiAgICBpbml0aWFsaXplKCkgewogICAgICBnZXRBbGxMaXN0KCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBpZiAoCiAgICAgICAgICAoIXJlc3BvbnNlICYmIHR5cGVvZiByZXNwb25zZSAhPSAidW5kZWZpbmVkIikgfHwKICAgICAgICAgIHJlc3BvbnNlLmNvZGUgIT0gMCB8fAogICAgICAgICAgcmVzcG9uc2UuZGF0YS5tZXNzYWdlTGlzdC5sZW5ndGggPT0gMAogICAgICAgICkKICAgICAgICAgIHJldHVybjsKICAgICAgICBjb25zb2xlLmRlYnVnKCJyZXNwb25zZSBqc29uPT09PT09PiIgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpOwogICAgICAgIHJlc3BvbnNlLmRhdGEubWVzc2FnZUxpc3QuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgbGV0IGRUZW1wID0ge307CiAgICAgICAgICBkVGVtcFsiaWQiXSA9IGl0ZW0uaWQ7CiAgICAgICAgICBkVGVtcFsidGl0bGUiXSA9IGl0ZW0udGl0bGU7CiAgICAgICAgICBkVGVtcFsiZGlzdHJpYnV0ZURlcGFydCJdID0gaXRlbS5jcmVhdG9yQ29tcGFueW5hbWU7CiAgICAgICAgICBkVGVtcFsiYXR0YWNobWVudCJdID0gaXRlbS5hdHRhY2htZW50Q291bnQ7CiAgICAgICAgICBkVGVtcFsicmVhZGluZ051bSJdID0gaXRlbS5yZWFkQ291bnQ7CiAgICAgICAgICBkVGVtcFsicmVwbHlOdW0iXSA9IGl0ZW0uZmVlZGJhY2tDb3VudDsKICAgICAgICAgIGRUZW1wWyJkaXN0cmlidXRlU3RhdHVzIl0gPSBnZXREaXN0cmlidXRlU3RhdHVzKGl0ZW0ubXNnU3RhdHVzKTsKICAgICAgICAgIGRUZW1wWyJkaXN0cmlidXRlVGltZSJdID0gaXRlbS5yZWxlYXNlVGltZTsKICAgICAgICAgIHRoaXMuYXJ0aWNsZVRlbXAucHVzaChkVGVtcCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5hcnRpY2xlSXRlbXMgPSB0aGlzLmFydGljbGVJdGVtcy5jb25jYXQodGhpcy5hcnRpY2xlVGVtcCk7CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRDb2xvcihtc2dTdGF0dXMpIHsKICAgICAgaWYgKG1zZ1N0YXR1cyA9PT0gIuW3suWPkeW4gyIpIHJldHVybiAiIzExQkEzRSI7CiAgICAgIGVsc2UgaWYgKG1zZ1N0YXR1cyA9PT0gIuW3suaSpOWbniIpIHJldHVybiAiI0JBMDgwOCI7CiAgICAgIGVsc2UgaWYgKG1zZ1N0YXR1cyA9PT0gIuW+heWPkeW4gyIpIHJldHVybiAiIzE4NjdDMCI7CiAgICAgIGVsc2UgaWYgKG1zZ1N0YXR1cyA9PT0gIuW3suWkseaViCIpIHJldHVybiAiIzk5OTk5OSI7CiAgICAgIGVsc2UgcmV0dXJuICIjMTg2N0MwIjsKICAgIH0sCgogICAgc2VhcmNoQXJ0aWNsZSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3REZXB0LCB0aGlzLnNlbGVjdFN0YXR1cywgdGhpcy5zZWFyY2gpOwogICAgICB0aGlzLmFydGljbGVJdGVtcyA9IE9iamVjdC5hc3NpZ24oW10sIHRoaXMuYXJ0aWNsZVRlbXApOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmFydGljbGVJdGVtcyk7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgdGhpcy5hcnRpY2xlSXRlbXMgPSB0aGlzLmFydGljbGVJdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAodGhhdC5zZWxlY3REZXB0ICE9PSAi5YWo6YOoIikgewogICAgICAgICAgaWYgKGl0ZW0uZGlzdHJpYnV0ZURlcGFydCAhPT0gdGhhdC5zZWxlY3REZXB0KSByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICh0aGF0LnNlbGVjdFN0YXR1cyAhPT0gIuWFqOmDqCIpIHsKICAgICAgICAgIGlmIChpdGVtLmRpc3RyaWJ1dGVTdGF0dXMgIT09IHRoYXQuc2VsZWN0U3RhdHVzKSByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICh0aGF0LnNlYXJjaCAmJiB0eXBlb2YgdGhhdC5zZWFyY2ggIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICBpZiAoaXRlbS50aXRsZS5pbmRleE9mKHRoYXQuc2VhcmNoKSA9PT0gLTEpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgLy8gZWxzZXsKICAgICAgICAgIC8vICAgaXRlbS50aXRsZSA9IGl0ZW0udGl0bGUucmVwbGFjZSh0aGF0LnNlYXJjaCwgdGhhdC5zZWFyY2guZm9udGNvbG9yKCdyZWQnKSk7CiAgICAgICAgICAvLyB9CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pOwogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsKICAgIH0sCgogICAgYnRucmVzcG9uc2VldCgpIHsKICAgICAgdGhpcy5zZWxlY3REZXB0ID0gIuWFqOmDqCI7CiAgICAgIHRoaXMuc2VsZWN0U3RhdHVzID0gIuWFqOmDqCI7CiAgICAgIHRoaXMuc2VhcmNoID0gIiI7CiAgICAgIHRoaXMuc2VhcmNoQXJ0aWNsZSgpOwogICAgfSwKCiAgICB3aXRoZHJhdyhpdGVtKSB7CiAgICAgIHRoaXMud2l0aGRyYXdJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgIHRoaXMud2l0aGRyYXdEaWFsb2cgPSB0cnVlOwogICAgfSwKCiAgICAvL+WFs+mXreaSpOWbnuWvueivneahhgogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMud2l0aGRyYXdEaWFsb2cgPSBmYWxzZTsKICAgIH0sCgogICAgLy/mkqTlm57noa7orqQKICAgIHdpdGhkcmF3Q29uZmlybSgpIHsKICAgICAgdGhpcy53aXRoZHJhd0RpYWxvZyA9IGZhbHNlOwogICAgICB3aXRoZHJhd01lc3NhZ2UodGhpcy53aXRoZHJhd0l0ZW0uaWQpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKCghcmVzICYmIHR5cGVvZiByZXMgIT0gInVuZGVmaW5lZCIpIHx8IHJlcy5jb2RlICE9IDApIHJldHVybjsKICAgICAgICAgIGNvbnNvbGUuZGVidWcoSlNPTi5zdHJpbmdpZnkocmVzKSk7CiAgICAgICAgICB2YXIgaSA9IC0xOwogICAgICAgICAgbGV0IGl0ZW1UZW1wID0ge307CiAgICAgICAgICB0aGlzLmFydGljbGVJdGVtcy5zb21lKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICBpZiAoaXRlbS5pZCA9PSB0aGlzLndpdGhkcmF3SXRlbS5pZCkgewogICAgICAgICAgICAgIGkgPSBpbmRleDsKICAgICAgICAgICAgICBpdGVtVGVtcCA9IGl0ZW07CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKGkgPj0gMCkgewogICAgICAgICAgICBpdGVtVGVtcC5kaXN0cmlidXRlU3RhdHVzID0gIuWPrOWbniI7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmFydGljbGVJdGVtcywgaSwgaXRlbVRlbXApOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["articleManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"articleManagement.vue","sourceRoot":"src/views/page","sourcesContent":["<template>\n  <v-container fluid>\n    <v-row no-gutters>\n      <v-col sm=\"12\">\n        <v-row>\n          <v-col cols=\"12\" sm=\"3\" class=\"pa-2 bt-0\" style=\"height: 80px\">\n            <v-combobox\n              v-model=\"selectDept\"\n              :items=\"distributeDepartItems\"\n              label=\"发布部门\"\n              outlined\n              dense\n              class=\"pa-2\"\n            ></v-combobox>\n          </v-col>\n          <v-col cols=\"12\" sm=\"3\" class=\"pa-2 bt-0\" style=\"height: 80px\">\n            <v-combobox\n              v-model=\"selectStatus\"\n              :items=\"distributeStatusItems\"\n              label=\"发布状态\"\n              outlined\n              dense\n              class=\"pa-2\"\n            ></v-combobox>\n          </v-col>\n          <v-col cols=\"12\" sm=\"4\" class=\"pa-2 bt-0\">\n            <v-text-field\n              ref=\"search\"\n              v-model=\"search\"\n              flat\n              clear-icon=\"mdi-close-circle-outline\"\n              hide-details\n              clearable\n              label=\"可通过文标题内容进行查找，最多输入70个字符\"\n              placeholder=\"可通过文章标题内容进行查找\"\n              maxlength=\"70\"\n              counter=\"70\"\n              append-icon=\"mdi-magnify\"\n              dense\n              outlined\n              class=\"mt-2\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" sm=\"1\" class=\"pt-5 mt-0\" style=\"height: 40px\">\n            <v-btn depresponsesed outlined @click=\"searchArticle\">\n              <v-icon left> mdi-magnify </v-icon>\n              查找\n            </v-btn>\n          </v-col>\n          <v-col cols=\"12\" sm=\"1\" class=\"pt-5 mt-0 pl-1\" style=\"height: 40px\">\n            <v-btn depresponsesed outlined @click=\"btnresponseet\">\n              <v-icon left> mdi-autorenew </v-icon>\n              还原\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-col>\n    </v-row>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"articleItems\"\n      sort-by=\"title\"\n      class=\"elevation-1\"\n      :items-per-page=\"10\"\n      :search=\"search\"\n      :footer-props=\"{\n        'items-per-page-text': '每页显示条数',\n        'items-per-page-options': [10, 20, 50],\n        pageText: '{0}-{1} of {2}',\n        'items-per-page-all-text': 'all',\n      }\"\n    >\n      <template v-slot:[`item.title`]=\"{ item }\">\n        <span style=\"color: #1867c0\"> {{ item.title }} </span>\n      </template>\n\n      <template v-slot:[`item.distributeStatus`]=\"{ item }\">\n        <span :style=\"{ color: getColor(item.distributeStatus) }\">\n          {{ item.distributeStatus }}\n        </span>\n      </template>\n\n      <template v-slot:[`item.actions`]=\"{ item }\">\n        <a small @click=\"withdraw(item)\" plain> 撤回 </a>\n      </template>\n\n      <template v-slot:no-results>\n        <p>未找到任何文章，请换个内容查找试试吧</p>\n      </template>\n      <template v-slot:no-data>\n        <p>未找到任何文章，请换个内容查找试试吧</p>\n      </template>\n      <template v-slot:top>\n        <v-dialog v-model=\"withdrawDialog\" max-width=\"400\">\n          <v-card>\n            <v-card-title justify-center>确认要撤回吗</v-card-title>\n            <v-card-text\n              >文章撤回后将从它的所有观看者列表中消失，确认要撤回吗？</v-card-text\n            >\n            <v-card-actions>\n              <v-btn color=\"blue darken-1\" text @click=\"withdrawDialog = false\">\n                关闭\n              </v-btn>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"withdrawConfirm()\">\n                确认\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </template>\n    </v-data-table>\n  </v-container>\n</template>\n\n<script>\nimport { getAllList, withdrawMessage } from \"@/api/getData.js\";\nimport { getDistributeStatus } from \"@/utils/articleUtils.js\";\n\nexport default {\n  name: \"article Management\",\n  data: () => ({\n    data: null,\n    selectDept: \"全部\",\n    distributeDepartItems: [\n      \"全部\",\n      \"HR\",\n      \"集团物流部\",\n      \"品牌售后部\",\n      \"品牌售前部\",\n      \"CEO\",\n    ],\n    selectStatus: \"全部\",\n    distributeStatusItems: [\n      \"全部\",\n      \"已发布\",\n      \"召回\",\n      \"已失效\",\n      \"已修改\",\n      \"草稿\",\n    ],\n    search: \"\",\n    headers: [\n      {\n        text: \"标题\",\n        align: \"start\",\n        sortable: false,\n        value: \"title\",\n      },\n      { text: \"发布部门\", value: \"distributeDepart\" },\n      { text: \"附件\", value: \"attachment\" },\n      { text: \"阅读\", value: \"readingNum\" },\n      { text: \"回复\", value: \"replyNum\" },\n      { text: \"发布状态\", value: \"distributeStatus\" },\n      { text: \"发布时间\", value: \"distributeTime\" },\n      { text: \"操作\", value: \"actions\", sortable: false },\n    ],\n    articleItems: [],\n    articleTemp: [],\n    withdrawDialog: false,\n    withdrawItem: {\n      id: 0,\n      title: \"\",\n      distributeDepart: \"\",\n      attachment: 0,\n      readingNum: 0,\n      replyNum: 0,\n      distributeStatus: \"\",\n      distributeTime: \"\",\n    },\n  }),\n\n  //监视对话框\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n  },\n  //页面第一次加载时,调用初始化方法\n  created() {},\n\n  activated() {\n    this.initialize();\n  },\n\n  methods: {\n    //初始化mock数据\n    initialize() {\n      getAllList().then((response) => {\n        if (\n          (!response && typeof response != \"undefined\") ||\n          response.code != 0 ||\n          response.data.messageList.length == 0\n        )\n          return;\n        console.debug(\"response json======>\" + JSON.stringify(response));\n        response.data.messageList.forEach((item) => {\n          let dTemp = {};\n          dTemp[\"id\"] = item.id;\n          dTemp[\"title\"] = item.title;\n          dTemp[\"distributeDepart\"] = item.creatorCompanyname;\n          dTemp[\"attachment\"] = item.attachmentCount;\n          dTemp[\"readingNum\"] = item.readCount;\n          dTemp[\"replyNum\"] = item.feedbackCount;\n          dTemp[\"distributeStatus\"] = getDistributeStatus(item.msgStatus);\n          dTemp[\"distributeTime\"] = item.releaseTime;\n          this.articleTemp.push(dTemp);\n        });\n        this.articleItems = this.articleItems.concat(this.articleTemp);\n      });\n    },\n\n    getColor(msgStatus) {\n      if (msgStatus === \"已发布\") return \"#11BA3E\";\n      else if (msgStatus === \"已撤回\") return \"#BA0808\";\n      else if (msgStatus === \"待发布\") return \"#1867C0\";\n      else if (msgStatus === \"已失效\") return \"#999999\";\n      else return \"#1867C0\";\n    },\n\n    searchArticle() {\n      console.log(this.selectDept, this.selectStatus, this.search);\n      this.articleItems = Object.assign([], this.articleTemp);\n      console.log(this.articleItems);\n      let that = this;\n      this.articleItems = this.articleItems.filter(function (item) {\n        if (that.selectDept !== \"全部\") {\n          if (item.distributeDepart !== that.selectDept) return;\n        }\n        if (that.selectStatus !== \"全部\") {\n          if (item.distributeStatus !== that.selectStatus) return;\n        }\n        if (that.search && typeof that.search !== \"undefined\") {\n          if (item.title.indexOf(that.search) === -1) {\n            return;\n          }\n          // else{\n          //   item.title = item.title.replace(that.search, that.search.fontcolor('red'));\n          // }\n        }\n        console.log(item);\n        return item;\n      });\n    },\n\n    btnresponseet() {\n      this.selectDept = \"全部\";\n      this.selectStatus = \"全部\";\n      this.search = \"\";\n      this.searchArticle();\n    },\n\n    withdraw(item) {\n      this.withdrawItem = Object.assign({}, item);\n      this.withdrawDialog = true;\n    },\n\n    //关闭撤回对话框\n    close() {\n      this.withdrawDialog = false;\n    },\n\n    //撤回确认\n    withdrawConfirm() {\n      this.withdrawDialog = false;\n      withdrawMessage(this.withdrawItem.id)\n        .then((res) => {\n          if ((!res && typeof res != \"undefined\") || res.code != 0) return;\n          console.debug(JSON.stringify(res));\n          var i = -1;\n          let itemTemp = {};\n          this.articleItems.some((item, index) => {\n            if (item.id == this.withdrawItem.id) {\n              i = index;\n              itemTemp = item;\n              return true;\n            }\n          });\n          if (i >= 0) {\n            itemTemp.distributeStatus = \"召回\";\n            this.$set(this.articleItems, i, itemTemp);\n          }\n        })\n        .catch();\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>"]}]}