{"remainingRequest":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/views/login.vue?vue&type=style&index=0&id=7589b93f&lang=scss&scoped=true&","dependencies":[{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/views/login.vue","mtime":1690275654419},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiRkYXJrOiAjMDAwOwokZGFya19ncmF5OiAjODg5YWE0OwokbGlnaHRfZ3JheTogI2VlZTsKJGN1cnNvcjogI2ZmZjsKCi5sb2dpbi1jb250YWluZXIgewogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kOiB1cmwoIi4uL2Fzc2V0cy9pbWFnZXMvbG9naW4vYmFja2dyb3VuZC5wbmciKSBuby1yZXBlYXQ7CiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICBvdmVyZmxvdzogaGlkZGVuOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKCiAgLmxvZ2luLWhlYWR7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47CiAgfQogIC5sb2dpbi1mb290ewogICAgaGVpZ2h0OiAxNzJweDsKICB9CiAgLmxvZ2luLXRpdGxlIHsKICAgIG1hcmdpbi10b3A6IDEwMHB4OwogICAgbWFyZ2luLWxlZnQ6IDQ4cHg7CiAgfQoKICAubG9naW4tYXVkaXsKICAgIG1hcmdpbi10b3A6IDEwMHB4OwogICAgbWFyZ2luLXJpZ2h0OiA0OHB4OwogIH0KCiAgLmxvZ2luLXRpdGxlLWxhYmVsIHsKICAgIGhlaWdodDogMjBweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIG1hcmdpbi10b3A6IDEycHg7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGxldHRlci1zcGFjaW5nOiAycHg7CiAgICBjb2xvcjogd2hpdGU7CiAgfQoKICAubG9naW4tY2VudGVyLWNvbnRlbnQgewogICAgaGVpZ2h0OiAxMDAlOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogIH0KCiAgLmxvZ2luLWZvcm0tY2FyZCB7CiAgICBtYXJnaW4tcmlnaHQ6IDQ4cHg7CiAgICB3aWR0aDogNDE2cHg7CiAgfQoKICAubG9naW4tZm9ybSB7CiAgICBmb250LWZhbWlseTogQXVkaSBUeXBlIFZGLCBERlAgS2luZyBHb3RoaWMgR0I7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogICAgb3BhY2l0eTogMC44OwogICAgd2lkdGg6IDQxNnB4OwogICAgcGFkZGluZzogNDhweCAzMnB4IDU2cHggMzJweDsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICB9CgogIC50aXRsZS1jb250YWluZXJ7CiAgICBoZWlnaHQ6IDYwcHg7CiAgICBmb250LXNpemU6IDQwcHg7CiAgICBmb250LXdlaWdodDogNzAwOwogIH0KCiAgLnVzZXJuYW1lLWl0ZW0gewogICAgbWFyZ2luLXRvcDogMjRweDsKICB9CgogIC5sb2dpbi1sYWJlbCB7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBjb2xvcjogIzY2NjY2NjsKICAgIG1hcmdpbi10b3A6MTZweDsKICB9CgogIC5sb2dpbi1pbnB1dCB7CiAgICBmb250LXNpemU6IDE2cHg7CiAgICBjb2xvcjogIzMzMzMzMzsKICB9CgogIC5sb2dpbi1zdWJtaXQgewogICAgZm9udC1mYW1pbHk6IEF1ZGkgVHlwZSBWRiwgREZQIEtpbmcgR290aGljIEdCOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDU2cHg7CiAgICBtYXJnaW4tdG9wOiAyNHB4OwogICAgZm9udC1zaXplOiAxNnB4OwogIH0KCiAgLmVycm9yLW1zZyB7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgY29sb3I6IHJlZDsKICB9CgogIC5jYXV0aW9uLWljb24gewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgd2lkdGg6IDE2cHg7CiAgICBoZWlnaHQ6IDE2cHg7CiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vYXNzZXRzL2ltYWdlcy9sb2dpbi9jYXV0aW9uLnBuZykgbm8tcmVwZWF0OwogIH0KCiAgLnBhc3N3b3JkLWljb24tdmlldyB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIGJhY2tncm91bmQ6IHVybCguLi9hc3NldHMvaW1hZ2VzL2xvZ2luL2V5ZV9vcGVuLnN2Zykgbm8tcmVwZWF0OwogIH0KCiAgLnBhc3N3b3JkLWljb24tbWludXMgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgd2lkdGg6IDI0cHg7CiAgICBoZWlnaHQ6IDI0cHg7CiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vYXNzZXRzL2ltYWdlcy9sb2dpbi9leWVfY2xvc2Uuc3ZnKSBuby1yZXBlYXQ7CiAgfQogIC5nZXQtdmVyaWZ5LWNvZGV7CiAgICBjb2xvcjogIzU1NkVGRTsKICAgIGZvbnQtc2l6ZTogMTRweDsKICB9Cn0KLmZvcmdldC1wYXNzd29yZCB7CiAgY29sb3I6ICM1NTZFRkU7CiAgZm9udC1zaXplOiAxNHB4OwogIHdpZHRoOiAxMDAlOwogIG1hcmdpbi10b3A6IDEycHg7Cn0KLmRpYWxvZy1mb290ZXJ7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogIHBhZGRpbmctdG9wOiA4cHg7Cn0KOjp2LWRlZXAgLmVsLWRpYWxvZ19fdGl0bGV7CiAgZm9udC1zaXplOiAxNnB4OwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9Cgo6OnYtZGVlcCAuZWwtZGlhbG9nX19ib2R5ewogIHBhZGRpbmc6IDIwcHggMjBweDsKfQoK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-app>\n    <loading v-if=\"false\" />\n    <login-error v-if=\"loadingError\" />\n    <template>\n  <div class=\"login-container\">\n    \n    <div class=\"login-center-content\">\n      <div class=\"login-form-card\">\n\n        <v-layout wrap>\n        <v-flex >\n          <v-card elevation=\"4\" light tag=\"section\">\n            <v-card-title>\n              <v-layout align-center justify-space-between>\n                <h1 class=\"headline\">\n                  {{ platformName }}\n                </h1>\n                <v-flex>\n                  <v-img :alt=\"platformName\" class=\"ml-3\" contain height=\"48px\" position=\"center right\" src=\"https://www.mobygames.com/images/i/12/25/1435075.png\"></v-img>\n                </v-flex>\n              </v-layout>\n            </v-card-title>\n            <v-divider></v-divider>\n            <v-card-text>\n              <p>Sign in with your username and password:</p>\n              <v-form>\n                <v-text-field\n                              outline\n                              label=\"Username\"\n                              type=\"text\"\n                              :rules=\"[requiredEmail]\"\n                              v-model=\"username\"></v-text-field>\n                <v-text-field\n                              outline\n                              hide-details\n                              :rules=\"[requiredPassword]\"\n                              label=\"Password\"\n                              type=\"password\"\n                              v-model=\"password\"></v-text-field>\n              </v-form>\n            </v-card-text>\n            <v-divider></v-divider>\n            <v-card-actions :class=\"{ 'pa-3': $vuetify.breakpoint.smAndUp }\">\n              <v-spacer></v-spacer>\n              <v-btn @click=\"loginCMS\" style=\"width: 128px;\" :loading=\"loading\" color=\"info\" :large=\"$vuetify.breakpoint.smAndUp\">Login</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-flex>\n      </v-layout>\n       \n      </div>\n    </div>\n    <div class=\"login-foot\" />\n\n    <v-snackbar v-model=\"snackbar\"  color=\"#444444\" top=\"top\"  >\n     {{verifyError}}\n    <template v-slot:action>\n      <v-btn text color=\"red\" @click=\"snackbar = false\">\n        Close\n      </v-btn>\n    </template>\n  </v-snackbar>\n  </div>\n</template>\n</v-app>\n</template>\n\n<script>\nimport { login } from \"@/api/getData.js\";\nexport default {\n  data() {\n    return {\n      verifyError:\"\",\n      emailRegex : /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n      userSelectPosition:{},\n      carryoverPosition:[],\n      dialog:false,\n      loading: false,\n      loadingError: false,\n      viewer:[11,12],\n      author:[11,12,13,15,21],\n      admin:[11,12,13,20,21,22],\n      darkTheme: true,\n      platformName: 'IIT CS425 Project - CMS',\n      password: null,\n      username: null,\n      snackbar:false,\n      verifyUserName:false,\n      verifyPassword:false,\n    };\n  },\n  components: {\n    Loading: () => import(\"./loginLoading.vue\"),\n    LoginError: () => import(\"@/components/base/error-view.vue\"),\n  },\n  mounted() {\n    let authorization = this.$route.query;\n    console.log(\"authorization ====> \"+JSON.stringify(authorization))\n    console.log(authorization)\n    // let user = {\"authorization\":\"1234\",\"menuList\":this.author}\n    // this.$store.commit(\"user/setUser\", user);\n    // console.log(\"user ====> \"+JSON.stringify(this.$store.state.user.userInfo))\n    //this.toIndexPage();\n    // return;\n\n    // if (authorization == null || typeof authorization == \"undefined\") {\n    //   if (this.$store.state.user.loginStatus) {\n    //     this.toIndexPage();\n    //   } else {\n    //     this.loading = false;\n    //     this.loadingError = true;\n    //   }\n    //   return;\n    // }\n\n    // this.$store.commit(\"user/setAuthorization\",JSON.stringify(authorization));\n    // getUserInfo()\n    //   .then((res) => {\n    //     console.log(\"userinfo=====>\" + JSON.stringify(res));\n    //     if (res == null || typeof res == \"undefined\" || res.code != 0) {\n    //       console.log(\" code mybay null \"+res.code)\n    //       this.loadingError = true;\n    //     } else if(res.data.positionList === null || typeof res.data.positionList === \"undefined\" || res.data.positionList.length === 0) { \n    //       console.log(\"user position is null === >\"+JSON.stringify(res.data.userInfo.positionList))\n    //       this.loadingError = true;\n    //     } else {\n    //       console.log(\"=== enter main page ===\")\n    //       this.$store.commit(\"user/setUser\", res.data);  \n    //       let position = res.data.positionList;\n    //       console.log(\"user positions ===> \"+JSON.stringify(position))\n    //       if(position.length === 1) {\n    //         console.log(\"=== user has onle one position ===\")\n    //         this.dialog = false;\n    //         this.userSelectPosition = position[0].code;\n    //         this.onSelectPosition();     \n    //       }else {\n    //         console.log(\"=== user has many position === \")\n    //         this.carryoverPosition = position;\n    //         this.dialog = true;\n    //       } \n    //     }\n    //   })\n    //   .catch((e) => {\n    //     console.log(\" on error \"+JSON.stringify(e))\n    //     this.loadingError = true;\n    //   })\n    //   .finally(() => {\n    //     this.loading = false;\n    //   });\n  },\n\n  methods: {\n\n    requiredEmail (v) {\n      this.verifyUserName = this.emailRegex.test(v);\n        return this.verifyUserName || 'Invalid email address'\n      },\n\n    requiredPassword (v) {\n      this.verifyPassword = !!v\n      return this.verifyPassword || 'Invalid password'\n    },\n\n    toIndexPage(){\n      var index = this.$store.getters[\"user/getIndexPage\"]\n      if(index != null && typeof index != undefined){\n          this.$router.push(index.path);\n      } \n    },\n\n    loginCMS() {\n      login(this.username,this.password)\n       .then((res) => {\n        console.log(\"userinfo=====>\" + JSON.stringify(res));\n        if (res == null || typeof res == \"undefined\" || res.code != 200) {\n          console.log(\" code mybay null \"+res.code)\n          this.verifyError = \"login failed\"\n          this.snackbar = true\n        } else {\n          console.log(\"=== enter main page ===\")\n          let user = res.data;\n          user.menuList = this.author\n          console.log(\"login success ====> \"+JSON.stringify(user))\n          this.$store.commit(\"user/setUser\", user);\n          //console.log(\"user ====> \"+JSON.stringify(this.$store.state.user.userInfo))  \n          this.toIndexPage()\n        }\n      })\n      .catch((e) => {\n        console.log(\" on error \"+JSON.stringify(e))\n        this.verifyError = \"login failed\"\n        this.snackbar = true\n      })\n    }\n  },\n\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n$dark: #000;\n$dark_gray: #889aa4;\n$light_gray: #eee;\n$cursor: #fff;\n\n.login-container {\n  height: 100%;\n  width: 100%;\n  background: url(\"../assets/images/login/background.png\") no-repeat;\n  background-size: cover;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  .login-head{\n    display: flex;\n    justify-content:space-between;\n  }\n  .login-foot{\n    height: 172px;\n  }\n  .login-title {\n    margin-top: 100px;\n    margin-left: 48px;\n  }\n\n  .login-audi{\n    margin-top: 100px;\n    margin-right: 48px;\n  }\n\n  .login-title-label {\n    height: 20px;\n    font-size: 12px;\n    margin-top: 12px;\n    font-weight: bold;\n    letter-spacing: 2px;\n    color: white;\n  }\n\n  .login-center-content {\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n\n  .login-form-card {\n    margin-right: 48px;\n    width: 416px;\n  }\n\n  .login-form {\n    font-family: Audi Type VF, DFP King Gothic GB;\n    position: relative;\n    background-color: #ffffff;\n    opacity: 0.8;\n    width: 416px;\n    padding: 48px 32px 56px 32px;\n    margin: 0 auto;\n    overflow: hidden;\n  }\n\n  .title-container{\n    height: 60px;\n    font-size: 40px;\n    font-weight: 700;\n  }\n\n  .username-item {\n    margin-top: 24px;\n  }\n\n  .login-label {\n    font-size: 12px;\n    color: #666666;\n    margin-top:16px;\n  }\n\n  .login-input {\n    font-size: 16px;\n    color: #333333;\n  }\n\n  .login-submit {\n    font-family: Audi Type VF, DFP King Gothic GB;\n    width: 100%;\n    height: 56px;\n    margin-top: 24px;\n    font-size: 16px;\n  }\n\n  .error-msg {\n    margin-bottom: 20px;\n    color: red;\n  }\n\n  .caution-icon {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    background: url(../assets/images/login/caution.png) no-repeat;\n  }\n\n  .password-icon-view {\n    display: inline-block;\n    width: 24px;\n    height: 24px;\n    background: url(../assets/images/login/eye_open.svg) no-repeat;\n  }\n\n  .password-icon-minus {\n    display: inline-block;\n    width: 24px;\n    height: 24px;\n    background: url(../assets/images/login/eye_close.svg) no-repeat;\n  }\n  .get-verify-code{\n    color: #556EFE;\n    font-size: 14px;\n  }\n}\n.forget-password {\n  color: #556EFE;\n  font-size: 14px;\n  width: 100%;\n  margin-top: 12px;\n}\n.dialog-footer{\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 8px;\n}\n::v-deep .el-dialog__title{\n  font-size: 16px;\n  font-weight: bold;\n}\n\n::v-deep .el-dialog__body{\n  padding: 20px 20px;\n}\n\n</style>"]}]}