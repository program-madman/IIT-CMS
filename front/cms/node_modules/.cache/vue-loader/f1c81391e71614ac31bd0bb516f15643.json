{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/statisticalReportPersonView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/statisticalReportPersonView.vue","mtime":1638803771700},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldERlYWxlclJlcG9ydCB9IGZyb20gIkAvYXBpL2dldERhdGEuanMiOwppbXBvcnQgeyBjb21wb3NlU3RhdGlzdGljc1Nob3dUZXh0IH0gZnJvbSAiQC91dGlscy9zdHJpbmdVdGlscy5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInN0YXRpc3RpY2FsUmVwb3J0UGVyc29uVmlldyIsCiAgcHJvcHM6IHsKICAgIG9wZW5TdGF0dXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgIH0sCiAgICBhcmVhcGFyYW06IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICAgIG1zZ0lEUGFyYW06IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICAgIHJlYWRTdGF0dXNQYXJhbTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICB9LAogICAgc3RhdGlzdGljc1N0YXR1c1BhcmFtOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgIH0sCiAgICBhdHRhY2htZW50SWRQYXJhbTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICB9LAogICAgc3RhdGlzdGljc1NlbGVjdFBhcmFtOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgIH0sCiAgICBjb21wYW55Q29kZVBhcmFtOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgIH0sCiAgICBzZWxlY3RDb21wYW55SW5mb3M6IHsKICAgICAgdHlwZTogTWFwLAogICAgfSwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/nirbmgIHvvJrlt7Lor7vjgIHmnKror7sKICAgICAgU1RBVFVTX1JFQUQ6IDAsCiAgICAgIFNUQVRVU19VTlJFQUQ6IDEsCgogICAgICAvL+e7n+iuoeafpeivouexu+WeiyAwOiDpmIXor7vnsbvlnovmn6Xor6IgMTog6ZmE5Lu257G75Z6L5p+l6K+iIDI6IOWbnuWkjeexu+Wei+afpeivogogICAgICBTVEFUSVNUSUNTU1RBVFVTX1RZUEVfUkVBRDogMCwKICAgICAgU1RBVElTVElDU1NUQVRVU19UWVBFX0FUVEFDSDogMSwKICAgICAgU1RBVElTVElDU1NUQVRVU19UWVBFX1JFUExZOiAyLAoKICAgICAgcmVtaW5kRGlhbG9nOiBmYWxzZSwKICAgICAgc2VhcmNoX3NlbGU6ICIiLAogICAgICBzZWxlY3RlZF9hcmVhOiBbXSwKICAgICAgZXhwYW5kZWQ6IFtdLAogICAgICBoZWFkZXJzOiBbXSwKCiAgICAgIGRlc3NlcnRzX2FyZWE6IFtdLAoKICAgICAgLy9zdGFydCDlhajpgInlj4LmlbAKICAgICAgY2hlY2tlZEFsbDogdHJ1ZSwKICAgICAgLy/miYDmnInpgInkuK3nmoR1c2VySWQKICAgICAgY2hlY2tlZE5hbWVzOiBbXSwKICAgICAgY2hlY2tlZEFycjogW10sCiAgICAgIC8vZW5kIOWFqOmAieWPguaVsAogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgfSwKCiAgd2F0Y2g6IHsKICAgIG9wZW5TdGF0dXMobmV3VikgewogICAgICBjb25zb2xlLmxvZygib3BlblN0YXR1czoiICsgbmV3Vik7CiAgICAgIC8v55Sx5LiN5Y+v6KeB5Yiw5Y+v6KeBCiAgICAgIGlmIChuZXdWKSB7CiAgICAgICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja2VkTmFtZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuY2hlY2tlZE5hbWVzLmxlbmd0aCA9PSB0aGlzLmNoZWNrZWRBcnIubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5jaGVja2VkQWxsID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNoZWNrZWRBbGwgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICAvL+afpeeUqOaItwogICAgZ2V0RGVhbGVyUmVwb3J0U2VydmljZSgpIHsKICAgICAgdGhpcy5oZWFkZXJzID0gW107CiAgICAgIHRoaXMuZGVzc2VydHNfYXJlYSA9IFtdOwoKICAgICAgZ2V0RGVhbGVyUmVwb3J0KHsKICAgICAgICBhcmVhOiB0aGlzLmFyZWFwYXJhbSwKICAgICAgICBtc2dJZDogdGhpcy5tc2dJRFBhcmFtLAogICAgICAgIGxldmVsOiAyLAogICAgICAgIHJlYWRTdGF0dXM6IHRoaXMucmVhZFN0YXR1c1BhcmFtLAogICAgICAgIHN0YXRpc3RpY3NTdGF0dXM6IHRoaXMuc3RhdGlzdGljc1N0YXR1c1BhcmFtLAogICAgICAgIGF0dGFjaG1lbnRJZDogdGhpcy5hdHRhY2htZW50SWRQYXJhbSwKICAgICAgICBkZWFsZXJUeXBlOiB0aGlzLnNlbGVjdFR5cGVWYWx1ZVBhcmFtLAogICAgICAgIGNvbXBhbnlDb2RlOiB0aGlzLmNvbXBhbnlDb2RlUGFyYW0sCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgY29uc29sZS5sb2coImdldFN1cHBpbGVyTGlzdERhdGEgcmVjZWl2ZToiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7CgogICAgICAgICAgaWYgKHJlcy5kYXRhID09IG51bGwgfHwgcmVzLmRhdGEubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgY29uc29sZS5sb2coImRhdGEgc2l6ZSBpcyAwIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmhlYWRlcnMgPSB0aGlzLmluaXRIZWFkZXJEYXRhKHJlcy5kYXRhKTsKICAgICAgICAgIHRoaXMuZGVzc2VydHNfYXJlYSA9IHRoaXMuaW5pdEJvZHlEYXRhKHJlcy5kYXRhKTsKCiAgICAgICAgICB0aGlzLmNoZWNrZWRBbGwgPSB0aGlzLmNoZWNrZWROYW1lcy5sZW5ndGggPT0gdGhpcy5jaGVja2VkQXJyLmxlbmd0aDsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIH0pOwogICAgfSwKCiAgICAvL+WFs+mXrQogICAgYnRfY2xvc2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICIuLi4uLi7lhbPpl63mjInpkq4uLi4uY29tcGFueUNvZGVQYXJhbToiICsKICAgICAgICAgIHRoaXMuY29tcGFueUNvZGVQYXJhbSArCiAgICAgICAgICAiIGNoZWNrZWROYW1lczoiICsKICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMuY2hlY2tlZE5hbWVzKQogICAgICApOwoKICAgICAgbGV0IGNvbXBhbnlDb2RlID0gdGhpcy5jb21wYW55Q29kZVBhcmFtOwogICAgICBsZXQgc2VsZWN0VXNlcnMgPSB0aGlzLmNoZWNrZWROYW1lczsKCiAgICAgIHRoaXMuJGVtaXQoImNsb3NlZENoaWxkIiwgc2VsZWN0VXNlcnMsIGNvbXBhbnlDb2RlKTsKICAgIH0sCiAgICAvL+aehOW7uuWNleS4qmhlYWRlcuWktOS/oeaBrwogICAgYnVpbGRIZWFkZXJCZWFuKHRleHQsIHZhbHVlKSB7CiAgICAgIGxldCBoZWFkZXJCZWFuID0ge307CiAgICAgIGhlYWRlckJlYW4udGV4dCA9IHRleHQ7CiAgICAgIGhlYWRlckJlYW4udmFsdWUgPSB2YWx1ZTsKICAgICAgaGVhZGVyQmVhbi53aWR0aCA9ICIxMHJlbSI7CiAgICAgIGhlYWRlckJlYW4uYWxpZ24gPSAibGVmdCI7CiAgICAgIHJldHVybiBoZWFkZXJCZWFuOwogICAgfSwKICAgIC8v5Yid5aeL5YyWSGVhZGVy55qE5pWw5o2uCiAgICBpbml0SGVhZGVyRGF0YShkYXRhKSB7CiAgICAgIGxldCBoZWFkZXJEYXRhQXJyYXkgPSBbXTsKCiAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLlp5PlkI0iLCAidXNlck5hbWUiKSk7CiAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLogYzliqEiLCAicG9zaXRpb24iKSk7CiAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLpmIXor7vnu5/orqEiLCAicmVhZGluZyIpKTsKICAgICAgaGVhZGVyRGF0YUFycmF5LnB1c2godGhpcy5idWlsZEhlYWRlckJlYW4oIuWbnuWkjee7n+iuoSIsICJyZXBseSIpKTsKCiAgICAgIGlmIChkYXRhWzBdLmF0dGFjaG1lbnRTdGF0aXN0aWNzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgY29uc29sZS5sb2coImluaXRIZWFkZXJEYXRhOmF0dGFjaG1lbnRTdGF0aXN0aWNzIGlzIDAiKTsKICAgICAgICByZXR1cm4gaGVhZGVyRGF0YUFycmF5OwogICAgICB9CgogICAgICBkYXRhWzBdLmF0dGFjaG1lbnRTdGF0aXN0aWNzLmZvckVhY2goKGF0dGFjaG1lbnRTdGF0aXN0aWNzKSA9PiB7CiAgICAgICAgbGV0IGF0dGFjaG1lbnROYW1lID0gYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudE5hbWUuc2xpY2UoCiAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50TmFtZS5sYXN0SW5kZXhPZigiLyIpICsgMQogICAgICAgICk7CgogICAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKAogICAgICAgICAgdGhpcy5idWlsZEhlYWRlckJlYW4oCiAgICAgICAgICAgICLkuIvovb3nu5/orqEoIiArIGF0dGFjaG1lbnROYW1lICsgIikiLAogICAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50SWQKICAgICAgICAgICkKICAgICAgICApOwogICAgICB9KTsKICAgICAgcmV0dXJuIGhlYWRlckRhdGFBcnJheTsKICAgIH0sCgogICAgaW5pdEJvZHlEYXRhKGRhdGEpIHsKICAgICAgdGhpcy5jaGVja2VkQXJyID0gW107CiAgICAgIHRoaXMuY2hlY2tlZE5hbWVzID0gW107CiAgICAgIGxldCBkYXRhQXJyYXkgPSBbXTsKICAgICAgbGV0IHRvdGFsaW5mbyA9IHt9OwogICAgICBsZXQgdG90YWxBdHRhY2htZW50U3RhdGlzdGljcyA9IFtdOwoKICAgICAgbGV0IHJlYWRTdGF0aXN0aWNzQ291bnQgPSAwLAogICAgICAgIHJlYWRTdGF0aXN0aWNzVG90YWxDb3VudCA9IDA7CiAgICAgIGxldCBmZWVkYmFja1N0YXRpc3RpY3NDb3VudCA9IDAsCiAgICAgICAgZmVlZGJhY2tTdGF0aXN0aWNzVG90YWxDb3VudCA9IDA7CgogICAgICBsZXQgc2VsZWN0VXNlcnNJbkNvbXBhbnkgPSB0aGlzLnNlbGVjdENvbXBhbnlJbmZvcy5nZXQoCiAgICAgICAgdGhpcy5jb21wYW55Q29kZVBhcmFtCiAgICAgICk7CgogICAgICBjb25zb2xlLmxvZygKICAgICAgICAic2VsZWN0VXNlcnNJbkNvbXBhbnkgY29tcGFueUNvZGU6IiArCiAgICAgICAgICB0aGlzLmNvbXBhbnlDb2RlUGFyYW0gKwogICAgICAgICAgIiAgZGF0YToiICsKICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHNlbGVjdFVzZXJzSW5Db21wYW55KQogICAgICApOwoKICAgICAgZGF0YS5mb3JFYWNoKChwZXJzb25EYXRhKSA9PiB7CiAgICAgICAgbGV0IGJvZHlCZWFuID0ge307CgogICAgICAgIHRoaXMuY2hlY2tlZEFyci5wdXNoKHBlcnNvbkRhdGEudXNlcklkKTsKCiAgICAgICAgaWYgKAogICAgICAgICAgc2VsZWN0VXNlcnNJbkNvbXBhbnkgPT0gbnVsbCB8fAogICAgICAgICAgc2VsZWN0VXNlcnNJbkNvbXBhbnkuaW5kZXhPZihwZXJzb25EYXRhLnVzZXJJZCkgPj0gMAogICAgICAgICkgewogICAgICAgICAgdGhpcy5jaGVja2VkTmFtZXMucHVzaChwZXJzb25EYXRhLnVzZXJJZCk7CiAgICAgICAgfQoKICAgICAgICBib2R5QmVhbi51c2VySWQgPSBwZXJzb25EYXRhLnVzZXJJZDsKICAgICAgICBib2R5QmVhbi5uYW1lID0gcGVyc29uRGF0YS51c2VyTmFtZTsKICAgICAgICBib2R5QmVhbi5wb3NpdGlvbiA9IHBlcnNvbkRhdGEucG9zaXRpb247CiAgICAgICAgYm9keUJlYW4uc2VsZWN0ZWQgPSB0cnVlOwoKICAgICAgICBib2R5QmVhbi5yZWFkaW5nID0KICAgICAgICAgIHBlcnNvbkRhdGEucmVhZFN0YXRpc3RpY3Muc3RhdGlzdGljc0NvdW50ID09IDEgPyAi5bey6K+7IiA6ICLmnKror7siOwogICAgICAgIGJvZHlCZWFuLnJlcGx5ID0KICAgICAgICAgIHBlcnNvbkRhdGEuZmVlZEJhY2tTdGF0aXN0aWNzLnN0YXRpc3RpY3NDb3VudCA9PSAxCiAgICAgICAgICAgID8gIuW3suS4i+i9vSIKICAgICAgICAgICAgOiAi5pyq5LiL6L29IjsKCiAgICAgICAgcmVhZFN0YXRpc3RpY3NDb3VudCArPSBwZXJzb25EYXRhLnJlYWRTdGF0aXN0aWNzLnN0YXRpc3RpY3NDb3VudDsKICAgICAgICByZWFkU3RhdGlzdGljc1RvdGFsQ291bnQgKz0gMTsKCiAgICAgICAgZmVlZGJhY2tTdGF0aXN0aWNzQ291bnQgKz0KICAgICAgICAgIHBlcnNvbkRhdGEuZmVlZEJhY2tTdGF0aXN0aWNzLnN0YXRpc3RpY3NDb3VudDsKICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50ICs9IDE7CgogICAgICAgIGxldCBhdHRhY2hEYXRhTGlzdCA9IFtdOwoKICAgICAgICBwZXJzb25EYXRhLmF0dGFjaG1lbnRTdGF0aXN0aWNzLmZvckVhY2goCiAgICAgICAgICAoYXR0YWNobWVudFN0YXRpc3RpY3MsIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGxldCBhdHRhY2hEYXRhID0ge307CiAgICAgICAgICAgIGlmICh0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XSA9IHsKICAgICAgICAgICAgICAgIGlkOiAiIiwKICAgICAgICAgICAgICAgIHN0YXRpc3RpY3NDb3VudDogMCwKICAgICAgICAgICAgICAgIHRvdGFsQ291bnQ6IDAsCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXR0YWNoRGF0YS5pZCA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmF0dGFjaG1lbnRJZDsKICAgICAgICAgICAgYXR0YWNoRGF0YS52YWx1ZSA9CiAgICAgICAgICAgICAgYXR0YWNobWVudFN0YXRpc3RpY3MuZGVhbGVyU3RhdGlzdGljcy5zdGF0aXN0aWNzQ291bnQgPT0gMQogICAgICAgICAgICAgICAgPyAi5bey5LiL6L29IgogICAgICAgICAgICAgICAgOiAi5pyq5LiL6L29IjsKCiAgICAgICAgICAgIHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3NbaW5kZXhdLmlkID0KICAgICAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50SWQ7CiAgICAgICAgICAgIHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3NbaW5kZXhdLnN0YXRpc3RpY3NDb3VudCArPQogICAgICAgICAgICAgIGF0dGFjaG1lbnRTdGF0aXN0aWNzLmRlYWxlclN0YXRpc3RpY3Muc3RhdGlzdGljc0NvdW50OwogICAgICAgICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XS50b3RhbENvdW50ICs9IDE7CgogICAgICAgICAgICBhdHRhY2hEYXRhTGlzdC5wdXNoKGF0dGFjaERhdGEpOwogICAgICAgICAgfQogICAgICAgICk7CgogICAgICAgIGJvZHlCZWFuLmF0dGFjaERhdGFMaXN0ID0gYXR0YWNoRGF0YUxpc3Q7CgogICAgICAgIGRhdGFBcnJheS5wdXNoKGJvZHlCZWFuKTsKICAgICAgfSk7CgogICAgICB0b3RhbGluZm8udXNlcklkID0gIi0xIjsKICAgICAgdG90YWxpbmZvLm5hbWUgPSAi5ZCI6K6hIjsKICAgICAgdG90YWxpbmZvLnBvc2l0aW9uID0gIi0iOwogICAgICB0b3RhbGluZm8uc2VsZWN0ZWQgPSB0cnVlOwoKICAgICAgdG90YWxpbmZvLnJlYWRpbmcgPSBjb21wb3NlU3RhdGlzdGljc1Nob3dUZXh0KAogICAgICAgIHJlYWRTdGF0aXN0aWNzQ291bnQsCiAgICAgICAgcmVhZFN0YXRpc3RpY3NUb3RhbENvdW50LAogICAgICAgIChyZWFkU3RhdGlzdGljc0NvdW50ICogMTAwKSAvIHJlYWRTdGF0aXN0aWNzVG90YWxDb3VudAogICAgICApOwoKICAgICAgdG90YWxpbmZvLnJlcGx5ID0gY29tcG9zZVN0YXRpc3RpY3NTaG93VGV4dCgKICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NDb3VudCwKICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50LAogICAgICAgIChmZWVkYmFja1N0YXRpc3RpY3NDb3VudCAqIDEwMCkgLyBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50CiAgICAgICk7CgogICAgICB0b3RhbGluZm8uYXR0YWNoRGF0YUxpc3QgPSBbXTsKICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljcy5mb3JFYWNoKChhdHRhY2htZW50U3RhdGlzdGljcykgPT4gewogICAgICAgIGxldCBhdHRhY2hEYXRhID0ge307CgogICAgICAgIGF0dGFjaERhdGEuaWQgPSBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50SWQ7CiAgICAgICAgYXR0YWNoRGF0YS52YWx1ZSA9IGNvbXBvc2VTdGF0aXN0aWNzU2hvd1RleHQoCiAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy5zdGF0aXN0aWNzQ291bnQsCiAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy50b3RhbENvdW50LAogICAgICAgICAgKGF0dGFjaG1lbnRTdGF0aXN0aWNzLnN0YXRpc3RpY3NDb3VudCAqIDEwMCkgLwogICAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy50b3RhbENvdW50CiAgICAgICAgKTsKCiAgICAgICAgdG90YWxpbmZvLmF0dGFjaERhdGFMaXN0LnB1c2goYXR0YWNoRGF0YSk7CiAgICAgIH0pOwoKICAgICAgZGF0YUFycmF5LnVuc2hpZnQodG90YWxpbmZvKTsKCiAgICAgIHJldHVybiBkYXRhQXJyYXk7CiAgICB9LAogICAgY2hhbmdlQWxsQ2hlY2tlZDogZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygKICAgICAgICAiY2hlY2tlZEFsbDoiICsKICAgICAgICAgIHRoaXMuY2hlY2tlZEFsbCArCiAgICAgICAgICAiIGNoZWNrZWROYW1lczoiICsKICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMuY2hlY2tlZE5hbWVzKSArCiAgICAgICAgICAiICBjaGVja2VkQXJyOiIgKwogICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy5jaGVja2VkQXJyKQogICAgICApOwoKICAgICAgaWYgKHRoaXMuY2hlY2tlZEFsbCkgewogICAgICAgIHRoaXMuY2hlY2tlZE5hbWVzID0gdGhpcy5jaGVja2VkQXJyOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hlY2tlZE5hbWVzID0gW107CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["statisticalReportPersonView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"statisticalReportPersonView.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card class=\"mx-auto\">\n    <v-toolbar dense color=\"#1867C0\">\n      <v-btn icon>\n        <v-icon color=\"white\" @click=\"bt_close\"> mdi-close </v-icon>\n      </v-btn>\n      <v-toolbar-title class=\"body-1 white--text\">统计报告</v-toolbar-title>\n    </v-toolbar>\n    <div class=\"pl-8 pr-8 pt-4\">\n      <span class=\"body-1 grey--text text--darken-3\"> 人员 </span>\n      <template>\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"desserts_area\"\n          item-key=\"name\"\n          :search=\"search_sele\"\n          class=\"mt-8 elevation-1\"\n          hide-default-footer\n        >\n          <template v-slot:body=\"{ items }\">\n            <tbody>\n              <tr v-for=\"(item, iindex) in items\" :key=\"item.name\">\n                <td>\n                  <template\n                    v-if=\"statisticsStatusParam == STATISTICSSTATUS_TYPE_READ\"\n                  >\n                    <v-checkbox\n                      v-if=\"iindex === 0\"\n                      v-model=\"checkedAll\"\n                      :label=\"item.name\"\n                      @change=\"changeAllChecked\"\n                    ></v-checkbox>\n                    <v-checkbox\n                      v-else\n                      v-model=\"checkedNames\"\n                      :value=\"item.userId\"\n                      :label=\"item.name\"\n                    ></v-checkbox>\n                  </template>\n                  <template v-else>\n                    {{ item.name }}\n                  </template>\n                </td>\n                <td>{{ item.position }}</td>\n                <td>{{ item.reading }}</td>\n                <td>{{ item.reply }}</td>\n\n                <td\n                  v-for=\"attachment in item.attachDataList\"\n                  :key=\"attachment.id\"\n                >\n                  {{ attachment.value }}\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-data-table>\n\n        <v-divider class=\"#E4E8EB\"></v-divider>\n      </template>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport { getDealerReport } from \"@/api/getData.js\";\nimport { composeStatisticsShowText } from \"@/utils/stringUtils.js\";\n\nexport default {\n  name: \"statisticalReportPersonView\",\n  props: {\n    openStatus: {\n      type: Boolean,\n    },\n    areaparam: {\n      type: String,\n    },\n    msgIDParam: {\n      type: String,\n    },\n    readStatusParam: {\n      type: Number,\n    },\n    statisticsStatusParam: {\n      type: Number,\n    },\n    attachmentIdParam: {\n      type: Number,\n    },\n    statisticsSelectParam: {\n      type: Object,\n    },\n    companyCodeParam: {\n      type: String,\n    },\n    selectCompanyInfos: {\n      type: Map,\n    },\n  },\n\n  data() {\n    return {\n      //状态：已读、未读\n      STATUS_READ: 0,\n      STATUS_UNREAD: 1,\n\n      //统计查询类型 0: 阅读类型查询 1: 附件类型查询 2: 回复类型查询\n      STATISTICSSTATUS_TYPE_READ: 0,\n      STATISTICSSTATUS_TYPE_ATTACH: 1,\n      STATISTICSSTATUS_TYPE_REPLY: 2,\n\n      remindDialog: false,\n      search_sele: \"\",\n      selected_area: [],\n      expanded: [],\n      headers: [],\n\n      desserts_area: [],\n\n      //start 全选参数\n      checkedAll: true,\n      //所有选中的userId\n      checkedNames: [],\n      checkedArr: [],\n      //end 全选参数\n    };\n  },\n\n  mounted() {\n    this.getDealerReportService();\n  },\n\n  watch: {\n    openStatus(newV) {\n      console.log(\"openStatus:\" + newV);\n      //由不可见到可见\n      if (newV) {\n        this.getDealerReportService();\n      }\n    },\n    checkedNames: function () {\n      if (this.checkedNames.length == this.checkedArr.length) {\n        this.checkedAll = true;\n      } else {\n        this.checkedAll = false;\n      }\n    },\n  },\n\n  methods: {\n    //查用户\n    getDealerReportService() {\n      this.headers = [];\n      this.desserts_area = [];\n\n      getDealerReport({\n        area: this.areaparam,\n        msgId: this.msgIDParam,\n        level: 2,\n        readStatus: this.readStatusParam,\n        statisticsStatus: this.statisticsStatusParam,\n        attachmentId: this.attachmentIdParam,\n        dealerType: this.selectTypeValueParam,\n        companyCode: this.companyCodeParam,\n      })\n        .then((res) => {\n          console.log(\"getSuppilerListData receive:\" + JSON.stringify(res));\n\n          if (res.data == null || res.data.length == 0) {\n            console.log(\"data size is 0\");\n            return;\n          }\n\n          this.headers = this.initHeaderData(res.data);\n          this.desserts_area = this.initBodyData(res.data);\n\n          this.checkedAll = this.checkedNames.length == this.checkedArr.length;\n        })\n        .catch((res) => {\n          console.log(res);\n        });\n    },\n\n    //关闭\n    bt_close() {\n      console.log(\n        \"......关闭按钮....companyCodeParam:\" +\n          this.companyCodeParam +\n          \" checkedNames:\" +\n          JSON.stringify(this.checkedNames)\n      );\n\n      let companyCode = this.companyCodeParam;\n      let selectUsers = this.checkedNames;\n\n      this.$emit(\"closedChild\", selectUsers, companyCode);\n    },\n    //构建单个header头信息\n    buildHeaderBean(text, value) {\n      let headerBean = {};\n      headerBean.text = text;\n      headerBean.value = value;\n      headerBean.width = \"10rem\";\n      headerBean.align = \"left\";\n      return headerBean;\n    },\n    //初始化Header的数据\n    initHeaderData(data) {\n      let headerDataArray = [];\n\n      headerDataArray.push(this.buildHeaderBean(\"姓名\", \"userName\"));\n      headerDataArray.push(this.buildHeaderBean(\"职务\", \"position\"));\n      headerDataArray.push(this.buildHeaderBean(\"阅读统计\", \"reading\"));\n      headerDataArray.push(this.buildHeaderBean(\"回复统计\", \"reply\"));\n\n      if (data[0].attachmentStatistics.length == 0) {\n        console.log(\"initHeaderData:attachmentStatistics is 0\");\n        return headerDataArray;\n      }\n\n      data[0].attachmentStatistics.forEach((attachmentStatistics) => {\n        let attachmentName = attachmentStatistics.attachmentName.slice(\n          attachmentStatistics.attachmentName.lastIndexOf(\"/\") + 1\n        );\n\n        headerDataArray.push(\n          this.buildHeaderBean(\n            \"下载统计(\" + attachmentName + \")\",\n            attachmentStatistics.attachmentId\n          )\n        );\n      });\n      return headerDataArray;\n    },\n\n    initBodyData(data) {\n      this.checkedArr = [];\n      this.checkedNames = [];\n      let dataArray = [];\n      let totalinfo = {};\n      let totalAttachmentStatistics = [];\n\n      let readStatisticsCount = 0,\n        readStatisticsTotalCount = 0;\n      let feedbackStatisticsCount = 0,\n        feedbackStatisticsTotalCount = 0;\n\n      let selectUsersInCompany = this.selectCompanyInfos.get(\n        this.companyCodeParam\n      );\n\n      console.log(\n        \"selectUsersInCompany companyCode:\" +\n          this.companyCodeParam +\n          \"  data:\" +\n          JSON.stringify(selectUsersInCompany)\n      );\n\n      data.forEach((personData) => {\n        let bodyBean = {};\n\n        this.checkedArr.push(personData.userId);\n\n        if (\n          selectUsersInCompany == null ||\n          selectUsersInCompany.indexOf(personData.userId) >= 0\n        ) {\n          this.checkedNames.push(personData.userId);\n        }\n\n        bodyBean.userId = personData.userId;\n        bodyBean.name = personData.userName;\n        bodyBean.position = personData.position;\n        bodyBean.selected = true;\n\n        bodyBean.reading =\n          personData.readStatistics.statisticsCount == 1 ? \"已读\" : \"未读\";\n        bodyBean.reply =\n          personData.feedBackStatistics.statisticsCount == 1\n            ? \"已下载\"\n            : \"未下载\";\n\n        readStatisticsCount += personData.readStatistics.statisticsCount;\n        readStatisticsTotalCount += 1;\n\n        feedbackStatisticsCount +=\n          personData.feedBackStatistics.statisticsCount;\n        feedbackStatisticsTotalCount += 1;\n\n        let attachDataList = [];\n\n        personData.attachmentStatistics.forEach(\n          (attachmentStatistics, index) => {\n            let attachData = {};\n            if (totalAttachmentStatistics[index] == undefined) {\n              totalAttachmentStatistics[index] = {\n                id: \"\",\n                statisticsCount: 0,\n                totalCount: 0,\n              };\n            }\n\n            attachData.id = attachmentStatistics.attachmentId;\n            attachData.value =\n              attachmentStatistics.dealerStatistics.statisticsCount == 1\n                ? \"已下载\"\n                : \"未下载\";\n\n            totalAttachmentStatistics[index].id =\n              attachmentStatistics.attachmentId;\n            totalAttachmentStatistics[index].statisticsCount +=\n              attachmentStatistics.dealerStatistics.statisticsCount;\n            totalAttachmentStatistics[index].totalCount += 1;\n\n            attachDataList.push(attachData);\n          }\n        );\n\n        bodyBean.attachDataList = attachDataList;\n\n        dataArray.push(bodyBean);\n      });\n\n      totalinfo.userId = \"-1\";\n      totalinfo.name = \"合计\";\n      totalinfo.position = \"-\";\n      totalinfo.selected = true;\n\n      totalinfo.reading = composeStatisticsShowText(\n        readStatisticsCount,\n        readStatisticsTotalCount,\n        (readStatisticsCount * 100) / readStatisticsTotalCount\n      );\n\n      totalinfo.reply = composeStatisticsShowText(\n        feedbackStatisticsCount,\n        feedbackStatisticsTotalCount,\n        (feedbackStatisticsCount * 100) / feedbackStatisticsTotalCount\n      );\n\n      totalinfo.attachDataList = [];\n      totalAttachmentStatistics.forEach((attachmentStatistics) => {\n        let attachData = {};\n\n        attachData.id = attachmentStatistics.attachmentId;\n        attachData.value = composeStatisticsShowText(\n          attachmentStatistics.statisticsCount,\n          attachmentStatistics.totalCount,\n          (attachmentStatistics.statisticsCount * 100) /\n            attachmentStatistics.totalCount\n        );\n\n        totalinfo.attachDataList.push(attachData);\n      });\n\n      dataArray.unshift(totalinfo);\n\n      return dataArray;\n    },\n    changeAllChecked: function () {\n      console.log(\n        \"checkedAll:\" +\n          this.checkedAll +\n          \" checkedNames:\" +\n          JSON.stringify(this.checkedNames) +\n          \"  checkedArr:\" +\n          JSON.stringify(this.checkedArr)\n      );\n\n      if (this.checkedAll) {\n        this.checkedNames = this.checkedArr;\n      } else {\n        this.checkedNames = [];\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}