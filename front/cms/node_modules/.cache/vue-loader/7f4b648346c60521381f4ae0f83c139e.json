{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/allArticle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/allArticle.vue","mtime":1640194179839},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAiQC9hc3NldHMvY3NzL2FydGljbGUuY3NzIjsKaW1wb3J0IHsgZ2V0QWxsQXJ0aWNsZSwgY29sbGVjdGlvbk9wZXJhdGlvbixyZW1vdmVDb2xsZWN0aW9uIH0gZnJvbSAiQC9hcGkvZ2V0RGF0YS5qcyI7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsKICBnZXRNc2dTdGF0dXNEZXNjLAogIGhpZ2hMaWdodFRleHQsCiAgZ2V0TXNnU3RhdHVzSW1nLAogIGZvcm1hdEh0bWwsCn0gZnJvbSAiQC91dGlscy9hcnRpY2xlVXRpbHMuanMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGFlc0VuY3J5cHQgfSBmcm9tICJAL3V0aWxzL2VuY3J5cHRpb24uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgc2VhcmNoQmFyOiAoKSA9PiBpbXBvcnQoIi4vYXJ0aWNsZUxpc3Qvc2VhcmNoQmFyLnZ1ZSIpLAogICAgcGFnZUxvYWRlcjogKCkgPT4gaW1wb3J0KCIuL2FydGljbGVMaXN0L3BhZ2VMb2FkZXIudnVlIiksCiAgICBsb2FkaW5nOiAoKSA9PiBpbXBvcnQoIkAvY29tcG9uZW50cy9iYXNlL2xvYWRpbmcudnVlIiksCiAgICBlbXB0eVZpZXc6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnRzL2Jhc2UvZW1wdHktdmlldy52dWUiKSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyUG9zaXRpb25zOltdLAogICAgICBkaWFsb2c6dHJ1ZSwKICAgICAgZGF0YTogbnVsbCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGxvYWRpbmd2aWV3OiB0cnVlLAogICAgICBlbXB0eVZpZXdTaG93OiBmYWxzZSwKICAgICAgZGVwYXJ0bWVudHM6IFsi5YWo6YOoIl0sCiAgICAgIGJvcmRlclN0YXR1czogImJvcmRlci1sZWZ0OjNweCBzb2xpZCAjMTg2N0MwICFpbXBvcnRhbnQ7IiwKICAgICAgaXRlbXM6IFtdLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgaGFzRWRpdFBlcm1pc3Npb246ICJ1c2VyL2hhc0VkaXRQZXJtaXNzaW9uIiwKICAgIH0pLAogIH0sCgogIG1ldGhvZHM6IHsKCiAgICBvblNlbGVjdFBvc2l0aW9uKCkgewogICAgICAgIGFsZXJ0KEpTT04uc3RyaW5naWZ5KHN0b3JlLnN0YXRlLnVzZXIpKQogICAgfSwKCiAgICBvblNlYXJjaChkYXRhKSB7CiAgICAgIGlmKHRoaXMudXNlclBvc2l0aW9ucy5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgaWYgKHRoaXMubG9hZGluZyA9PSB0cnVlKSByZXR1cm47CiAgICAgIHRoaXMuaXRlbXMgPSBbXTsKICAgICAgdGhpcy5kYXRhID0gZGF0YTsKICAgICAgdGhpcy5zZWFyY2hBcnRpY2xlcyh0aGlzLmRhdGEpOwogICAgICB0aGlzLmVtcHR5Vmlld1Nob3cgPSBmYWxzZTsKICAgICAgdGhpcy5sb2FkaW5ndmlldyA9IHRydWU7CiAgICB9LAoKCgogICAgb25SZXNldChkYXRhKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcgPT0gdHJ1ZSkgcmV0dXJuOwogICAgICB0aGlzLm9uU2VhcmNoKGRhdGEpOwogICAgfSwKCiAgICBvbkxvYWRNb3JlKCkgewogICAgICBpZiAodGhpcy5sb2FkaW5nID09IHRydWUpIHJldHVybjsKICAgICAgdGhpcy5zZWFyY2hBcnRpY2xlcyh0aGlzLmRhdGEpOwogICAgfSwKICAgIHNlYXJjaEFydGljbGVzKGRhdGEpIHsKICAgICAgaWYgKHRoaXMubG9hZGluZyA9PSB0cnVlKSByZXR1cm47CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGdldEFsbEFydGljbGUoZGF0YSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgcmVzID09IG51bGwgfHwKICAgICAgICAgICAgdHlwZW9mIHJlcyA9PSAidW5kZWZpbmVkIiB8fAogICAgICAgICAgICByZXMuY29kZSA9PSBudWxsIHx8CiAgICAgICAgICAgIHR5cGVvZiByZXMuY29kZSA9PSAidW5kZWZpbmVkIiB8fAogICAgICAgICAgICByZXMuY29kZSAhPSAwIHx8CiAgICAgICAgICAgIHJlcy5kYXRhLm1lc3NhZ2VMaXN0Lmxlbmd0aCA9PSAwCiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy5zaG93RW1wdHlWaWV3SWZOZWVkZWQoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMuZGF0YS5wYWdlTnVtID09IDEpIHsKICAgICAgICAgICAgbGV0IGRlcGFydG1lbnRzID0gWyLlhajpg6giXTsKICAgICAgICAgICAgdGhpcy5kZXBhcnRtZW50cyA9IGRlcGFydG1lbnRzLmNvbmNhdChyZXMuZGF0YS5kZXBhcnRtZW50cyk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5kYXRhLnBhZ2VOdW0rKzsKICAgICAgICAgIGxldCBhVGVtcCA9IFtdOwoKICAgICAgICAgIHJlcy5kYXRhLm1lc3NhZ2VMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgbGV0IGRUZW1wID0ge307CiAgICAgICAgICAgIGRUZW1wWyJpZCJdID0gaXRlbS5pZDsKICAgICAgICAgICAgZFRlbXBbInRpdGxlIl0gPSBmb3JtYXRIdG1sKGl0ZW0udGl0bGUpOwogICAgICAgICAgICBkVGVtcFsiaW50cm8iXSA9IGZvcm1hdEh0bWwoaXRlbS5jb250ZW50KTsKICAgICAgICAgICAgZFRlbXBbImxhc3RVcGRhdGVUaW1lIl0gPSBpdGVtLmxhc3RVcGRhdGVUaW1lOwogICAgICAgICAgICBkVGVtcFsiZGVwdG1lbnQiXSA9IGl0ZW0uY3JlYXRvckNvbXBhbnluYW1lOwoKICAgICAgICAgICAgLy/mlofnq6DnirbmgIE6MDrojYnnqL8gMTrlt7Llj5HluIMgIDQ65bey5aSx5pWICiAgICAgICAgICAgIGRUZW1wWyJhcnRpY2xlVHlwZSJdID0gZ2V0TXNnU3RhdHVzRGVzYyhpdGVtLm1zZ1N0YXR1cyk7CiAgICAgICAgICAgIGRUZW1wWyJhcnRpY2xlVHlwZUltZyJdID0gZ2V0TXNnU3RhdHVzSW1nKGl0ZW0ubXNnU3RhdHVzKTsKICAgICAgICAgICAgLy/pmYTku7bmlbDph48KICAgICAgICAgICAgZFRlbXBbImF0dGFjaG1lbnRDb3VudCJdID0gaXRlbS5hdHRhY2htZW50Q291bnQ7CiAgICAgICAgICAgIC8v6ZiF6K+75pWw6YePCiAgICAgICAgICAgIGRUZW1wWyJyZWFkTnVtIl0gPSBpdGVtLnJlYWRBdWRpZW5jZUNvdW50OwogICAgICAgICAgICAvL+aWh+S7tue8luWPtwogICAgICAgICAgICBkVGVtcFsiYXJ0aWNsZU5vIl0gPSBpdGVtLm1zZ051bWJlcjsKICAgICAgICAgICAgLy/mmK/lkKblt7Lor7sKICAgICAgICAgICAgZFRlbXBbInJlYWRTdGF0dXMiXSA9IGl0ZW0ucmVhZFN0YXR1czsKICAgICAgICAgICAgLy/mlLbol4/nirbmgIEKICAgICAgICAgICAgZFRlbXBbImZhdm9yaXRlIl0gPSBpdGVtLmFyY2hpdmVTdGF0dXM7CiAgICAgICAgICAgIC8v5pS26JeP5pON5L2c6YCJ5oup54q25oCB5a+E5a2YCiAgICAgICAgICAgIGRUZW1wWyJmYXZvcml0ZVNlbGVjdCJdID0gbnVsbDsKICAgICAgICAgICAgYVRlbXAucHVzaChkVGVtcCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLmNvbmNhdChhVGVtcCk7CiAgICAgICAgICBjb25zb2xlLmRlYnVnKCJhZGQgbGlzdCIgKyBhVGVtcCk7CiAgICAgICAgICBoaWdoTGlnaHRUZXh0KHRoaXMuaXRlbXMsIHRoaXMuZGF0YS5zZWFyY2hDb250ZW50KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgdGhpcy5zaG93RW1wdHlWaWV3SWZOZWVkZWQoKTsKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5sb2FkaW5ndmlldyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIHNob3dFbXB0eVZpZXdJZk5lZWRlZCgpIHsKICAgICAgaWYgKHRoaXMuZGF0YT09bnVsbCB8fCB0aGlzLmRhdGEucGFnZU51bSA9PSAxKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5lbXB0eVZpZXdTaG93ID0gdHJ1ZTsKICAgICAgfQogICAgfSwKCiAgICAvL+i3s+i9rOivpuaDhemhtQogICAgdG9EZXRhaWwoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvYXJ0Y2xlRGV0YWlsIiwKICAgICAgICBxdWVyeTogeyBpZDogYWVzRW5jcnlwdChpZCArICIiKSB9LAogICAgICB9KTsKICAgIH0sCiAgICAvL+i3s+i9rOWPpuWtmOS4uuWPkeW4g+aWh+eroAogICAgc2F2ZUFzKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAicHVibGlzaEFydGljbGUiLAogICAgICAgIHBhcmFtczogeyBpZDogaWQgfSwKICAgICAgfSk7CiAgICB9LAoKICAgIC8v5paH56ug5pS26JePCiAgICBjb2xsZWN0KGluZGV4KSB7CiAgICAgIC8v6YCJ5oup5pS26JeP55qE5paH56ug55qE5oyH6ZKICiAgICAgIGxldCBpdGVtID0gdGhpcy5pdGVtc1tpbmRleF07CiAgICAgIGxldCB0eXBlID0gTnVtYmVyKGl0ZW0uZmF2b3JpdGVTZWxlY3QpOwogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIG1zZ0lkOiBOdW1iZXIoaXRlbS5pZCksCiAgICAgICAgYXJjaGl2ZUlkOiB0eXBlLAogICAgICB9OwogICAgICBjb25zb2xlLmRlYnVnKCLmlLbol4/nsbvlnos9PT09PT09PiIgKyB0eXBlKTsKICAgICAgaXRlbS5mYXZvcml0ZVNlbGVjdCA9IG51bGw7CgogICAgICBjb2xsZWN0aW9uT3BlcmF0aW9uKHBhcmFtcykKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmRlYnVnKCLkv67mlLnmlofnq6DnsbvlnosiICsgcmVzKTsKICAgICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLmZhdm9yaXRlID0gdHlwZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgpCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gKHRoaXMuaXRlbXNbaW5kZXhdLmRsb2cgPSBmYWxzZSkpOwogICAgfSwKICB9LAogIAogIC8v5paH56ug5pS26JePCiAgcmVtb3ZlRmF2b3VyaXRlKGl0ZW0pIHsKICAgIC8v6YCJ5oup5pS26JeP55qE5paH56ug55qE5oyH6ZKICiAgICAvLyB0aGlzLml0ZW1zLnNwbGljZSgwLCAxKQogICAgLy9sZXQgaXRlbSA9IHRoaXMuaXRlbXNbaW5kZXhdOwogICAgbGV0IGRhdGEgPSB7CiAgICAgIG1zZ0lkOiBpdGVtLmlkLAogICAgICBhcmNoaXZlSWQ6IGl0ZW0uZmF2b3JpdGUsCiAgICB9OwogICAgcmVtb3ZlQ29sbGVjdGlvbihkYXRhKQogICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgY29uc29sZS5kZWJ1ZyhyZXMpOwogICAgICAgIGlmKHJlcyAmJiByZXMuY29kZSA9PTApIHsKICAgICAgICAgIGl0ZW0uZmF2b3JpdGUgPSAwOwogICAgICAgICAgdGhpcy5pdGVtcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5pdGVtcykpCiAgICAgICAgfQogICAgICAgIC8vIHZhciBpID0gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pOwogICAgICAgIC8vIGlmIChpID49IDApIHsKICAgICAgICAvLyAgIHRoaXMuaXRlbXMuc3BsaWNlKGksIDEpOwogICAgICAgIC8vIH0KICAgICAgfSkKICAgICAgLmNhdGNoKCk7CiAgICAvL+mAieaLqeeahOaWh+S7tuWkuQogIH0sCgogIC8v6L+H5ruk5paH5a2XCiAgZmlsdGVyczogewogICAgbGVuZ2h0aCh0ZXh0LCBsZW5ndGgsIHN1ZmZpeCA9ICIuLi4iKSB7CiAgICAgIGlmICghdGV4dCkgcmV0dXJuOwogICAgICBpZiAodGV4dC5sZW5ndGggPD0gbGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgIH0KICAgICAgbGV0IGhpZ2h0TGlnaHRFbGUgPSAnPGZvbnQgY29sb3I9InJlZCI+JzsKICAgICAgaWYgKHRleHQuaW5kZXhPZihoaWdodExpZ2h0RWxlKSA+PSAwKSB7CiAgICAgICAgbGVuZ3RoICs9IDI1OwogICAgICB9CgogICAgICByZXR1cm4gKHRleHQgKyAiIikuc3Vic3RyaW5nKDAsIGxlbmd0aCkgKyBzdWZmaXg7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["allArticle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"allArticle.vue","sourceRoot":"src/views/page","sourcesContent":["<template>\n  <v-container fluid>\n    <v-row no-gutters pa-0 ma-0>\n\n\n<template>\n  <v-row justify=\"space-around\">\n    <v-col cols=\"auto\">\n      <v-dialog\n        persistent\n        scrollable\n        v-model=\"dialog\"\n        transition=\"dialog-bottom-transition\"\n        max-width=\"600\"\n      >\n        <template >\n          <v-card>\n            <v-toolbar\n              color=\"primary\"\n              dark\n            >请选择您登录MyMessage的角色</v-toolbar>\n            <v-card-text>\n              <v-radio-group v-model=\"userPositions\">\n                  <v-radio\n                    class=\"mt-2\"\n                    v-for=\"n in 20\"\n                    :key=\"n\"\n                    :value=\"n\"\n                  >\n                  <template v-slot:label>\n                     <strong class=\"primary--text\">{{`Radio ${n}`}}</strong>\n                </template>\n                  \n                  </v-radio>\n                </v-radio-group>\n            </v-card-text>\n            \n          <div style=\"margin-top: 24px; height: 60px;margin-bottom:15px\">\n            <v-btn\n            style=\"margin-left: 190px;\"\n             :disabled=\"userPositions.length === 0\"\n              depressed color=\"#1867C0\"  \n              class=\"white--text\"\n              min-width=\"205px\"\n              height=\"36px\"\n              @click=\"onSelectPosition\"\n            >\n              确认\n            </v-btn>\n        </div>     \n          </v-card>\n        </template>\n      </v-dialog>\n    </v-col>\n  </v-row>\n</template>\n\n\n      <v-col sm=\"12\">\n        <search-bar @onSearch=\"onSearch\" @onReset=\"onReset\" :departments=\"departments\" />\n        <loading v-if=\"loadingview\" />\n        <empty-view v-if=\"emptyViewShow\" />\n        <v-row align=\"center\" dense class=\"pa-0 ma-0\">\n          <v-col v-for=\"(item, i) in items\" :key=\"i\" cols=\"12\">\n            <div\n              @click.prevent=\"toDetail(item.id)\"\n              :style=\"item.readStatus ==0 ? borderStatus : ''\"\n              class=\"card pt-4\"\n            >\n              <div class=\"mt-0 mb-0 ml-4 pa-0\" style=\"display: flex\">\n                <span class=\"deptment\">{{ item.deptment }}</span>\n                <v-spacer></v-spacer>\n                <v-img\n                  max-height=\"20\"\n                  max-width=\"57\"\n                  :src=\"item.articleTypeImg\"\n                >\n                  <template>\n                    <v-row\n                      class=\"fill-height ma-0\"\n                      align=\"center\"\n                      justify=\"center\"\n                    >\n                      <span class=\"article-type-text\">{{\n                        item.articleType\n                      }}</span>\n                    </v-row>\n                  </template>\n                </v-img>\n              </div>\n              <span class=\"article-time-text ma-0 pa-0 ml-4\">\n                {{ item.lastUpdateTime }}\n              </span>\n\n              <div class=\"pa-0 ma-0 ml-4 mt-2\">\n                <p\n                  class=\"article-title-text mt-0 pa-0\"\n                  :style=\"item.readStatus ==0 ? 'color:#1867C0' : ''\"\n                  v-html=\"$options.filters.lenghth(item.title, 70)\"\n                ></p>\n                <p\n                  class=\"article-intro-text pa-0 pt-1 html-content\"\n                  v-html=\"$options.filters.lenghth(item.intro, 70)\"\n                ></p>\n                <div\n                  v-if=\"item.attachmentCount || item.articleNo\"\n                  class=\"article-report-text mt-2 mr-3 ml-0 pa-0\"\n                >\n                  <span v-if=\"item.attachmentCount\" class=\"mr-6\"\n                    >附件({{ item.attachmentCount }})</span\n                  >\n                  <span v-if=\"item.articleNo\"\n                    >文章编号:{{ item.articleNo }}</span\n                  >\n                </div>\n              </div>\n              \n              <div class=\"mt-2 mb-1 ml-4 pa-0 pb-3 caption\">\n                <button\n                  class=\"article-operator-text mr-2\"\n                  v-if=\"hasEditPermission\"\n                  @click.stop=\"saveAs(item.id)\"\n                >\n                  <v-icon class=\"article-operator-icon\">\n                    mdi-file-plus-outline\n                  </v-icon>\n                  另存为\n                </button>\n                <v-dialog v-model=\"item.dlog\" max-width=\"210\">\n                  <template v-slot:activator=\"{ on, attrs }\"> \n                      <button\n                      v-bind=\"attrs\"\n                      v-on=\"on\"\n                      class=\"article-operator-text\"\n                      @click.stop=\"collect(item.id)\"\n                    >\n                      <v-icon class=\"article-operator-icon\">\n                        {{\n                          item.favorite > 0 ? \"mdi-star\" : \"mdi-star-outline\"\n                        }}\n                      </v-icon>\n                      {{ item.favorite > 0 ? \"已收藏\" : \"收藏\" }}\n                    </button>\n                  </template>\n                  <v-card>\n                    <v-card-title>选择收藏的文件夹</v-card-title>\n                    <v-divider></v-divider>\n                    <v-card-text>\n                      <v-radio-group v-model=\"item.favoriteSelect\" column>\n                        <v-radio label=\"我的收藏\" value=\"1\"> </v-radio>\n                        <v-radio label=\"重要通知\" value=\"2\"> </v-radio>\n                        <v-radio label=\"政策发布\" value=\"3\"> </v-radio>\n                      </v-radio-group>\n                    </v-card-text>\n                    <v-divider></v-divider>\n                    <v-card-actions>\n                      <v-btn\n                        color=\"blue darken-1\"\n                        text\n                        @click=\"\n                          item.dlog = false;\n                          item.favoriteSelect = null;\n                        \"\n                      >\n                        关闭\n                      </v-btn>\n                      <v-btn color=\"blue darken-1\" text @click=\"collect(i)\">\n                        确认\n                      </v-btn>\n                    </v-card-actions>\n                  </v-card>\n                </v-dialog>\n              </div>\n            </div>\n          </v-col>\n        </v-row>\n      </v-col>\n    </v-row>\n    <page-loader @onLoadMore=\"onLoadMore\" />\n  </v-container>\n</template>\n\n<script>\nimport \"@/assets/css/article.css\";\nimport { getAllArticle, collectionOperation,removeCollection } from \"@/api/getData.js\";\nimport store from '@/store';\nimport {\n  getMsgStatusDesc,\n  highLightText,\n  getMsgStatusImg,\n  formatHtml,\n} from \"@/utils/articleUtils.js\";\nimport { mapGetters } from \"vuex\";\nimport { aesEncrypt } from \"@/utils/encryption.js\";\nexport default {\n  components: {\n    searchBar: () => import(\"./articleList/searchBar.vue\"),\n    pageLoader: () => import(\"./articleList/pageLoader.vue\"),\n    loading: () => import(\"@/components/base/loading.vue\"),\n    emptyView: () => import(\"@/components/base/empty-view.vue\"),\n  },\n  data() {\n    return {\n      userPositions:[],\n      dialog:true,\n      data: null,\n      loading: false,\n      loadingview: true,\n      emptyViewShow: false,\n      departments: [\"全部\"],\n      borderStatus: \"border-left:3px solid #1867C0 !important;\",\n      items: [],\n    };\n  },\n  computed: {\n    ...mapGetters({\n      hasEditPermission: \"user/hasEditPermission\",\n    }),\n  },\n\n  methods: {\n\n    onSelectPosition() {\n        alert(JSON.stringify(store.state.user))\n    },\n\n    onSearch(data) {\n      if(this.userPositions.length === 0) return;\n      if (this.loading == true) return;\n      this.items = [];\n      this.data = data;\n      this.searchArticles(this.data);\n      this.emptyViewShow = false;\n      this.loadingview = true;\n    },\n\n\n\n    onReset(data) {\n      if (this.loading == true) return;\n      this.onSearch(data);\n    },\n\n    onLoadMore() {\n      if (this.loading == true) return;\n      this.searchArticles(this.data);\n    },\n    searchArticles(data) {\n      if (this.loading == true) return;\n      this.loading = true;\n      getAllArticle(data)\n        .then((res) => {\n          console.log(JSON.stringify(res));\n          if (\n            res == null ||\n            typeof res == \"undefined\" ||\n            res.code == null ||\n            typeof res.code == \"undefined\" ||\n            res.code != 0 ||\n            res.data.messageList.length == 0\n          ) {\n            this.showEmptyViewIfNeeded();\n            return;\n          }\n          if (this.data.pageNum == 1) {\n            let departments = [\"全部\"];\n            this.departments = departments.concat(res.data.departments);\n          }\n\n          this.data.pageNum++;\n          let aTemp = [];\n\n          res.data.messageList.forEach((item) => {\n            let dTemp = {};\n            dTemp[\"id\"] = item.id;\n            dTemp[\"title\"] = formatHtml(item.title);\n            dTemp[\"intro\"] = formatHtml(item.content);\n            dTemp[\"lastUpdateTime\"] = item.lastUpdateTime;\n            dTemp[\"deptment\"] = item.creatorCompanyname;\n\n            //文章状态:0:草稿 1:已发布  4:已失效\n            dTemp[\"articleType\"] = getMsgStatusDesc(item.msgStatus);\n            dTemp[\"articleTypeImg\"] = getMsgStatusImg(item.msgStatus);\n            //附件数量\n            dTemp[\"attachmentCount\"] = item.attachmentCount;\n            //阅读数量\n            dTemp[\"readNum\"] = item.readAudienceCount;\n            //文件编号\n            dTemp[\"articleNo\"] = item.msgNumber;\n            //是否已读\n            dTemp[\"readStatus\"] = item.readStatus;\n            //收藏状态\n            dTemp[\"favorite\"] = item.archiveStatus;\n            //收藏操作选择状态寄存\n            dTemp[\"favoriteSelect\"] = null;\n            aTemp.push(dTemp);\n          });\n          this.items = this.items.concat(aTemp);\n          console.debug(\"add list\" + aTemp);\n          highLightText(this.items, this.data.searchContent);\n        })\n        .catch((res) => {\n          console.log(res);\n          this.showEmptyViewIfNeeded();\n        })\n        .finally(() => {\n          this.loading = false;\n          this.loadingview = false;\n        });\n    },\n    showEmptyViewIfNeeded() {\n      if (this.data==null || this.data.pageNum == 1) {\n        this.loading = false;\n        this.emptyViewShow = true;\n      }\n    },\n\n    //跳转详情页\n    toDetail(id) {\n      this.$router.push({\n        path: \"/artcleDetail\",\n        query: { id: aesEncrypt(id + \"\") },\n      });\n    },\n    //跳转另存为发布文章\n    saveAs(id) {\n      this.$router.push({\n        name: \"publishArticle\",\n        params: { id: id },\n      });\n    },\n\n    //文章收藏\n    collect(index) {\n      //选择收藏的文章的指针\n      let item = this.items[index];\n      let type = Number(item.favoriteSelect);\n      let params = {\n        msgId: Number(item.id),\n        archiveId: type,\n      };\n      console.debug(\"收藏类型=======>\" + type);\n      item.favoriteSelect = null;\n\n      collectionOperation(params)\n        .then((res) => {\n          console.debug(\"修改文章类型\" + res);\n          this.items[index].favorite = type;\n        })\n        .catch()\n        .finally(() => (this.items[index].dlog = false));\n    },\n  },\n  \n  //文章收藏\n  removeFavourite(item) {\n    //选择收藏的文章的指针\n    // this.items.splice(0, 1)\n    //let item = this.items[index];\n    let data = {\n      msgId: item.id,\n      archiveId: item.favorite,\n    };\n    removeCollection(data)\n      .then((res) => {\n        console.debug(res);\n        if(res && res.code ==0) {\n          item.favorite = 0;\n          this.items = JSON.parse(JSON.stringify(this.items))\n        }\n        // var i = this.items.indexOf(item);\n        // if (i >= 0) {\n        //   this.items.splice(i, 1);\n        // }\n      })\n      .catch();\n    //选择的文件夹\n  },\n\n  //过滤文字\n  filters: {\n    lenghth(text, length, suffix = \"...\") {\n      if (!text) return;\n      if (text.length <= length) {\n        return text;\n      }\n      let hightLightEle = '<font color=\"red\">';\n      if (text.indexOf(hightLightEle) >= 0) {\n        length += 25;\n      }\n\n      return (text + \"\").substring(0, length) + suffix;\n    },\n  },\n};\n</script>\n<style>\n.html-content p {\n  margin-bottom: 0px;\n}\n</style>"]}]}