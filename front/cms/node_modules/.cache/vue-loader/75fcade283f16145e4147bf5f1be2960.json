{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/sensitiveFilter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/sensitiveFilter.vue","mtime":1640151142183},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHNob3dTbmFja2JhciB9IGZyb20gIkAvdXRpbHMvc25hY2tiYXIuanMiOwppbXBvcnQgeyBpc051bGwgfSBmcm9tICJAL3V0aWxzL2NvbW1vbi5qcyI7CmltcG9ydCB7IGdldFNlbnNpdGl2ZSwgc2F2ZVNlbnNpdGl2ZSB9IGZyb20gIkAvYXBpL2dldERhdGEuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNlbnNpdGl2ZUZpbHRlciIsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+WOi+e8qeaWh+S7tuWkuXppcCxwZGYsanBnLGV4Y2VsLGRvYyzpu5jorqTmlofku7YKICAgICAgaWNvbnM6IFsKICAgICAgICAibWRpLWZvbGRlci16aXAiLAogICAgICAgICJtZGktZmlsZS1wZGYtYm94IiwKICAgICAgICAibWRpLWZpbGUtanBnLWJveCIsCiAgICAgICAgIm1kaS1maWxlLWV4Y2VsIiwKICAgICAgICAibWRpLWZpbGUtZG9jdW1lbnQiLAogICAgICAgICJtZGktYXBwbGljYXRpb24iLAogICAgICAgICJtZGktdGV4dC1ib3gtb3V0bGluZSIsCiAgICAgIF0sCgogICAgICAvL+mZhOS7tuS4i+i9veaKpeWRinRpdGxlCiAgICAgIHRpdGxlOiAi6ZmE5Lu25LiL6L295oql5ZGKIiwKICAgICAgbG9hZGluZzp0cnVlLAogICAgICB1cGxvYWRTZW5zaXRpdmVFcnJvcjogIuaPkOS6pOaVj+aEn+ivjeWksei0pe+8jOivt+eojeWGjeivlSIsCiAgICAgIGdldFNlbnNpdGl2ZUVycm9yOiAi6I635Y+W5pWP5oSf6K+N5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIiwKICAgICAgLy/kuIrkvKDmlofku7YKICAgICAgdXBGaWxlczogW10sCiAgICAgIHJlcGx5VGV4dDogW10sCiAgICAgIGZpbGVUeXBlOiAidHh0IiwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgIH07CiAgfSwKCiAgYWN0aXZhdGVkKCkgewogICAgdGhpcy5nZXRTZW5zaXRpdmVMaXN0KCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgLy/moLnmja7nsbvlnovmmL7npLrlr7nlupRpY29uCiAgICAvL2FjY29yZGluZyB0byBmaWxlIHR5cGUgc2hvdyBjb3JyZXNwb25kaW5nIGljb24KICAgIHNob3dJY29uKHR5cGUpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlICJ6aXAiOgogICAgICAgICAgcmV0dXJuIHRoYXQuaWNvbnNbMF07CiAgICAgICAgY2FzZSAicGRmIjoKICAgICAgICAgIHJldHVybiB0aGF0Lmljb25zWzFdOwogICAgICAgIGNhc2UgImpwZyI6CiAgICAgICAgICByZXR1cm4gdGhhdC5pY29uc1syXTsKICAgICAgICBjYXNlICJ4bHMiOgogICAgICAgIGNhc2UgInhsc3giOgogICAgICAgICAgcmV0dXJuIHRoYXQuaWNvbnNbM107CiAgICAgICAgY2FzZSAiZG9jIjoKICAgICAgICBjYXNlICJkb2N4IjoKICAgICAgICAgIHJldHVybiB0aGF0Lmljb25zWzRdOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdGhhdC5pY29uc1s2XTsKICAgICAgfQogICAgfSwKCiAgICByZXNldFVwbG9hZGVyKCl7CiAgICAgICAgdGhpcy4kcmVmcy51cGxvYWRGaWxlLnZhbHVlPSIiOwogICAgfSwKCiAgICAvL3Nob3cgaWNvbiBjb2xvcgogICAgc2hvd0ljb25Db2xvcih0eXBlKSB7CiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgInppcCI6CiAgICAgICAgICByZXR1cm4gImJsdWUtZ3JleSI7CiAgICAgICAgY2FzZSAicGRmIjoKICAgICAgICAgIHJldHVybiAicmVkIjsKICAgICAgICBjYXNlICJqcGciOgogICAgICAgICAgcmV0dXJuICJwdXJwbGUgbGlnaHRlbi0xIjsKICAgICAgICBjYXNlICJ4bHMiOgogICAgICAgIGNhc2UgInhsc3giOgogICAgICAgICAgcmV0dXJuICJsaWdodC1ncmVlbiI7CiAgICAgICAgY2FzZSAiZG9jIjoKICAgICAgICBjYXNlICJkb2N4IjoKICAgICAgICAgIHJldHVybiAidGVhbCBsaWdodGVuLTEiOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0U2Vuc2l0aXZlTGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIGdldFNlbnNpdGl2ZSh7fSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICAgICAgaWYgKAogICAgICAgICAgICAhaXNOdWxsKHJlcykgJiYKICAgICAgICAgICAgIWlzTnVsbChyZXMuZGF0YSkgJiYKICAgICAgICAgICAgIWlzTnVsbChyZXMuY29kZSkgJiYKICAgICAgICAgICAgcmVzLmNvZGUgPT09IDAKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLnJlcGx5VGV4dCA9IHJlcy5kYXRhOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhhdC5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHNob3dTbmFja2Jhcigi6I635Y+W5pWP5oSf6K+N6ZSZ6K+vIik7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoYXQubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZSkpOwogICAgICAgICAgc2hvd1NuYWNrYmFyKCLojrflj5bmlY/mhJ/or43plJnor68iKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRFcnJvcih0ZXh0KSB7CiAgICAgIHNob3dTbmFja2Jhcih0ZXh0KTsKICAgIH0sCiAgICAvL2ZpbGUgdXBsb2FkCiAgICBmaWxlVXBsb2FkKGV2ZW50KSB7CiAgICAgIHRoaXMudXBGaWxlcyA9IFtdOwogICAgICBsZXQgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlczsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy/kuIrkvKDnsbvlnovliKTmlq0KICAgICAgICBsZXQgaW1nTmFtZSA9IGZpbGVbaV0ubmFtZTsKICAgICAgICBsZXQgaWR4ID0gaW1nTmFtZS5sYXN0SW5kZXhPZigiLiIpOwogICAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgICBsZXQgZXh0ID0gaW1nTmFtZS5zdWJzdHIoaWR4ICsgMSkudG9VcHBlckNhc2UoKTsKICAgICAgICAgIGV4dCA9IGV4dC50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBleHQgIT09ICJwZGYiICYmCiAgICAgICAgICAgIGV4dCAhPT0gImRvYyIgJiYKICAgICAgICAgICAgZXh0ICE9PSAidHh0IiAmJgogICAgICAgICAgICBleHQgIT09ICJkb2N4IiAmJgogICAgICAgICAgICBleHQgIT09ICJqcGciICYmCiAgICAgICAgICAgIGV4dCAhPT0gImpwZWciICYmCiAgICAgICAgICAgIGV4dCAhPT0gInhscyIgJiYKICAgICAgICAgICAgZXh0ICE9PSAieGxzeCIKICAgICAgICAgICkgewogICAgICAgICAgICBjb25zb2xlLmxvZygi5paH5Lu257G75Z6L6ZSZ6K+vIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygi5paH5Lu257G75Z6L5q2j56GuIik7CiAgICAgICAgICAgIHRoaXMuZmlsZVR5cGUgPSBleHQ7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4dCk7CiAgICAgICAgICAgIHRoaXMudXBGaWxlcy5wdXNoKGZpbGVbaV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PSIpOwogICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgICAgdGhpcy5yZWFkRmlsZShmaWxlWzBdKTsKICAgICAgLy9jYWxsIGJhY2tlbmQgaW50ZXJmYWNlCiAgICB9LAoKICAgIC8vYWRkIGF0dGFjaG1lbnQKICAgIGFkZEFwcGVuZCgpIHsKICAgICAgY29uc29sZS5sb2coIua3u+WKoOmZhOS7tiIpOwogICAgICB0aGlzLiRyZWZzLnVwbG9hZEZpbGUuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgiY2xpY2siKSk7CiAgICB9LAoKICAgIC8vcmVhZCB1cGxvYWQgZmlsZSBhbmQgZGlzcGxheSBvbiBwYWdlCiAgICByZWFkRmlsZShmaWxlKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpOwogICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vdGhhdC5yZXBseVRleHQgPSByZWFkZXIucmVzdWx0OwogICAgICAgIGxldCByZXBseUFycmF5ID0gcmVhZGVyLnJlc3VsdC5zcGxpdCgiLCIpOwogICAgICAgIGNvbnNvbGUubG9nKCJzcGxpdCBzdHJpbmcgIiArIEpTT04uc3RyaW5naWZ5KHJlcGx5QXJyYXkpKTsKICAgICAgICBsZXQgd29yZHMgPSB7IHdvcmRzOiByZXBseUFycmF5IH07CiAgICAgICAgc2F2ZVNlbnNpdGl2ZSh3b3JkcykKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coIm9uIHNldCByZXNwb25zZSA9PT0+ICIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgICAgICAgaWYgKCFpc051bGwocmVzKSAmJiAhaXNOdWxsKHJlcy5jb2RlKSAmJiByZXMuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgIHRoYXQuZ2V0U2Vuc2l0aXZlTGlzdCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoYXQubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIC8vdGhhdC5yZXBseVRleHQgPSBbXQogICAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5LiK5Lyg5pWP5oSf6K+N6ZSZ6K+vIik7CiAgICAgICAgICAgIH0gICAgICAgICAgICAKCiAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICB0aGF0LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgLy90aGF0LnJlcGx5VGV4dCA9IFtdCiAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5LiK5Lyg5pWP5oSf6K+N6ZSZ6K+vIik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGUpKTsKICAgICAgICAgIH0pOwogICAgICB9OwogICAgfSwKCiAgICAvL2dldCBmaWxlIHNpemUoYixrYixtYixnYikKICAgIGNoYW5nZShsaW1pdCkgewogICAgICBsZXQgc2l6ZSA9ICIiOwogICAgICBpZiAobGltaXQgPCAwLjEgKiAxMDI0KSB7CiAgICAgICAgLy/lsI/kuo4wLjFLQu+8jOWImei9rOWMluaIkEIKICAgICAgICBzaXplID0gbGltaXQudG9GaXhlZCgyKSArICJCIjsKICAgICAgfSBlbHNlIGlmIChsaW1pdCA8IDAuMSAqIDEwMjQgKiAxMDI0KSB7CiAgICAgICAgLy/lsI/kuo4wLjFNQu+8jOWImei9rOWMluaIkEtCCiAgICAgICAgc2l6ZSA9IChsaW1pdCAvIDEwMjQpLnRvRml4ZWQoMikgKyAiS0IiOwogICAgICB9IGVsc2UgaWYgKGxpbWl0IDwgMC4xICogMTAyNCAqIDEwMjQgKiAxMDI0KSB7CiAgICAgICAgLy/lsI/kuo4wLjFHQu+8jOWImei9rOWMluaIkE1CCiAgICAgICAgc2l6ZSA9IChsaW1pdCAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMikgKyAiTUIiOwogICAgICB9IGVsc2UgewogICAgICAgIC8v5YW25LuW6L2s5YyW5oiQR0IKICAgICAgICBzaXplID0gKGxpbWl0IC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpLnRvRml4ZWQoMikgKyAiR0IiOwogICAgICB9CgogICAgICBsZXQgc2l6ZVN0ciA9IHNpemUgKyAiIjsgLy/ovazmiJDlrZfnrKbkuLIKICAgICAgbGV0IGluZGV4ID0gc2l6ZVN0ci5pbmRleE9mKCIuIik7IC8v6I635Y+W5bCP5pWw54K55aSE55qE57Si5byVCiAgICAgIGxldCBkb3UgPSBzaXplU3RyLnN1YnN0cihpbmRleCArIDEsIDIpOyAvL+iOt+WPluWwj+aVsOeCueWQjuS4pOS9jeeahOWAvAogICAgICBpZiAoZG91ID09ICIwMCIpIHsKICAgICAgICAvL+WIpOaWreWQjuS4pOS9jeaYr+WQpuS4ujAw77yM5aaC5p6c5piv5YiZ5Yig6ZmkMDAKICAgICAgICByZXR1cm4gc2l6ZVN0ci5zdWJzdHJpbmcoMCwgaW5kZXgpICsgc2l6ZVN0ci5zdWJzdHIoaW5kZXggKyAzLCAyKTsKICAgICAgfQogICAgICByZXR1cm4gc2l6ZTsKICAgIH0sCgogICAgLy9kZWxldGUgc2Vuc2l0aXZlCiAgICBkZWxldGVTZW5zaXRpdmUoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJkZWxldGUgc2Vuc2l0aXZlIik7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMucmVwbHlUZXh0ID0gIiI7CiAgICAgIHRoaXMudXBGaWxlcyA9IFtdOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["sensitiveFilter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sensitiveFilter.vue","sourceRoot":"src/views/page","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>敏感词管理</v-card-title>\n    <v-row no-gutters>\n      <v-btn class=\"ml-4 primary\" @click=\"addAppend\">上传配置文件</v-btn>\n      <p class=\"caption align-center ml-2 mt-2\">\n        *支持.txt文件，在文件中请用逗号将敏感词隔开\n      </p>\n      <input\n        ref=\"uploadFile\"\n        type=\"file\"\n        @change=\"fileUpload($event)\"\n        @click=\"resetUploader\"\n        multiple=\"multiple\"\n        accept=\".txt\"\n        hidden\n      />\n    </v-row>\n    <!-- \n      <v-sheet class=\"d-flex justify-start ml-4 pl-3 pr-3 pt-1 pb-1\" height=\"32\" width=\"564\" v-ripple outlined color=\"#F5F6F7FF\"  >\n        <v-icon  large class=\"ml-2\" :color=\"showIconColor(fileType)\"> {{ showIcon(fileType) }}</v-icon>\n        <v-spacer></v-spacer>\n\n        <v-dialog v-model=\"dialog\" max-width=\"400\">\n          \n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn text depressed  x-small v-bind=\"attrs\" v-on=\"on\" class=\"mr-6\" color=\"primary\">\n              删除\n            </v-btn>\n          </template>\n          \n          <v-card>\n            <v-card-title align=\"center\">确认要删除吗?</v-card-title>\n            <v-card-text>敏感词删除后将从它的所有观看者列表中消失,确认要删除吗？</v-card-text>\n            <v-card-actions>\n              <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">\n                取消\n              </v-btn>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"deleteSensitive\">\n                确认\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n    </v-sheet>\n    -->\n    <div\n    v-if=\"loading\"\n    class=\"ml-5\"\n    style=\"width: 560px\"\n    > \n      <v-progress-linear\n            \n            indeterminate\n            color=\"blue\"\n          />\n    </div>\n     \n    <div\n      style=\"width: 564px; border: 1px solid #e4e8ebff; border-radius: 4px\"\n      class=\"ml-4 mt-0\"\n    >\n      <v-virtual-scroll\n        :items=\"replyText\"\n        height=\"622\"\n        item-height=\"20\"\n        bench=\"1\"\n      >\n        <template v-slot:default=\"{ item, index }\">\n          <v-list-item :key=\"index\">\n            <span class=\"body-2 grey--text text--darken-4\">{{ item }}</span>\n          </v-list-item>\n        </template>\n      </v-virtual-scroll>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport { showSnackbar } from \"@/utils/snackbar.js\";\nimport { isNull } from \"@/utils/common.js\";\nimport { getSensitive, saveSensitive } from \"@/api/getData.js\";\nexport default {\n  name: \"sensitiveFilter\",\n\n  data() {\n    return {\n      //压缩文件夹zip,pdf,jpg,excel,doc,默认文件\n      icons: [\n        \"mdi-folder-zip\",\n        \"mdi-file-pdf-box\",\n        \"mdi-file-jpg-box\",\n        \"mdi-file-excel\",\n        \"mdi-file-document\",\n        \"mdi-application\",\n        \"mdi-text-box-outline\",\n      ],\n\n      //附件下载报告title\n      title: \"附件下载报告\",\n      loading:true,\n      uploadSensitiveError: \"提交敏感词失败，请稍再试\",\n      getSensitiveError: \"获取敏感词失败，请稍后再试\",\n      //上传文件\n      upFiles: [],\n      replyText: [],\n      fileType: \"txt\",\n      dialog: false,\n    };\n  },\n\n  activated() {\n    this.getSensitiveList();\n  },\n\n  methods: {\n    //根据类型显示对应icon\n    //according to file type show corresponding icon\n    showIcon(type) {\n      let that = this;\n      switch (type) {\n        case \"zip\":\n          return that.icons[0];\n        case \"pdf\":\n          return that.icons[1];\n        case \"jpg\":\n          return that.icons[2];\n        case \"xls\":\n        case \"xlsx\":\n          return that.icons[3];\n        case \"doc\":\n        case \"docx\":\n          return that.icons[4];\n        default:\n          return that.icons[6];\n      }\n    },\n\n    resetUploader(){\n        this.$refs.uploadFile.value=\"\";\n    },\n\n    //show icon color\n    showIconColor(type) {\n      switch (type) {\n        case \"zip\":\n          return \"blue-grey\";\n        case \"pdf\":\n          return \"red\";\n        case \"jpg\":\n          return \"purple lighten-1\";\n        case \"xls\":\n        case \"xlsx\":\n          return \"light-green\";\n        case \"doc\":\n        case \"docx\":\n          return \"teal lighten-1\";\n        default:\n          return \"\";\n      }\n    },\n\n    getSensitiveList() {\n      this.loading = true\n      let that = this;\n      getSensitive({})\n        .then((res) => {\n          this.loading = false;\n          console.log(JSON.stringify(res));\n          if (\n            !isNull(res) &&\n            !isNull(res.data) &&\n            !isNull(res.code) &&\n            res.code === 0\n          ) {\n            this.replyText = res.data;\n          } else {\n            that.loading = false;\n            showSnackbar(\"获取敏感词错误\");\n          }\n        })\n        .catch((e) => {\n          that.loading = false;\n          console.log(JSON.stringify(e));\n          showSnackbar(\"获取敏感词错误\");\n        });\n    },\n    submitError(text) {\n      showSnackbar(text);\n    },\n    //file upload\n    fileUpload(event) {\n      this.upFiles = [];\n      let file = event.target.files;\n      for (let i = 0; i < file.length; i++) {\n        //上传类型判断\n        let imgName = file[i].name;\n        let idx = imgName.lastIndexOf(\".\");\n        if (idx !== -1) {\n          let ext = imgName.substr(idx + 1).toUpperCase();\n          ext = ext.toLowerCase();\n          if (\n            ext !== \"pdf\" &&\n            ext !== \"doc\" &&\n            ext !== \"txt\" &&\n            ext !== \"docx\" &&\n            ext !== \"jpg\" &&\n            ext !== \"jpeg\" &&\n            ext !== \"xls\" &&\n            ext !== \"xlsx\"\n          ) {\n            console.log(\"文件类型错误\");\n          } else {\n            console.log(\"文件类型正确\");\n            this.fileType = ext;\n            console.log(ext);\n            this.upFiles.push(file[i]);\n          }\n        }\n      }\n      console.log(\"==========\");\n      console.log(file);\n      this.readFile(file[0]);\n      //call backend interface\n    },\n\n    //add attachment\n    addAppend() {\n      console.log(\"添加附件\");\n      this.$refs.uploadFile.dispatchEvent(new MouseEvent(\"click\"));\n    },\n\n    //read upload file and display on page\n    readFile(file) {\n      this.loading = true;\n      let reader = new FileReader();\n      let that = this;\n      reader.readAsText(file);\n      reader.onload = function () {\n        //that.replyText = reader.result;\n        let replyArray = reader.result.split(\",\");\n        console.log(\"split string \" + JSON.stringify(replyArray));\n        let words = { words: replyArray };\n        saveSensitive(words)\n          .then((res) => {\n            console.log(\"on set response ===> \" + JSON.stringify(res));\n            if (!isNull(res) && !isNull(res.code) && res.code === 0) {\n              that.getSensitiveList();\n            } else {\n              that.loading = false;\n              //that.replyText = []\n              showSnackbar(\"上传敏感词错误\");\n            }            \n\n          }).catch((e) => {\n            that.loading = false;\n            //that.replyText = []\n            showSnackbar(\"上传敏感词错误\");\n            console.log(JSON.stringify(e));\n          });\n      };\n    },\n\n    //get file size(b,kb,mb,gb)\n    change(limit) {\n      let size = \"\";\n      if (limit < 0.1 * 1024) {\n        //小于0.1KB，则转化成B\n        size = limit.toFixed(2) + \"B\";\n      } else if (limit < 0.1 * 1024 * 1024) {\n        //小于0.1MB，则转化成KB\n        size = (limit / 1024).toFixed(2) + \"KB\";\n      } else if (limit < 0.1 * 1024 * 1024 * 1024) {\n        //小于0.1GB，则转化成MB\n        size = (limit / (1024 * 1024)).toFixed(2) + \"MB\";\n      } else {\n        //其他转化成GB\n        size = (limit / (1024 * 1024 * 1024)).toFixed(2) + \"GB\";\n      }\n\n      let sizeStr = size + \"\"; //转成字符串\n      let index = sizeStr.indexOf(\".\"); //获取小数点处的索引\n      let dou = sizeStr.substr(index + 1, 2); //获取小数点后两位的值\n      if (dou == \"00\") {\n        //判断后两位是否为00，如果是则删除00\n        return sizeStr.substring(0, index) + sizeStr.substr(index + 3, 2);\n      }\n      return size;\n    },\n\n    //delete sensitive\n    deleteSensitive() {\n      console.log(\"delete sensitive\");\n      this.dialog = false;\n      this.replyText = \"\";\n      this.upFiles = [];\n    },\n  },\n};\n</script>\n\n\n"]}]}