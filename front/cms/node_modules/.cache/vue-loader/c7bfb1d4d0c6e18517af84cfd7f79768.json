{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleDetail.vue","mtime":1639763210651},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcHBlbmRWaWV3IGZyb20gJ0AvY29tcG9uZW50cy9hcHBlbmRWaWV3LnZ1ZScKaW1wb3J0IFJlcG9ydFZpZXcgZnJvbSAnQC9jb21wb25lbnRzL3N0YXRpc3RpY2FsUmVwb3J0Vmlldy52dWUnCmltcG9ydCBSYW5nZVZpZXcgZnJvbSAnQC9jb21wb25lbnRzL3Zpc2lhYmxlUmFuZ2VWaWV3LnZ1ZScKaW1wb3J0IHZvdGVSZXN1bHRWaWV3IGZyb20gJy4vcHVibGlzaEFydGljbGUvdm90ZVJlc3VsdC52dWUnCmltcG9ydCB7IHNob3dTbmFja2JhciB9IGZyb20gIkAvdXRpbHMvc25hY2tiYXIuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IFRocm90dGxlIH0gZnJvbSAiQC91dGlscy90b29scy5qcyI7CmltcG9ydCB7IGdldEFydGljbGVEZXRhaWwsIApnZXRBcnRpY2xlTG9nLCAKdXBsb2FkRmlsZSwgCmdldERldGFpbEFwcGVuZCwgCmdldEFydGljbGVSZXBvcnRBdXRob3IsCmdldEFydGljbGVSZXBvcnRWaWV3ZXIsCmdldERldGFpbFRvUmVwb3J0LAptZXNzYWdlUmVhZH0gZnJvbSAiQC9hcGkvZ2V0RGF0YS5qcyIKaW1wb3J0IHsgZ2V0TXNnU3RhdHVzRGVzY30gZnJvbSAiQC91dGlscy9hcnRpY2xlVXRpbHMuanMiCmltcG9ydCB7ZG93bmxvYWRBbGx9IGZyb20gIkAvdXRpbHMvZG93bmxvYWQuanMiCmltcG9ydCB7ICAgICAgICAKICAgIGNoZWNrVXBsb2FkRmlsZVR5cGUsCiAgICByZWFkRmlsZVNpemVVbml0LAp9IGZyb20gIkAvdXRpbHMvZmlsZXNVdGlscy5qcyI7CmltcG9ydCB7IGFlc0RlY3J5cHQgIH0gZnJvbSAiQC91dGlscy9lbmNyeXB0aW9uLmpzIjsKCgpleHBvcnQgZGVmYXVsdCB7CiAgICAKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBBcHBlbmRWaWV3LAogICAgICAgIFJlcG9ydFZpZXcsCiAgICAgICAgUmFuZ2VWaWV3LAogICAgICAgIHZvdGVSZXN1bHRWaWV3LAogICAgICAgIGZpbGVJdGVtOiAoKSA9PiBpbXBvcnQoIi4vcHVibGlzaEFydGljbGUvZmlsZU9wdGlvbi52dWUiKSwKICAgICAgICBjb25maXJtOiAoKSA9PiBpbXBvcnQoIkAvY29tcG9uZW50cy9iYXNlL2NvbmZvcm0udnVlIiksCiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBjYXV0aW9uOmZhbHNlLAogICAgICAgIGNhdXRpb25UZXh0OiLlm57lpI3mtojmga/lpLHotKXvvIzor7fnqI3lkI7lho3or5UiLAogICAgICAgIGNhdXRpb25UaW1lb3V0OjE1MDAsCiAgICAgICAgYmFja0RhdGE6IHt9LAogICAgICAgIGFwcGVuZEJhY2tEYXRhOiB7fSwKICAgICAgICBjaGFuZ0hpc3Rvcnk6IFtdLAogICAgICAgIHRleHRSdWxlOiB7CiAgICAgICAgICAgIG1lc3NhZ2U6ICcnLAogICAgICAgICAgICBydWxlczogW3YgPT4gdi5sZW5ndGggPD0gMjUgfHwgJ01heCAyNSBjaGFyYWN0ZXJzJ10sCiAgICAgICAgfSwKICAgICAgICAvL+aYr+WQpuaYr2FkbWlu55So5oi3CiAgICAgICAgaXNBZG1pbjogZmFsc2UsCiAgICAgICAgLy/lhbPpl61kaWFsb2cKICAgICAgICBjbG9zZURpYWxvZ19yZXBvcnQ6IGZhbHNlLAogICAgICAgIGNsb3NlRGlhbG9nX3NlZTogZmFsc2UsCiAgICAgICAgLy/lvZPliY3pgInkuK3nmoRkaWFsb2cg6buY6K6kMCDmnKrpgInmi6lkaWFsb2csIDEu5Y+v6KeB6IyD5Zu077yMMi7nu5/orqHmiqXlkYoKICAgICAgICBub3dEaWFsb2c6IDAsCiAgICAgICAgLy/mlofnq6DnirbmgIEKICAgICAgICBtc2dUZXh0OiAnJywKICAgICAgICAvL+mAieaLqeeahOaKleelqGl0ZW0KICAgICAgICByYWRpb0dyb3VwOiAwLAogICAgICAgIC8v5pmu6YCa6ZmE5Lu2CiAgICAgICAgZmVlYmFja0JhY2tUeXBlOi0xLAogICAgICAgIGNvbW1vbkZpbGVzOiBbXSwKICAgICAgICAvL+WumuWQkemZhOS7tgogICAgICAgIGRpcmVjdGlvbmFsRmlsZXM6IFtdLAogICAgICAgIC8v5oqV56Wo5oyJ6ZKu54q25oCBCiAgICAgICAgdm90ZURpc2FibGU6dHJ1ZSwKICAgICAgICAvL+aKleelqOe7k+aenAogICAgICAgIHZvdGVzOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdBLuWPiuaXticsCiAgICAgICAgICAgICAgICBudW1Db3VudDogJzM0NeelqCcsCiAgICAgICAgICAgICAgICBwb2ludDogNTQsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdCLuWkquaXqeS6hicsCiAgICAgICAgICAgICAgICBudW1Db3VudDogJzI0NOelqCcsCiAgICAgICAgICAgICAgICBwb2ludDogMzMsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdDLuWkquaZmuS6hicsCiAgICAgICAgICAgICAgICBudW1Db3VudDogJzM256WoJywKICAgICAgICAgICAgICAgIHBvaW50OiAxMywKICAgICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIC8v5Zue5aSN5YaF5a65CiAgICAgICAgcmVwb3J0Q290ZW50OiIiLAogICAgICAgIC8v5paH56ugaWQKICAgICAgICBtc2dJZDogJycsCiAgICAgICAgLy/mmK/lkKbku47miJHnmoTlj5HluIPov5vlhaXnmoQKICAgICAgICBpc015UHVibGlzaDpmYWxzZSwKICAgICAgICAvL+iOt+WPlueahOWbnuWkjeS/oeaBryzlhYjotYvpu5jorqTlgLzjgILpmLLmraLmuLLmn5Plh7rplJkKICAgICAgICByZXBvcnRzOnt9LAogICAgICAgIC8v5Zue5aSN6ZmE5Lu2CiAgICAgICAgdXBsb2FkRmlsZU5vcm1hbDpbXSwKICAgICAgICAvL+WumuaXtuWZqAogICAgICAgIHRpbWVvdXQ6bnVsbCwKICAgICAgICBpc0NvbW1vbkZpbGVzRG93bmxvYWRMb2FkaW5nOmZhbHNlLAogICAgICAgIGlzRGlyZWN0aW9uYWxGaWxlc0Rvd25sb2FkTG9hZGluZzpmYWxzZSwKICAgIH0pLAoKICAgIHdhdGNoOnsKICAgICAgICByYWRpb0dyb3VwOmZ1bmN0aW9uKG9sZFZhbCxuZXdWYWwpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3JhZGlvR3JvdXAtLS0nK25ld1ZhbCsiIG9sZFZhbDoiK29sZFZhbCsiICBjdXJyZW50OiIrdGhpcy5yYWRpb0dyb3VwKTsKICAgICAgICAgICAgLy/mnKrpgInmi6nmipXnpajpgInpobkKICAgICAgICAgICAgaWYodGhpcy5yYWRpb0dyb3VwPT0wKXsKICAgICAgICAgICAgICAgIHRoaXMudm90ZURpc2FibGUgPSB0cnVlOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMudm90ZURpc2FibGUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICAvL2tlZXBBbGl2ZeeUn+WRveWRqOacnyDlpJrmrKHmiafooYwgYWN0aXZhdGVkIOWPquaJp+ihjOS4gOasoW1vdW50ZWQKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgY29uc29sZS5sb2coIltbW1tbW1tbID09PiIrSlNPTi5zdHJpbmdpZnkoc3RvcmUuc3RhdGUudXNlci5hdXRob3JpemF0aW9uKSkKICAgICAgICAvL+eQhuiuuuS4iu+8jOaYr+imgeWNleeLrOWIpOaWreaYr+WQpkFkbWlu55qE77yM5L2G5piv55uu5YmN55yL5LiK5Y67YWRtaW7ov5vlhaXmn6XnnIvnmoTog73lipvlkozkvZzogIXkuIDoh7QKICAgICAgICAvL+S6p+WTgei/meS5iOivtOeahO+8jOS9huaYr+WPr+iDveS8muWtmOaJjembt+WMui7mr5TlpoLmn6XnnIvlt7Lor7vmiqXlkYrvvIzlubblj5HpgIHmj5DphpIuLi4gQWRtaW7nnJ/nmoTlj6/ku6Xov5nkuYjlgZrlkJfvvJ8g5bm25LiU44CC5ZCO56uv5piv5ZCm6L+b6KGM5LqG6aqM6K+B77yfCiAgICAgICAgLy/ljZXni6zliKTmlq3kvJrmm7Tlpb3kuIDkupvvvIzkvYbmmK/pgLvovpHkvJrlpI3mnYLkuIDkupvjgIIg55uu5YmN6aG555uu5pe26Ze05pyJ6ZmQ77yM5aaC5p6c5L2g55yL5Yiw6L+Z5q615Luj56CB44CC5bm25LiU5pyJ5pe26Ze077yM5bqU6K+l5L+u5aSN6L+Z5Liq6Zeu6aKYCiAgICAgICAgbGV0IHVzZXIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2Uoc3RvcmUuc3RhdGUudXNlci5hdXRob3JpemF0aW9uKSkpCiAgICAgICAgdGhpcy5pc0FkbWluID0gdXNlci5KQiA9PT0gIkNNUy5BRE1JTiIgfHwgdXNlci5qYiA9PT0gImNtcy5hZG1pbiI7CiAgICAgICAgLy90aGlzLmlzTXlQdWJsaXNoID0gdXNlci5KQiA9PT0gIkFETUlOIgogICAgICAgIHRoaXMuaXNNeVB1Ymxpc2ggPSAgdGhpcy5pc0FkbWluID8gdHJ1ZTp0aGlzLiRyb3V0ZS5xdWVyeS5pc015UHVibGlzaDsKICAgICAgICB0aGlzLm1zZ0lkID0gYWVzRGVjcnlwdCh0aGlzLiRyb3V0ZS5xdWVyeS5pZCk7CiAgICAgICAgCiAgICAgICAgLy/pobbpg6jlm57mu5rkuovku7bnm5HlkKwKICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxUb1RvcCkKICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgdGhpcy51cGxvYWRGaWxlTm9ybWFsID0gW107CiAgICAgICAgdGhpcy5jaGFuZ0hpc3RvcnkgPSBbXTsKICAgICAgICB0aGlzLmNvbW1vbkZpbGVzID0gW107CiAgICAgICAgdGhpcy5kaXJlY3Rpb25hbEZpbGVzID0gW107CiAgICAgICAgdGhpcy51cGxvYWRGaWxlTm9ybWFsID0gW107CiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLnRpbWVPdXRSZXBvcnQsMTAwMDAgKTsKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgbXNnSWQ6IHRoaXMubXNnSWQsCiAgICAgICAgfQogICAgICAgIC8v6I635Y+W5paH56ug6K+m5oOFCiAgICAgICAgdGhpcy5nZXREZXRhaWxzKHRoaXMubXNnSWQpCiAgICAgICAgLy/ojrflj5blm57lpI3kv6Hmga8KICAgICAgICB0aGlzLmdldFJlcG9ydHMoZGF0YSk7CiAgICAgICAgLy/ojrflj5bmlofnq6Dlj5jmm7Tljoblj7IKICAgICAgICBnZXRBcnRpY2xlTG9nKHRoaXMubXNnSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coIj4+Pj4+Pj4+Pj4+6I635Y+W5paH56ug5Y+Y5pu05Y6G5Y+yPj4+Pj4+Pj4+Pj4+Pj4+Iik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICAgICAgICB0aGF0LmFydGljbGVDaGFuZ2VEYXRhID0gcmVzOwogICAgICAgICAgICB0aGF0LmFydGljbGVDaGFuZ2VEYXRhLmRhdGEubGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgaXRlbS5vcGVyYXRlVHlwZSA9IGdldE1zZ1N0YXR1c0Rlc2MoaXRlbS5vcGVyYXRlVHlwZSkKICAgICAgICAgICAgICAgIHRoYXQuY2hhbmdIaXN0b3J5LnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICB0aGF0LmNoYW5nSGlzdG9yeS5wdXNoKHsgZGl2aWRlcjogdHJ1ZSB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudG9DaGFuZ2VMb2coKTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KTsKICAgICAgICAvL+iOt+WPluaWh+eroOmZhOS7tgogICAgICAgIGdldERldGFpbEFwcGVuZChkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluaWh+eroOmZhOS7tj4+Pj4+Pj4+Pj4+Pj4+PiIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgICAgICAgdGhhdC5hcHBlbmRCYWNrRGF0YSA9IHJlczsKICAgICAgICAgICAgdGhhdC5kaXJlY3Rpb25hbEZpbGVzID0gbmV3IEFycmF5KCk7CiAgICAgICAgICAgIHRoYXQuY29tbW9uRmlsZXMgPSBuZXcgQXJyYXkoKTsKICAgICAgICAgICAgaWYodGhhdC5hcHBlbmRCYWNrRGF0YSAmJiB0aGF0LmFwcGVuZEJhY2tEYXRhLmRhdGEubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoYXQuYXBwZW5kQmFja0RhdGEuZGF0YS5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudEZpbGUgPSB0aGF0LmFwcGVuZEJhY2tEYXRhLmRhdGFbaV07CiAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudEZpbGUub3JpZW50YXRpb24pewogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmRpcmVjdGlvbmFsRmlsZXMucHVzaChjdXJyZW50RmlsZSk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29tbW9uRmlsZXMucHVzaChjdXJyZW50RmlsZSk7IAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coImNvbW1vbkZpbGVzOiIrSlNPTi5zdHJpbmdpZnkodGhpcy5jb21tb25GaWxlcykpOwogICAgICAgIH0pOwogICAgfSwKICAgIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5ub3dEaWFsb2cgPSAwOwogICAgfSwKICAgIGRlYWN0aXZhdGVkKCl7CiAgICAgICAgdGhpcy50aW1lb3V0LmNsZWFySW1tZWRpYXRlKCk7CiAgICB9LAogICAgZGVzdHJveWVkKCkgewogICAgICAgIC8vIOmUgOavgeS6i+S7tgogICAgICAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbFRvVG9wKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgIHRvQ2hhbmdlTG9nKCkgeyAgIAogICAgICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgICAgICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PnRvIGxvZyBwYXJhbXMgIitKU09OLnN0cmluZ2lmeShxdWVyeSkpOwogICAgICAgICAgICBpZiAocXVlcnkgPT0gbnVsbCB8fCB0eXBlb2YgcXVlcnkgPT0gInVuZGVmaW5lZCIpIHJldHVybjsKICAgICAgICAgICAgbGV0IG5lZWRUb0xvZyA9IHF1ZXJ5LnBhcmFtOwogICAgICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT0+dG8gbG9nIG5lZWQgdG8gbG9nICIrbmVlZFRvTG9nKTsKICAgICAgICAgICAgaWYgKCFuZWVkVG9Mb2cgfHwgdHlwZW9mIG5lZWRUb0xvZyA9PSAidW5kZWZpbmVkIikgcmV0dXJuOwogICAgICAgICAgICB0aGlzLiRyZWZzLmNoYW5nZWxvZy5zY3JvbGxJbnRvVmlldyh0cnVlKTsKICAgICAgICAgICAgfSwKICAgICAgICAvL+aYr+WQpuaYvuekuuaWh+eroOWGheWuuQogICAgICAgIG5lZWRTaG93Q29udGVudCgpIHsKICAgICAgICAvL3YtaWY9ImJhY2tEYXRhLmRhdGEgJiYhaXNNeVB1Ymxpc2ggJiYgcmVwb3J0cyAmJiByZXBvcnRzLmRhdGEgJiYgcmVwb3J0cy5kYXRhLmZlZWRCYWNrVHlwZSA9PT0gMCAmJiBiYWNrRGF0YS5kYXRhLmZlZWRiYWNrU3RhdHVzICE9PSAxIgogICAgICAgICAgICAvL+aYr+W3suivu+WbnuaJp+eahOa2iOaBrwogICAgICAgICAgICBpZih0aGlzLmJhY2tEYXRhLmRhdGEgJiYhdGhpcy5pc015UHVibGlzaCAmJiB0aGlzLnJlcG9ydHMgJiYgdGhpcy5yZXBvcnRzLmRhdGEgJiYgdGhpcy5yZXBvcnRzLmRhdGEuZmVlZEJhY2tUeXBlID09PSAwKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMuYmFja0RhdGEuZGF0YS5mZWVkYmFja1N0YXR1cyAhPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0gCiAgICAgICAgfSwKCiAgICAgICAgbmVlZFNob3dDb21tZW50cygpIHsKICAgICAgICAgICAgbGV0IGhhc0NvbW1lbnRzID0gdGhpcy5yZXBvcnRzICYmIHRoaXMucmVwb3J0cy5kYXRhICYmIHRoaXMuYmFja0RhdGEuZGF0YSAmJiAKICAgICAgICAgICAgKCh0aGlzLnJlcG9ydHMuZGF0YS5jb250ZW50cyAmJiB0aGlzLnJlcG9ydHMuZGF0YS5jb250ZW50cy5sZW5ndGggPiAwICl8fAogICAgICAgICAgICAodGhpcy5yZXBvcnRzLmRhdGEuYXR0YWNobWVudHMgJiYgdGhpcy5yZXBvcnRzLmRhdGEuYXR0YWNobWVudHMubGVuZ3RoID4gMCkpCiAgICAgICAgICAgCiAgICAgICAgICAgaWYoaGFzQ29tbWVudHMpIHsKICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNNeVB1Ymxpc2ggPyB0cnVlIDogdGhpcy5iYWNrRGF0YS5kYXRhLmZlZWRiYWNrU3RhdHVzID09PSAxCiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHJlcG9ydERpYWxvZygpIHsKICAgICAgICAgICAgdGhpcy5ub3dEaWFsb2cgPSAxOwogICAgICAgIH0sCiAgICAgICAgc2VlRGlhbG9nKCkgewogICAgICAgICAgICB0aGlzLm5vd0RpYWxvZyA9IDI7CiAgICAgICAgfSwKICAgICAgICAvL+WFs+mXrWRpYWxvZwogICAgICAgIGNsb3NlUGFyZW50KGNoaWxkU3RhdGUpIHsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZygiLS0tLS0tLS0tLS0iICsgdGhpcy5ub3dEaWFsb2cpOwogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCItLS0tLS0tLS0tLSIgKyBjaGlsZFN0YXRlKTsKICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgICAgICBzd2l0Y2ggKHRoaXMubm93RGlhbG9nKSB7CiAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZURpYWxvZ19yZXBvcnQgPSBjaGlsZFN0YXRlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VEaWFsb2dfc2VlID0gY2hpbGRTdGF0ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8v5bGV56S65peX5bic6IOM5pmv5Zu+54mHCiAgICAgICAgc2hvd0ltYWcoc3RhdHVzKSB7CiAgICAgICAgICAgIGxldCBpbWdzcmM7CiAgICAgICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgaW1nc3JjID0gcmVxdWlyZSgnQC9hc3NldHMvZGFpZmFidS5wbmcnKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICBpbWdzcmMgPSByZXF1aXJlKCdAL2Fzc2V0cy95aWZhYnUucG5nJyk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgaW1nc3JjID0gcmVxdWlyZSgnQC9hc3NldHMveWljaGV4aWFvLnBuZycpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgIGltZ3NyYyA9IHJlcXVpcmUoJ0AvYXNzZXRzL3lpc2hpeGlhby5wbmcnKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGltZ3NyYzsKICAgICAgICB9LAogICAgICAgIC8v6I635Y+W5paH56ug5L+h5oGvCiAgICAgICAgZ2V0RGV0YWlscyhtc2dJZCl7CiAgICAgICAgICAgIC8v6I635Y+W5paH56ug6K+m5oOFCiAgICAgICAgICAgIGdldEFydGljbGVEZXRhaWwobXNnSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluaWh+eroOivpuaDhT4+Pj4+Pj4+Pj4+Pj4+PiIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzKSk7CiAgICAgICAgICAgICAgICB0aGlzLmJhY2tEYXRhID0gcmVzOwogICAgICAgICAgICAgICAgdGhpcy5tc2dUZXh0ID0gZ2V0TXNnU3RhdHVzRGVzYyh0aGlzLmJhY2tEYXRhLmRhdGEubXNnU3RhdHVzKTsKICAgICAgICAgICAgICAgIHRoaXMuZmVlYmFja0JhY2tUeXBlID0gIHRoaXMuYmFja0RhdGEuZGF0YS5mZWVkYmFja1R5cGUgOwogICAgICAgICAgICB9KS5jYXRjaChyZXMgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBnZXRSZXBvcnRzKG1zZ0lkKSB7CiAgICAgICAgICAgIGlmKHRoaXMuaXNNeVB1Ymxpc2gpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXV0aG9yUmVwb3J0cyhtc2dJZCkKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5nZXRWaWV3ZXJSZXBvcnRzKG1zZ0lkKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+iOt+WPluWbnuWkjeS/oeaBryzlhajpg6jnmoTvvIxhZG1pbiDlkowgYXV0aG9y6KeG6KeSCiAgICAgICAgZ2V0QXV0aG9yUmVwb3J0cyhtc2dJZCl7CiAgICAgICAgICAgIGdldEFydGljbGVSZXBvcnRBdXRob3IobXNnSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluWbnuWkjeS/oeaBryBhdXRob3Igb3IgYWRtaW4gPj4+Pj4+Pj4+Pj4+Pj4+Iik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0cyA9IHJlczsKICAgICAgICAgICAgICAgIGlmKHRoaXMucmVwb3J0cyAmJiB0aGlzLnJlcG9ydHMuZGF0YSAmJiB0aGlzLnJlcG9ydHMuZGF0YS52b3RlSW5mbyl7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5yZXBvcnRzLmRhdGEudm90ZUluZm8ub3B0aW9uSWQ9PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFkaW9Hcm91cCA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhZGlvR3JvdXAgPSB0aGlzLnJlcG9ydHMuZGF0YS52b3RlSW5mby5vcHRpb25JZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8v6I635Y+W5Zue5aSN5L+h5oGv77yMdmlld2Vy6KeG6KeSCiAgICAgICAgZ2V0Vmlld2VyUmVwb3J0cyhtc2dJZCl7CiAgICAgICAgICAgIGdldEFydGljbGVSZXBvcnRWaWV3ZXIobXNnSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluWbnuWkjeS/oeaBryB2aWV3ZXI+Pj4+Pj4+Pj4+Pj4+Pj4iKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRzID0gcmVzOwogICAgICAgICAgICAgICAgaWYodGhpcy5yZXBvcnRzICYmIHRoaXMucmVwb3J0cy5kYXRhICYmIHRoaXMucmVwb3J0cy5kYXRhLnZvdGVJbmZvKXsKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnJlcG9ydHMuZGF0YS52b3RlSW5mby5vcHRpb25JZD09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWRpb0dyb3VwID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFkaW9Hcm91cCA9IHRoaXMucmVwb3J0cy5kYXRhLnZvdGVJbmZvLm9wdGlvbklkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZG93bmxvYWRDb21tb25GaWxlcygpewogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgIGxldCBmaWxlbmFtZSA9IHRoaXMuYmFja0RhdGEuZGF0YS50aXRsZSArICIt5pmu6YCa6ZmE5Lu2LnppcCI7CiAgICAgICAgICAgIGRvd25sb2FkQWxsKHRoaXMuY29tbW9uRmlsZXMsZmlsZW5hbWUsZnVuY3Rpb24gKHR5cGUpewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09OiIrdHlwZSkKICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09IDApewogICAgICAgICAgICAgICAgICAgIHRoYXQuaXNDb21tb25GaWxlc0Rvd25sb2FkTG9hZGluZyA9IHRydWU7IAogICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZT09MiB8fHR5cGU9PT0zKXsKICAgICAgICAgICAgICAgICAgICB0aGF0LmlzQ29tbW9uRmlsZXNEb3dubG9hZExvYWRpbmcgPSBmYWxzZTsgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZG93bmxvYWREaXJlY3Rpb25hbEZpbGVzKCl7CiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICAgICAgbGV0IGZpbGVuYW1lID0gdGhpcy5iYWNrRGF0YS5kYXRhLnRpdGxlICsgIi3lrprlkJHpmYTku7YuemlwIjsKICAgICAgICAgICAgZG93bmxvYWRBbGwodGhpcy5kaXJlY3Rpb25hbEZpbGVzLGZpbGVuYW1lLGZ1bmN0aW9uICh0eXBlKXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PToiK3R5cGUpCiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAwKXsKICAgICAgICAgICAgICAgICAgICB0aGF0LmlzRGlyZWN0aW9uYWxGaWxlc0Rvd25sb2FkTG9hZGluZyA9IHRydWU7IAogICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZT09MiB8fHR5cGU9PT0zKXsKICAgICAgICAgICAgICAgICAgICB0aGF0LmlzRGlyZWN0aW9uYWxGaWxlc0Rvd25sb2FkTG9hZGluZyA9IGZhbHNlOyAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwgICAgICAgICAgICAKICAgICAgICAvL+WbnuWkjeWGheWuuQogICAgICAgIHRvUmVwb3J0Q29udGVudDpUaHJvdHRsZSgKICAgICAgICAgICAgZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIC8v5LqM5qyh56Gu6K6kCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmNvbmZpcm0KICAgICAgICAgICAgICAgIC5jb25maXJtKAogICAgICAgICAgICAgICAgICAgICLlj6rog73lm57lpI3kuIDmrKHvvIzkuI3og73mm7TmlLnvvIznoa7orqTlm57lpI3lkJc/IgogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMudG9SZXBvcnQoMSx0aGlzLnJlcG9ydENvdGVudCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsgICAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5oKo5o+Q5Lqk55qE5aSq6aKR57mB5LqG77yM56iN562J5LiA5Lya6K+V6K+V5ZCnIik7CiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgCiAgICAgICAgKSwKICAgICAgICAvL+W3suivu+WbnuaJpwogICAgICAgIHRvUmVwb3J0UmVjZWlwdCgpewogICAgICAgICAgICB0aGlzLnRvUmVwb3J0KDAsIiIpOwogICAgICAgIH0sCiAgICAgICAgLy/lm57lpI3pmYTku7YKICAgICAgICB0b1JlcG9ydEZpbGUoKXsgICAgICAgICAgICAgIAogICAgICAgICAgICAvL+S6jOasoeehruiupAogICAgICAgICAgICB0aGlzLiRyZWZzLmNvbmZpcm0KICAgICAgICAgICAgLmNvbmZpcm0oCiAgICAgICAgICAgICAgICAi5Y+q6IO95Zue5aSN5LiA5qyh77yM5LiN6IO95pu05pS577yM56Gu6K6k5Zue5aSN5ZCXPyIKICAgICAgICAgICAgKQogICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdFJlcG9ydCgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOyAgICAgICAgICAgICAgICAKICAgICAgICB9LAoKICAgICAgICBzdWJtaXRSZXBvcnQoKXsKICAgICAgICAgICAgbGV0IGF0dGFjaG1lbnRMaXN0ID0gW107CiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy51cGxvYWRGaWxlTm9ybWFsLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgbGV0IGF0dGFjaG1lbnQgPSB7fTsKICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQucGF0aCA9IHRoaXMudXBsb2FkRmlsZU5vcm1hbFtpXS5wYXRoOwogICAgICAgICAgICAgICAgYXR0YWNobWVudC5hdHRhY2htZW50U2l6ZSA9IHRoaXMudXBsb2FkRmlsZU5vcm1hbFtpXS5maWxlU2l6ZTsKICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRMaXN0LnB1c2goYXR0YWNobWVudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc29sZS5sb2coInNhdmUgYXR0YWNobWVudDoiICsgSlNPTi5zdHJpbmdpZnkoYXR0YWNobWVudExpc3QpKTsKICAgICAgICAgICAgdGhpcy50b1JlcG9ydCgyLCIiLGF0dGFjaG1lbnRMaXN0KTsKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCwKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmdldFJlcG9ydHMoZGF0YSk7CiAgICAgICAgICAgIHRoaXMuZ2V0RGV0YWlscyh0aGlzLm1zZ0lkKQogICAgICAgIH0sCiAgICAKICAgICAgICBvbkRlbGV0ZUZpbGUoaW5kZXgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIm9uZGVsZXRlIGZpbGU6IitpbmRleCk7CiAgICAgICAgICAgIHRoaXMudXBsb2FkRmlsZU5vcm1hbC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0sCiAgICAgICAgdXBsb2FkRmlsZU4oKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGxvYWRGaWxlTiIpOwogICAgICAgICAgICBpZih0aGlzLnVwbG9hZEZpbGVOb3JtYWwubGVuZ3RoPT0xKXsKICAgICAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5q+P5qyh5pyA5aSa5Y+q6IO95LiK5LygMeS4quaWh+S7tiIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJHJlZnMudXBsb2FkRmlsZU4uZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgiY2xpY2siKSk7CiAgICAgICAgfSwKICAgICAgICBmaWxlVXBsb2FkKGV2ZW50KSB7CiAgICAgICAgICAgIGxldCB1cEZpbGVzID0gdGhpcy51cGxvYWRGaWxlTm9ybWFsOwogICAgICAgICAgICBsZXQgc2VsZWN0ZWRGaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlczsKCiAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRGaWxlcy5sZW5ndGggPjEpIHsKICAgICAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5q+P5qyh5pyA5aSa5Y+q6IO95LiK5LygMeS4quaWh+S7tiIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZEZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHNlbGVjdGVkRmlsZXNbaV07CgogICAgICAgICAgICAgICAgaWYgKGl0ZW0uc2l6ZSAvMTAyNCAvMTAyNCA+PSAyMCkgewogICAgICAgICAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5oKo5pyJ5paH5Lu25LiK5Lyg5aSx6LSlLOmZhOS7tuacgOWkp+mZkOWItjIwTSIpOwogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy/kuIrkvKDmlofku7bljrvph40KICAgICAgICAgICAgICAgIGlmICh1cEZpbGVzLmZpbmRJbmRleCgodCkgPT4gdC50ZXh0ID09IGl0ZW0ubmFtZSkgPj0gMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy/kuIrkvKDnsbvlnovliKTmlq0KICAgICAgICAgICAgICAgIGxldCBleHQgPSBjaGVja1VwbG9hZEZpbGVUeXBlKGl0ZW0ubmFtZSk7CiAgICAgICAgICAgICAgICBpZiAoZXh0ID09IG51bGwpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgbGV0IHRlbXAgPSB7fTsKICAgICAgICAgICAgICAgIHRlbXAudGV4dCA9IGl0ZW0ubmFtZTsKICAgICAgICAgICAgICAgIHRlbXAuZmlsZVR5cGUgPSBleHQ7CiAgICAgICAgICAgICAgICB0ZW1wLmZpbGVTaXplID0gcmVhZEZpbGVTaXplVW5pdChpdGVtLnNpemUpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGVtcCk7CiAgICAgICAgICAgICAgICAvL+a3u+WKoOS4iuS8oOaWh+S7tuWIl+ihqAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB1cEZpbGVzLnB1c2godGVtcCk7CiAgICAgICAgICAgICAgICAvL+S4iuS8oOacjeWKoeWZqAogICAgICAgICAgICAgICAgdXBsb2FkRmlsZShpdGVtLCAocHJvZ3Jlc3MsIGZpbGVOYW1lKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGxvYWRGaWxlTm9ybWFsCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigodCkgPT4gdC50ZXh0ID09IGZpbGVOYW1lKQogICAgICAgICAgICAgICAgICAgIC5tYXAoKHVwZGF0ZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUucHJvZ3Jlc3MgPSBwcm9ncmVzczsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZEZpbGVOb3JtYWwgPSBKU09OLnBhcnNlKAogICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLnVwbG9hZEZpbGVOb3JtYWwpCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGxvYWQiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy/mm7TmlrDkuIrkvKDkv6Hmga8KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVzID0gdGhpcy51cGxvYWRGaWxlTm9ybWFsOwogICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXMKICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigodCkgPT4gKHQudGV4dD09cmVzLmRhdGEuYXR0YWNobWVudE5hbWUpKQogICAgICAgICAgICAgICAgICAgICAgICAubWFwKCh1cGRhdGUpID0+ICh1cGRhdGUucGF0aCA9IHJlcy5kYXRhLnVybCkpOyAgCgogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidXBsb2FkIGZpbGUgbWVzc2FnZTI6IiArIEpTT04uc3RyaW5naWZ5KGZpbGVzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGdvVm90ZUNvbmZpcm0oKXsKICAgICAgICAgICAgdGhpcy4kcmVmcy5jb25maXJtCiAgICAgICAgICAgIC5jb25maXJtKAogICAgICAgICAgICAgICAgIuWPquiDveWbnuWkjeS4gOasoe+8jOS4jeiDveabtOaUue+8jOehruiupOWbnuWkjeWQlz8iCiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5nb1ZvdGUoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsgIAogICAgICAgIH0sCiAgICAgICAgLy/ljrvmipXnpagKICAgICAgICBnb1ZvdGUoKXsgIAogICAgICAgICAgICAvL3RoaXMudG9SZXBvcnQoMywiIix0aGlzLnJhZGlvR3JvdXApOwogICAgICAgICAgICBsZXQgcmVwb3J0RGF0YXMgPSB7CiAgICAgICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCwKICAgICAgICAgICAgICAgIGZlZWRiYWNrVHlwZTogMywKICAgICAgICAgICAgICAgIHZvdGVJZDogdGhpcy5iYWNrRGF0YS5kYXRhLnZvdGVJbmZvRFRPLnZvdGVJZCwKICAgICAgICAgICAgICAgIHZvdGVPcHRpb25JZDp0aGlzLnJhZGlvR3JvdXAKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXBvcnREYXRhcykpCiAgICAgICAgICAgIGdldERldGFpbFRvUmVwb3J0KHJlcG9ydERhdGFzKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5oqV56Wo5a6M5oiQIikgCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAKICAgICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lkLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5nZXRSZXBvcnRzKGRhdGEpOwogICAgICAgICAgICAgICAgdGhpcy5nZXREZXRhaWxzKHRoaXMubXNnSWQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8v5Zue5aSN5L+h5oGvCiAgICAgICAgdG9SZXBvcnQoZmVlZGJhY2tUeXBlLGNvbnRlbnQsYXR0YWNobWVudExpc3QpewogICAgICAgICAgICBsZXQgcmVwb3J0RGF0YXMgPSB7CiAgICAgICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCwKICAgICAgICAgICAgICAgIGZlZWRiYWNrVHlwZTogZmVlZGJhY2tUeXBlLAogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGNvbnRlbnQpewogICAgICAgICAgICAgICAgcmVwb3J0RGF0YXMuY29udGVudCA9IGNvbnRlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoYXR0YWNobWVudExpc3QpewogICAgICAgICAgICAgICAgcmVwb3J0RGF0YXMuYXR0YWNobWVudExpc3QgPSBhdHRhY2htZW50TGlzdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXBvcnREYXRhcykpCiAgICAgICAgICAgIGdldERldGFpbFRvUmVwb3J0KHJlcG9ydERhdGFzKS50aGVuKHJlcyA9PiB7IAogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsgCiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0UmVwb3J0cyhkYXRhKTsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGV0YWlscyh0aGlzLm1zZ0lkKTsKICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlKSkKICAgICAgICAgICAgICAgIHRoaXMuY2F1dGlvblRleHQgPSAi5Zue5aSN5raI5oGv5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIgogICAgICAgICAgICAgICAgaWYgKGUuY29uZmlnID09IG51bGwgfHwgdHlwZW9mIGUuY29uZmlnID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIj4+Pj4+IGNvbmZpZyBpcyBudWxsIDw8PDw8PDw8IikKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgcmVzID0gZS5jb25maWc7CiAgICAgICAgICAgICAgICBpZihyZXMuZGF0YSA9PSBudWxsIHx8IHR5cGVvZiByZXMuZGF0YSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY2F1dGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIj4+Pj4+IGRhdGEgaXMgbnVsbCA8PDw8PDw8PCIpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBKU09OLnBhcnNlKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkYXRhIGlzICIrSlNPTi5zdHJpbmdpZnkocmVzdWx0KSkKICAgICAgICAgICAgICAgICBpZihyZXN1bHQuY29udGVudCA9PSBudWxsIHx8dHlwZW9mIHJlc3VsdC5jb250ZW50ID09ICJ1bmRlZmluZWQiICkgewogICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiPj4+Pj4gY29udGVudCBpcyBudWxsIDw8PDw8PDw8IikKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmNvbmZpcm0KICAgICAgICAgICAgICAgICAgICAuY29uZmlybSgKICAgICAgICAgICAgICAgICAgICAgICAgIuaCqOWbnuWkjeeahOWGheWuueWMheWQq+aVj+aEn+ivje+8jOivt+WOu+aOiei/meS6m+aVj+aEn+ivjTogWyIrcmVzdWx0LmNvbnRlbnQrIl0iCiAgICAgICAgICAgICAgICAgICAgKS5jYXRjaCgoKSA9PiB7fSk7ICAKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgdG9NZXNzYWdlUmVhZCgpewogICAgICAgICAgICBsZXQgcmVxdWVzdERhdGFzID0gewogICAgICAgICAgICAgICAgaWQ6IHRoaXMubXNnSWQsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgbWVzc2FnZVJlYWQocmVxdWVzdERhdGFzKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v5YCS6K6h5pe277yM5bCG5paH56ug54q25oCB5Y+Y5Li65bey6K+7CiAgICAgICAgdGltZU91dFJlcG9ydCgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIuWAkuiuoeaXtue7k+adn++8jOaKiueKtuaAgee9ruS4uuW3suivuyIpOwogICAgICAgICAgICB0aGlzLnRvTWVzc2FnZVJlYWQoKTsKICAgICAgICB9CiAgICAgICAgCiAgICB9LAp9Cg=="},null]}