{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleDetail.vue","mtime":1639836982488},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcHBlbmRWaWV3IGZyb20gJ0AvY29tcG9uZW50cy9hcHBlbmRWaWV3LnZ1ZScKaW1wb3J0IFJlcG9ydFZpZXcgZnJvbSAnQC9jb21wb25lbnRzL3N0YXRpc3RpY2FsUmVwb3J0Vmlldy52dWUnCmltcG9ydCBSYW5nZVZpZXcgZnJvbSAnQC9jb21wb25lbnRzL3Zpc2lhYmxlUmFuZ2VWaWV3LnZ1ZScKaW1wb3J0IHZvdGVSZXN1bHRWaWV3IGZyb20gJy4vcHVibGlzaEFydGljbGUvdm90ZVJlc3VsdC52dWUnCmltcG9ydCB7IHNob3dTbmFja2JhciB9IGZyb20gIkAvdXRpbHMvc25hY2tiYXIuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IFRocm90dGxlIH0gZnJvbSAiQC91dGlscy90b29scy5qcyI7CmltcG9ydCB7IGdldEFydGljbGVEZXRhaWwsIApnZXRBcnRpY2xlTG9nLCAKdXBsb2FkRmlsZSwgCmdldERldGFpbEFwcGVuZCwgCmdldEFydGljbGVSZXBvcnRBdXRob3IsCmdldEFydGljbGVSZXBvcnRWaWV3ZXIsCmdldERldGFpbFRvUmVwb3J0LAptZXNzYWdlUmVhZH0gZnJvbSAiQC9hcGkvZ2V0RGF0YS5qcyIKaW1wb3J0IHsgZ2V0TXNnU3RhdHVzRGVzY30gZnJvbSAiQC91dGlscy9hcnRpY2xlVXRpbHMuanMiCmltcG9ydCB7ZG93bmxvYWRBbGx9IGZyb20gIkAvdXRpbHMvZG93bmxvYWQuanMiCmltcG9ydCB7ICAgICAgICAKICAgIGNoZWNrVXBsb2FkRmlsZVR5cGUsCiAgICByZWFkRmlsZVNpemVVbml0LAp9IGZyb20gIkAvdXRpbHMvZmlsZXNVdGlscy5qcyI7CmltcG9ydCB7IGFlc0RlY3J5cHQgIH0gZnJvbSAiQC91dGlscy9lbmNyeXB0aW9uLmpzIjsKCgpleHBvcnQgZGVmYXVsdCB7CiAgICAKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBBcHBlbmRWaWV3LAogICAgICAgIFJlcG9ydFZpZXcsCiAgICAgICAgUmFuZ2VWaWV3LAogICAgICAgIHZvdGVSZXN1bHRWaWV3LAogICAgICAgIGZpbGVJdGVtOiAoKSA9PiBpbXBvcnQoIi4vcHVibGlzaEFydGljbGUvZmlsZU9wdGlvbi52dWUiKSwKICAgICAgICBjb25maXJtOiAoKSA9PiBpbXBvcnQoIkAvY29tcG9uZW50cy9iYXNlL2NvbmZvcm0udnVlIiksCiAgICAgICAgcGFnZUxvYWRlcjogKCkgPT4gaW1wb3J0KCIuL2FydGljbGVMaXN0L3BhZ2VMb2FkZXIudnVlIiksCiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBjYXV0aW9uOmZhbHNlLAogICAgICAgIGNhdXRpb25UZXh0OiLlm57lpI3mtojmga/lpLHotKXvvIzor7fnqI3lkI7lho3or5UiLAogICAgICAgIGNhdXRpb25UaW1lb3V0OjE1MDAsCiAgICAgICAgYmFja0RhdGE6IHt9LAogICAgICAgIGFwcGVuZEJhY2tEYXRhOiB7fSwKICAgICAgICBjaGFuZ0hpc3Rvcnk6IFtdLAogICAgICAgIHRleHRSdWxlOiB7CiAgICAgICAgICAgIG1lc3NhZ2U6ICcnLAogICAgICAgICAgICBydWxlczogW3YgPT4gdi5sZW5ndGggPD0gMjUgfHwgJ01heCAyNSBjaGFyYWN0ZXJzJ10sCiAgICAgICAgfSwKICAgICAgICAvL+aYr+WQpuaYr2FkbWlu55So5oi3CiAgICAgICAgaXNBZG1pbjogZmFsc2UsCiAgICAgICAgLy/lhbPpl61kaWFsb2cKICAgICAgICBjbG9zZURpYWxvZ19yZXBvcnQ6IGZhbHNlLAogICAgICAgIGNsb3NlRGlhbG9nX3NlZTogZmFsc2UsCiAgICAgICAgLy/lvZPliY3pgInkuK3nmoRkaWFsb2cg6buY6K6kMCDmnKrpgInmi6lkaWFsb2csIDEu5Y+v6KeB6IyD5Zu077yMMi7nu5/orqHmiqXlkYoKICAgICAgICBub3dEaWFsb2c6IDAsCiAgICAgICAgLy/mlofnq6DnirbmgIEKICAgICAgICBtc2dUZXh0OiAnJywKICAgICAgICAvL+mAieaLqeeahOaKleelqGl0ZW0KICAgICAgICByYWRpb0dyb3VwOiAwLAogICAgICAgIC8v5pmu6YCa6ZmE5Lu2CiAgICAgICAgZmVlYmFja0JhY2tUeXBlOi0xLAogICAgICAgIGNvbW1vbkZpbGVzOiBbXSwKICAgICAgICAvL+WumuWQkemZhOS7tgogICAgICAgIGRpcmVjdGlvbmFsRmlsZXM6IFtdLAogICAgICAgIC8v5oqV56Wo5oyJ6ZKu54q25oCBCiAgICAgICAgdm90ZURpc2FibGU6dHJ1ZSwKICAgICAgICAvL+aKleelqOe7k+aenAogICAgICAgIHZvdGVzOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdBLuWPiuaXticsCiAgICAgICAgICAgICAgICBudW1Db3VudDogJzM0NeelqCcsCiAgICAgICAgICAgICAgICBwb2ludDogNTQsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdCLuWkquaXqeS6hicsCiAgICAgICAgICAgICAgICBudW1Db3VudDogJzI0NOelqCcsCiAgICAgICAgICAgICAgICBwb2ludDogMzMsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICdDLuWkquaZmuS6hicsCiAgICAgICAgICAgICAgICBudW1Db3VudDogJzM256WoJywKICAgICAgICAgICAgICAgIHBvaW50OiAxMywKICAgICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIC8v5Zue5aSN5YaF5a65CiAgICAgICAgcmVwb3J0Q290ZW50OiIiLAogICAgICAgIC8v5paH56ugaWQKICAgICAgICBtc2dJZDogJycsCiAgICAgICAgLy/mmK/lkKbku47miJHnmoTlj5HluIPov5vlhaXnmoQKICAgICAgICBpc015UHVibGlzaDpmYWxzZSwKICAgICAgICAvL+iOt+WPlueahOWbnuWkjeS/oeaBryzlhYjotYvpu5jorqTlgLzjgILpmLLmraLmuLLmn5Plh7rplJkKICAgICAgICByZXBvcnRzOnt9LAogICAgICAgIC8v5Zue5aSN6ZmE5Lu2CiAgICAgICAgdXBsb2FkRmlsZU5vcm1hbDpbXSwKICAgICAgICAvL+WumuaXtuWZqAogICAgICAgIHRpbWVvdXQ6bnVsbCwKICAgICAgICBpc0NvbW1vbkZpbGVzRG93bmxvYWRMb2FkaW5nOmZhbHNlLAogICAgICAgIGlzRGlyZWN0aW9uYWxGaWxlc0Rvd25sb2FkTG9hZGluZzpmYWxzZSwKICAgIH0pLAoKICAgIHdhdGNoOnsKICAgICAgICByYWRpb0dyb3VwOmZ1bmN0aW9uKG9sZFZhbCxuZXdWYWwpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3JhZGlvR3JvdXAtLS0nK25ld1ZhbCsiIG9sZFZhbDoiK29sZFZhbCsiICBjdXJyZW50OiIrdGhpcy5yYWRpb0dyb3VwKTsKICAgICAgICAgICAgLy/mnKrpgInmi6nmipXnpajpgInpobkKICAgICAgICAgICAgaWYodGhpcy5yYWRpb0dyb3VwPT0wKXsKICAgICAgICAgICAgICAgIHRoaXMudm90ZURpc2FibGUgPSB0cnVlOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMudm90ZURpc2FibGUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICAvL2tlZXBBbGl2ZeeUn+WRveWRqOacnyDlpJrmrKHmiafooYwgYWN0aXZhdGVkIOWPquaJp+ihjOS4gOasoW1vdW50ZWQKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgY29uc29sZS5sb2coIltbW1tbW1tbID09PiIrSlNPTi5zdHJpbmdpZnkoc3RvcmUuc3RhdGUudXNlci5hdXRob3JpemF0aW9uKSkKICAgICAgICAvL+eQhuiuuuS4iu+8jOaYr+imgeWNleeLrOWIpOaWreaYr+WQpkFkbWlu55qE77yM5L2G5piv55uu5YmN55yL5LiK5Y67YWRtaW7ov5vlhaXmn6XnnIvnmoTog73lipvlkozkvZzogIXkuIDoh7QKICAgICAgICAvL+S6p+WTgei/meS5iOivtOeahO+8jOS9huaYr+WPr+iDveS8muWtmOaJjembt+WMui7mr5TlpoLmn6XnnIvlt7Lor7vmiqXlkYrvvIzlubblj5HpgIHmj5DphpIuLi4gQWRtaW7nnJ/nmoTlj6/ku6Xov5nkuYjlgZrlkJfvvJ8g5bm25LiU44CC5ZCO56uv5piv5ZCm6L+b6KGM5LqG6aqM6K+B77yfCiAgICAgICAgLy/ljZXni6zliKTmlq3kvJrmm7Tlpb3kuIDkupvvvIzkvYbmmK/pgLvovpHkvJrlpI3mnYLkuIDkupvjgIIg55uu5YmN6aG555uu5pe26Ze05pyJ6ZmQ77yM5aaC5p6c5L2g55yL5Yiw6L+Z5q615Luj56CB44CC5bm25LiU5pyJ5pe26Ze077yM5bqU6K+l5L+u5aSN6L+Z5Liq6Zeu6aKYCiAgICAgICAgbGV0IHVzZXIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2Uoc3RvcmUuc3RhdGUudXNlci5hdXRob3JpemF0aW9uKSkpCiAgICAgICAgdGhpcy5pc0FkbWluID0gdXNlci5KQiA9PT0gIkNNUy5BRE1JTiIgfHwgdXNlci5qYiA9PT0gImNtcy5hZG1pbiI7CiAgICAgICAgLy90aGlzLmlzTXlQdWJsaXNoID0gdXNlci5KQiA9PT0gIkFETUlOIgogICAgICAgIHRoaXMuaXNNeVB1Ymxpc2ggPSAgdGhpcy5pc0FkbWluID8gdHJ1ZTp0aGlzLiRyb3V0ZS5xdWVyeS5pc015UHVibGlzaDsKICAgICAgICB0aGlzLm1zZ0lkID0gYWVzRGVjcnlwdCh0aGlzLiRyb3V0ZS5xdWVyeS5pZCk7CiAgICAgICAgCiAgICAgICAgLy/pobbpg6jlm57mu5rkuovku7bnm5HlkKwKICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxUb1RvcCkKICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgdGhpcy51cGxvYWRGaWxlTm9ybWFsID0gW107CiAgICAgICAgdGhpcy5jaGFuZ0hpc3RvcnkgPSBbXTsKICAgICAgICB0aGlzLmNvbW1vbkZpbGVzID0gW107CiAgICAgICAgdGhpcy5kaXJlY3Rpb25hbEZpbGVzID0gW107CiAgICAgICAgdGhpcy51cGxvYWRGaWxlTm9ybWFsID0gW107CiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLnRpbWVPdXRSZXBvcnQsMTAwMDAgKTsKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgbXNnSWQ6IHRoaXMubXNnSWQsCiAgICAgICAgfQogICAgICAgIC8v6I635Y+W5paH56ug6K+m5oOFCiAgICAgICAgdGhpcy5nZXREZXRhaWxzKHRoaXMubXNnSWQpCiAgICAgICAgLy/ojrflj5blm57lpI3kv6Hmga8KICAgICAgICB0aGlzLmdldFJlcG9ydHMoZGF0YSk7CiAgICAgICAgLy/ojrflj5bmlofnq6Dlj5jmm7Tljoblj7IKICAgICAgICBnZXRBcnRpY2xlTG9nKHRoaXMubXNnSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coIj4+Pj4+Pj4+Pj4+6I635Y+W5paH56ug5Y+Y5pu05Y6G5Y+yPj4+Pj4+Pj4+Pj4+Pj4+Iik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICAgICAgICB0aGF0LmFydGljbGVDaGFuZ2VEYXRhID0gcmVzOwogICAgICAgICAgICB0aGF0LmFydGljbGVDaGFuZ2VEYXRhLmRhdGEubGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgaXRlbS5vcGVyYXRlVHlwZSA9IGdldE1zZ1N0YXR1c0Rlc2MoaXRlbS5vcGVyYXRlVHlwZSkKICAgICAgICAgICAgICAgIHRoYXQuY2hhbmdIaXN0b3J5LnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICB0aGF0LmNoYW5nSGlzdG9yeS5wdXNoKHsgZGl2aWRlcjogdHJ1ZSB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudG9DaGFuZ2VMb2coKTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KTsKICAgICAgICAvL+iOt+WPluaWh+eroOmZhOS7tgogICAgICAgIGdldERldGFpbEFwcGVuZChkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluaWh+eroOmZhOS7tj4+Pj4+Pj4+Pj4+Pj4+PiIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgICAgICAgdGhhdC5hcHBlbmRCYWNrRGF0YSA9IHJlczsKICAgICAgICAgICAgdGhhdC5kaXJlY3Rpb25hbEZpbGVzID0gbmV3IEFycmF5KCk7CiAgICAgICAgICAgIHRoYXQuY29tbW9uRmlsZXMgPSBuZXcgQXJyYXkoKTsKICAgICAgICAgICAgaWYodGhhdC5hcHBlbmRCYWNrRGF0YSAmJiB0aGF0LmFwcGVuZEJhY2tEYXRhLmRhdGEubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoYXQuYXBwZW5kQmFja0RhdGEuZGF0YS5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudEZpbGUgPSB0aGF0LmFwcGVuZEJhY2tEYXRhLmRhdGFbaV07CiAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudEZpbGUub3JpZW50YXRpb24pewogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmRpcmVjdGlvbmFsRmlsZXMucHVzaChjdXJyZW50RmlsZSk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY29tbW9uRmlsZXMucHVzaChjdXJyZW50RmlsZSk7IAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coImNvbW1vbkZpbGVzOiIrSlNPTi5zdHJpbmdpZnkodGhpcy5jb21tb25GaWxlcykpOwogICAgICAgIH0pOwogICAgfSwKICAgIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5ub3dEaWFsb2cgPSAwOwogICAgfSwKICAgIGRlYWN0aXZhdGVkKCl7CiAgICAgICAgdGhpcy50aW1lb3V0LmNsZWFySW1tZWRpYXRlKCk7CiAgICB9LAogICAgZGVzdHJveWVkKCkgewogICAgICAgIC8vIOmUgOavgeS6i+S7tgogICAgICAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbFRvVG9wKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgIHRvQ2hhbmdlTG9nKCkgeyAgIAogICAgICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgICAgICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PnRvIGxvZyBwYXJhbXMgIitKU09OLnN0cmluZ2lmeShxdWVyeSkpOwogICAgICAgICAgICBpZiAocXVlcnkgPT0gbnVsbCB8fCB0eXBlb2YgcXVlcnkgPT0gInVuZGVmaW5lZCIpIHJldHVybjsKICAgICAgICAgICAgbGV0IG5lZWRUb0xvZyA9IHF1ZXJ5LnBhcmFtOwogICAgICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT0+dG8gbG9nIG5lZWQgdG8gbG9nICIrbmVlZFRvTG9nKTsKICAgICAgICAgICAgaWYgKCFuZWVkVG9Mb2cgfHwgdHlwZW9mIG5lZWRUb0xvZyA9PSAidW5kZWZpbmVkIikgcmV0dXJuOwogICAgICAgICAgICB0aGlzLiRyZWZzLmNoYW5nZWxvZy5zY3JvbGxJbnRvVmlldyh0cnVlKTsKICAgICAgICAgICAgfSwKICAgICAgICAvL+aYr+WQpuaYvuekuuaWh+eroOWGheWuuQogICAgICAgIG5lZWRTaG93Q29udGVudCgpIHsKICAgICAgICAvL3YtaWY9ImJhY2tEYXRhLmRhdGEgJiYhaXNNeVB1Ymxpc2ggJiYgcmVwb3J0cyAmJiByZXBvcnRzLmRhdGEgJiYgcmVwb3J0cy5kYXRhLmZlZWRCYWNrVHlwZSA9PT0gMCAmJiBiYWNrRGF0YS5kYXRhLmZlZWRiYWNrU3RhdHVzICE9PSAxIgogICAgICAgICAgICAvL+aYr+W3suivu+WbnuaJp+eahOa2iOaBrwogICAgICAgICAgICBpZih0aGlzLmJhY2tEYXRhLmRhdGEgJiYhdGhpcy5pc015UHVibGlzaCAmJiB0aGlzLnJlcG9ydHMgJiYgdGhpcy5yZXBvcnRzLmRhdGEgJiYgdGhpcy5yZXBvcnRzLmRhdGEuZmVlZEJhY2tUeXBlID09PSAwKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMuYmFja0RhdGEuZGF0YS5mZWVkYmFja1N0YXR1cyAhPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0gCiAgICAgICAgfSwKCiAgICAgICAgbmVlZFNob3dDb21tZW50cygpIHsKICAgICAgICAgICAgbGV0IGhhc0NvbW1lbnRzID0gdGhpcy5yZXBvcnRzICYmIHRoaXMucmVwb3J0cy5kYXRhICYmIHRoaXMuYmFja0RhdGEuZGF0YSAmJiAKICAgICAgICAgICAgKCh0aGlzLnJlcG9ydHMuZGF0YS5jb250ZW50cyAmJiB0aGlzLnJlcG9ydHMuZGF0YS5jb250ZW50cy5sZW5ndGggPiAwICl8fAogICAgICAgICAgICAodGhpcy5yZXBvcnRzLmRhdGEuYXR0YWNobWVudHMgJiYgdGhpcy5yZXBvcnRzLmRhdGEuYXR0YWNobWVudHMubGVuZ3RoID4gMCkpCiAgICAgICAgICAgCiAgICAgICAgICAgaWYoaGFzQ29tbWVudHMpIHsKICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNNeVB1Ymxpc2ggPyB0cnVlIDogdGhpcy5iYWNrRGF0YS5kYXRhLmZlZWRiYWNrU3RhdHVzID09PSAxCiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHJlcG9ydERpYWxvZygpIHsKICAgICAgICAgICAgdGhpcy5ub3dEaWFsb2cgPSAxOwogICAgICAgIH0sCiAgICAgICAgc2VlRGlhbG9nKCkgewogICAgICAgICAgICB0aGlzLm5vd0RpYWxvZyA9IDI7CiAgICAgICAgfSwKICAgICAgICAvL+WFs+mXrWRpYWxvZwogICAgICAgIGNsb3NlUGFyZW50KGNoaWxkU3RhdGUpIHsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZygiLS0tLS0tLS0tLS0iICsgdGhpcy5ub3dEaWFsb2cpOwogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCItLS0tLS0tLS0tLSIgKyBjaGlsZFN0YXRlKTsKICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgICAgICBzd2l0Y2ggKHRoaXMubm93RGlhbG9nKSB7CiAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZURpYWxvZ19yZXBvcnQgPSBjaGlsZFN0YXRlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VEaWFsb2dfc2VlID0gY2hpbGRTdGF0ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8v5bGV56S65peX5bic6IOM5pmv5Zu+54mHCiAgICAgICAgc2hvd0ltYWcoc3RhdHVzKSB7CiAgICAgICAgICAgIGxldCBpbWdzcmM7CiAgICAgICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgaW1nc3JjID0gcmVxdWlyZSgnQC9hc3NldHMvZGFpZmFidS5wbmcnKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICBpbWdzcmMgPSByZXF1aXJlKCdAL2Fzc2V0cy95aWZhYnUucG5nJyk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgaW1nc3JjID0gcmVxdWlyZSgnQC9hc3NldHMveWljaGV4aWFvLnBuZycpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgIGltZ3NyYyA9IHJlcXVpcmUoJ0AvYXNzZXRzL3lpc2hpeGlhby5wbmcnKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGltZ3NyYzsKICAgICAgICB9LAogICAgICAgIC8v6I635Y+W5paH56ug5L+h5oGvCiAgICAgICAgZ2V0RGV0YWlscyhtc2dJZCl7CiAgICAgICAgICAgIC8v6I635Y+W5paH56ug6K+m5oOFCiAgICAgICAgICAgIGdldEFydGljbGVEZXRhaWwobXNnSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluaWh+eroOivpuaDhT4+Pj4+Pj4+Pj4+Pj4+PiIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzKSk7CiAgICAgICAgICAgICAgICB0aGlzLmJhY2tEYXRhID0gcmVzOwogICAgICAgICAgICAgICAgdGhpcy5tc2dUZXh0ID0gZ2V0TXNnU3RhdHVzRGVzYyh0aGlzLmJhY2tEYXRhLmRhdGEubXNnU3RhdHVzKTsKICAgICAgICAgICAgICAgIHRoaXMuZmVlYmFja0JhY2tUeXBlID0gIHRoaXMuYmFja0RhdGEuZGF0YS5mZWVkYmFja1R5cGUgOwogICAgICAgICAgICB9KS5jYXRjaChyZXMgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBnZXRSZXBvcnRzKG1zZ0lkKSB7CiAgICAgICAgICAgIGlmKHRoaXMuaXNNeVB1Ymxpc2gpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXV0aG9yUmVwb3J0cyhtc2dJZCkKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5nZXRWaWV3ZXJSZXBvcnRzKG1zZ0lkKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+iOt+WPluWbnuWkjeS/oeaBryzlhajpg6jnmoTvvIxhZG1pbiDlkowgYXV0aG9y6KeG6KeSCiAgICAgICAgZ2V0QXV0aG9yUmVwb3J0cyhtc2dJZCl7CiAgICAgICAgICAgIGdldEFydGljbGVSZXBvcnRBdXRob3IobXNnSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluWbnuWkjeS/oeaBryBhdXRob3Igb3IgYWRtaW4gPj4+Pj4+Pj4+Pj4+Pj4+Iik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0cyA9IHJlczsKICAgICAgICAgICAgICAgIGlmKHRoaXMucmVwb3J0cyAmJiB0aGlzLnJlcG9ydHMuZGF0YSAmJiB0aGlzLnJlcG9ydHMuZGF0YS52b3RlSW5mbyl7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5yZXBvcnRzLmRhdGEudm90ZUluZm8ub3B0aW9uSWQ9PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFkaW9Hcm91cCA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhZGlvR3JvdXAgPSB0aGlzLnJlcG9ydHMuZGF0YS52b3RlSW5mby5vcHRpb25JZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8v6I635Y+W5Zue5aSN5L+h5oGv77yMdmlld2Vy6KeG6KeSCiAgICAgICAgZ2V0Vmlld2VyUmVwb3J0cyhtc2dJZCl7CiAgICAgICAgICAgIGdldEFydGljbGVSZXBvcnRWaWV3ZXIobXNnSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI+Pj4+Pj4+Pj4+PuiOt+WPluWbnuWkjeS/oeaBryB2aWV3ZXI+Pj4+Pj4+Pj4+Pj4+Pj4iKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRzID0gcmVzOwogICAgICAgICAgICAgICAgaWYodGhpcy5yZXBvcnRzICYmIHRoaXMucmVwb3J0cy5kYXRhICYmIHRoaXMucmVwb3J0cy5kYXRhLnZvdGVJbmZvKXsKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnJlcG9ydHMuZGF0YS52b3RlSW5mby5vcHRpb25JZD09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWRpb0dyb3VwID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFkaW9Hcm91cCA9IHRoaXMucmVwb3J0cy5kYXRhLnZvdGVJbmZvLm9wdGlvbklkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZG93bmxvYWRDb21tb25GaWxlcygpewogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgIGxldCBmaWxlbmFtZSA9IHRoaXMuYmFja0RhdGEuZGF0YS50aXRsZSArICIt5pmu6YCa6ZmE5Lu2LnppcCI7CiAgICAgICAgICAgIGRvd25sb2FkQWxsKHRoaXMuY29tbW9uRmlsZXMsZmlsZW5hbWUsZnVuY3Rpb24gKHR5cGUpewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09OiIrdHlwZSkKICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09IDApewogICAgICAgICAgICAgICAgICAgIHRoYXQuaXNDb21tb25GaWxlc0Rvd25sb2FkTG9hZGluZyA9IHRydWU7IAogICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZT09MiB8fHR5cGU9PT0zKXsKICAgICAgICAgICAgICAgICAgICB0aGF0LmlzQ29tbW9uRmlsZXNEb3dubG9hZExvYWRpbmcgPSBmYWxzZTsgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZG93bmxvYWREaXJlY3Rpb25hbEZpbGVzKCl7CiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICAgICAgbGV0IGZpbGVuYW1lID0gdGhpcy5iYWNrRGF0YS5kYXRhLnRpdGxlICsgIi3lrprlkJHpmYTku7YuemlwIjsKICAgICAgICAgICAgZG93bmxvYWRBbGwodGhpcy5kaXJlY3Rpb25hbEZpbGVzLGZpbGVuYW1lLGZ1bmN0aW9uICh0eXBlKXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PToiK3R5cGUpCiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAwKXsKICAgICAgICAgICAgICAgICAgICB0aGF0LmlzRGlyZWN0aW9uYWxGaWxlc0Rvd25sb2FkTG9hZGluZyA9IHRydWU7IAogICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZT09MiB8fHR5cGU9PT0zKXsKICAgICAgICAgICAgICAgICAgICB0aGF0LmlzRGlyZWN0aW9uYWxGaWxlc0Rvd25sb2FkTG9hZGluZyA9IGZhbHNlOyAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwgICAgICAgICAgICAKICAgICAgICAvL+WbnuWkjeWGheWuuQogICAgICAgIHRvUmVwb3J0Q29udGVudDpUaHJvdHRsZSgKICAgICAgICAgICAgZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIC8v5LqM5qyh56Gu6K6kCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmNvbmZpcm0KICAgICAgICAgICAgICAgIC5jb25maXJtKAogICAgICAgICAgICAgICAgICAgICLlj6rog73lm57lpI3kuIDmrKHvvIzkuI3og73mm7TmlLnvvIznoa7orqTlm57lpI3lkJc/IgogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMudG9SZXBvcnQoMSx0aGlzLnJlcG9ydENvdGVudCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsgICAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5oKo5o+Q5Lqk55qE5aSq6aKR57mB5LqG77yM56iN562J5LiA5Lya6K+V6K+V5ZCnIik7CiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgCiAgICAgICAgKSwKICAgICAgICAvL+W3suivu+WbnuaJpwogICAgICAgIHRvUmVwb3J0UmVjZWlwdCgpewogICAgICAgICAgICB0aGlzLnRvUmVwb3J0KDAsIiIpOwogICAgICAgIH0sCiAgICAgICAgLy/lm57lpI3pmYTku7YKICAgICAgICB0b1JlcG9ydEZpbGUoKXsgICAgICAgICAgICAgIAogICAgICAgICAgICAvL+S6jOasoeehruiupAogICAgICAgICAgICB0aGlzLiRyZWZzLmNvbmZpcm0KICAgICAgICAgICAgLmNvbmZpcm0oCiAgICAgICAgICAgICAgICAi5Y+q6IO95Zue5aSN5LiA5qyh77yM5LiN6IO95pu05pS577yM56Gu6K6k5Zue5aSN5ZCXPyIKICAgICAgICAgICAgKQogICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdFJlcG9ydCgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOyAgICAgICAgICAgICAgICAKICAgICAgICB9LAoKICAgICAgICBzdWJtaXRSZXBvcnQoKXsKICAgICAgICAgICAgbGV0IGF0dGFjaG1lbnRMaXN0ID0gW107CiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy51cGxvYWRGaWxlTm9ybWFsLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgbGV0IGF0dGFjaG1lbnQgPSB7fTsKICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQucGF0aCA9IHRoaXMudXBsb2FkRmlsZU5vcm1hbFtpXS5wYXRoOwogICAgICAgICAgICAgICAgYXR0YWNobWVudC5hdHRhY2htZW50U2l6ZSA9IHRoaXMudXBsb2FkRmlsZU5vcm1hbFtpXS5maWxlU2l6ZTsKICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRMaXN0LnB1c2goYXR0YWNobWVudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc29sZS5sb2coInNhdmUgYXR0YWNobWVudDoiICsgSlNPTi5zdHJpbmdpZnkoYXR0YWNobWVudExpc3QpKTsKICAgICAgICAgICAgdGhpcy50b1JlcG9ydCgyLCIiLGF0dGFjaG1lbnRMaXN0KTsKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCwKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmdldFJlcG9ydHMoZGF0YSk7CiAgICAgICAgICAgIHRoaXMuZ2V0RGV0YWlscyh0aGlzLm1zZ0lkKQogICAgICAgIH0sCiAgICAKICAgICAgICBvbkRlbGV0ZUZpbGUoaW5kZXgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIm9uZGVsZXRlIGZpbGU6IitpbmRleCk7CiAgICAgICAgICAgIHRoaXMudXBsb2FkRmlsZU5vcm1hbC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0sCiAgICAgICAgdXBsb2FkRmlsZU4oKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGxvYWRGaWxlTiIpOwogICAgICAgICAgICBpZih0aGlzLnVwbG9hZEZpbGVOb3JtYWwubGVuZ3RoPT0xKXsKICAgICAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5q+P5qyh5pyA5aSa5Y+q6IO95LiK5LygMeS4quaWh+S7tiIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJHJlZnMudXBsb2FkRmlsZU4uZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgiY2xpY2siKSk7CiAgICAgICAgfSwKICAgICAgICBmaWxlVXBsb2FkKGV2ZW50KSB7CiAgICAgICAgICAgIGxldCB1cEZpbGVzID0gdGhpcy51cGxvYWRGaWxlTm9ybWFsOwogICAgICAgICAgICBsZXQgc2VsZWN0ZWRGaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlczsKCiAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRGaWxlcy5sZW5ndGggPjEpIHsKICAgICAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5q+P5qyh5pyA5aSa5Y+q6IO95LiK5LygMeS4quaWh+S7tiIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZEZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHNlbGVjdGVkRmlsZXNbaV07CgogICAgICAgICAgICAgICAgaWYgKGl0ZW0uc2l6ZSAvMTAyNCAvMTAyNCA+PSAyMCkgewogICAgICAgICAgICAgICAgICAgIHNob3dTbmFja2Jhcigi5oKo5pyJ5paH5Lu25LiK5Lyg5aSx6LSlLOmZhOS7tuacgOWkp+mZkOWItjIwTSIpOwogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy/kuIrkvKDmlofku7bljrvph40KICAgICAgICAgICAgICAgIGlmICh1cEZpbGVzLmZpbmRJbmRleCgodCkgPT4gdC50ZXh0ID09IGl0ZW0ubmFtZSkgPj0gMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy/kuIrkvKDnsbvlnovliKTmlq0KICAgICAgICAgICAgICAgIGxldCBleHQgPSBjaGVja1VwbG9hZEZpbGVUeXBlKGl0ZW0ubmFtZSk7CiAgICAgICAgICAgICAgICBpZiAoZXh0ID09IG51bGwpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgbGV0IHRlbXAgPSB7fTsKICAgICAgICAgICAgICAgIHRlbXAudGV4dCA9IGl0ZW0ubmFtZTsKICAgICAgICAgICAgICAgIHRlbXAuZmlsZVR5cGUgPSBleHQ7CiAgICAgICAgICAgICAgICB0ZW1wLmZpbGVTaXplID0gcmVhZEZpbGVTaXplVW5pdChpdGVtLnNpemUpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGVtcCk7CiAgICAgICAgICAgICAgICAvL+a3u+WKoOS4iuS8oOaWh+S7tuWIl+ihqAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB1cEZpbGVzLnB1c2godGVtcCk7CiAgICAgICAgICAgICAgICAvL+S4iuS8oOacjeWKoeWZqAogICAgICAgICAgICAgICAgdXBsb2FkRmlsZShpdGVtLCAocHJvZ3Jlc3MsIGZpbGVOYW1lKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGxvYWRGaWxlTm9ybWFsCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigodCkgPT4gdC50ZXh0ID09IGZpbGVOYW1lKQogICAgICAgICAgICAgICAgICAgIC5tYXAoKHVwZGF0ZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUucHJvZ3Jlc3MgPSBwcm9ncmVzczsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZEZpbGVOb3JtYWwgPSBKU09OLnBhcnNlKAogICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLnVwbG9hZEZpbGVOb3JtYWwpCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGxvYWQiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy/mm7TmlrDkuIrkvKDkv6Hmga8KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVzID0gdGhpcy51cGxvYWRGaWxlTm9ybWFsOwogICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXMKICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigodCkgPT4gKHQudGV4dD09cmVzLmRhdGEuYXR0YWNobWVudE5hbWUpKQogICAgICAgICAgICAgICAgICAgICAgICAubWFwKCh1cGRhdGUpID0+ICh1cGRhdGUucGF0aCA9IHJlcy5kYXRhLnVybCkpOyAgCgogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidXBsb2FkIGZpbGUgbWVzc2FnZTI6IiArIEpTT04uc3RyaW5naWZ5KGZpbGVzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIGdvVm90ZUNvbmZpcm0oKXsKICAgICAgICAgICAgdGhpcy4kcmVmcy5jb25maXJtCiAgICAgICAgICAgIC5jb25maXJtKAogICAgICAgICAgICAgICAgIuWPquiDveWbnuWkjeS4gOasoe+8jOS4jeiDveabtOaUue+8jOehruiupOWbnuWkjeWQlz8iCiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5nb1ZvdGUoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsgIAogICAgICAgIH0sCiAgICAgICAgLy/ljrvmipXnpagKICAgICAgICBnb1ZvdGUoKXsgIAogICAgICAgICAgICAvL3RoaXMudG9SZXBvcnQoMywiIix0aGlzLnJhZGlvR3JvdXApOwogICAgICAgICAgICBsZXQgcmVwb3J0RGF0YXMgPSB7CiAgICAgICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCwKICAgICAgICAgICAgICAgIGZlZWRiYWNrVHlwZTogMywKICAgICAgICAgICAgICAgIHZvdGVJZDogdGhpcy5iYWNrRGF0YS5kYXRhLnZvdGVJbmZvRFRPLnZvdGVJZCwKICAgICAgICAgICAgICAgIHZvdGVPcHRpb25JZDp0aGlzLnJhZGlvR3JvdXAKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXBvcnREYXRhcykpCiAgICAgICAgICAgIGdldERldGFpbFRvUmVwb3J0KHJlcG9ydERhdGFzKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5oqV56Wo5a6M5oiQIikgCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAKICAgICAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lkLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5nZXRSZXBvcnRzKGRhdGEpOwogICAgICAgICAgICAgICAgdGhpcy5nZXREZXRhaWxzKHRoaXMubXNnSWQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8v5Zue5aSN5L+h5oGvCiAgICAgICAgdG9SZXBvcnQoZmVlZGJhY2tUeXBlLGNvbnRlbnQsYXR0YWNobWVudExpc3QpewogICAgICAgICAgICBsZXQgcmVwb3J0RGF0YXMgPSB7CiAgICAgICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCwKICAgICAgICAgICAgICAgIGZlZWRiYWNrVHlwZTogZmVlZGJhY2tUeXBlLAogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGNvbnRlbnQpewogICAgICAgICAgICAgICAgcmVwb3J0RGF0YXMuY29udGVudCA9IGNvbnRlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoYXR0YWNobWVudExpc3QpewogICAgICAgICAgICAgICAgcmVwb3J0RGF0YXMuYXR0YWNobWVudExpc3QgPSBhdHRhY2htZW50TGlzdDsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXBvcnREYXRhcykpCiAgICAgICAgICAgIGdldERldGFpbFRvUmVwb3J0KHJlcG9ydERhdGFzKS50aGVuKHJlcyA9PiB7IAogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsgCiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0UmVwb3J0cyhkYXRhKTsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGV0YWlscyh0aGlzLm1zZ0lkKTsKICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlKSkKICAgICAgICAgICAgICAgIHRoaXMuY2F1dGlvblRleHQgPSAi5Zue5aSN5raI5oGv5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VIgogICAgICAgICAgICAgICAgaWYgKGUuY29uZmlnID09IG51bGwgfHwgdHlwZW9mIGUuY29uZmlnID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIj4+Pj4+IGNvbmZpZyBpcyBudWxsIDw8PDw8PDw8IikKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgcmVzID0gZS5jb25maWc7CiAgICAgICAgICAgICAgICBpZihyZXMuZGF0YSA9PSBudWxsIHx8IHR5cGVvZiByZXMuZGF0YSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY2F1dGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIj4+Pj4+IGRhdGEgaXMgbnVsbCA8PDw8PDw8PCIpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBKU09OLnBhcnNlKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkYXRhIGlzICIrSlNPTi5zdHJpbmdpZnkocmVzdWx0KSkKICAgICAgICAgICAgICAgICBpZihyZXN1bHQuY29udGVudCA9PSBudWxsIHx8dHlwZW9mIHJlc3VsdC5jb250ZW50ID09ICJ1bmRlZmluZWQiICkgewogICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiPj4+Pj4gY29udGVudCBpcyBudWxsIDw8PDw8PDw8IikKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmNvbmZpcm0KICAgICAgICAgICAgICAgICAgICAuY29uZmlybSgKICAgICAgICAgICAgICAgICAgICAgICAgIuaCqOWbnuWkjeeahOWGheWuueWMheWQq+aVj+aEn+ivje+8jOivt+WOu+aOiei/meS6m+aVj+aEn+ivjTogWyIrcmVzdWx0LmNvbnRlbnQrIl0iCiAgICAgICAgICAgICAgICAgICAgKS5jYXRjaCgoKSA9PiB7fSk7ICAKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgdG9NZXNzYWdlUmVhZCgpewogICAgICAgICAgICBsZXQgcmVxdWVzdERhdGFzID0gewogICAgICAgICAgICAgICAgaWQ6IHRoaXMubXNnSWQsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgbWVzc2FnZVJlYWQocmVxdWVzdERhdGFzKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v5YCS6K6h5pe277yM5bCG5paH56ug54q25oCB5Y+Y5Li65bey6K+7CiAgICAgICAgdGltZU91dFJlcG9ydCgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIuWAkuiuoeaXtue7k+adn++8jOaKiueKtuaAgee9ruS4uuW3suivuyIpOwogICAgICAgICAgICB0aGlzLnRvTWVzc2FnZVJlYWQoKTsKICAgICAgICB9CiAgICAgICAgCiAgICB9LAp9Cg=="},{"version":3,"sources":["articleDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"articleDetail.vue","sourceRoot":"src/views/page","sourcesContent":["<template\n>\n    <v-card class=\"mx-auto pa-5 ma-0\">\n         <v-progress-linear\n         v-if=\"!backData.data\"\n            indeterminate\n            color=\"blue\"\n            class=\"mb-1\"\n          ></v-progress-linear>\n        <div style=\"border: 1px solid #E4E8EB;\" class=\"pa-0 ma-0\" v-if=\"backData.data\">\n            <v-row align=\"center\" class=\"ml-4 mr-0 mt-4 mb-0\">\n                \n                <span class=\"text-h6 grey--text text--darken-4\">\n                    {{ backData.data.title }}\n                </span>\n                <v-spacer></v-spacer>\n                <v-img max-height=\"20\" max-width=\"57\" :src=\"showImag(backData.data.msgStatus)\">\n                    <template>\n                        <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\">\n                            <span class=\"caption white--text\">{{ msgText }}</span>\n                        </v-row>\n                    </template>\n                </v-img>\n            </v-row>\n            <v-row class=\"mt-2 ml-4 mr-4 mb-0\">\n                <span class=\"text-caption grey--text text--darken-1 mr-6\" v-show=\"backData.data.creatorCompanyname\">\n                    {{ backData.data.creatorCompanyname }}\n                </span>\n                <span class=\"text-caption grey--text text--darken-1\">创建时间：</span>\n                <span class=\"text-caption grey--text text--darken-1\">{{ backData.data.createTime }}</span>\n                <span class=\"text-caption grey--text text--darken-1 ml-4\">最后编辑时间：</span>\n                <span class=\"text-caption grey--text text--darken-1\">{{ backData.data.lastUpdateTime }}</span>\n            </v-row>\n            <v-row class=\"ml-4 mt-4 mr-4 mb-0\" align=\"center\">\n                <span class=\"text-caption grey--text text--darken-1\">{{$t(\"articleSendTo\")}}:</span>\n                 <v-chip\n                    v-for=\"(position, index) in backData.data.sendPositions\"\n                    color=\"#F0F0F0\" \n                    :key=\"index\"\n                    small\n                    class=\"text-caption grey--text text--darken-3 ml-2 pl-2 pr-2 ma-1\"\n                    >\n                    {{ position}}\n                    </v-chip>\n            </v-row>\n            \n            <v-row v-if=\"needShowContent()\" class=\"ma-0 mt-2 ml-5 mr-5\">\n                \n                <span class=\"html-content\" v-html=\"backData.data.content\"> </span>\n                \n            </v-row>\n            <v-subheader v-if=\"backData.data &&!isMyPublish && reports && reports.data && reports.data.feedBackType === 0 && backData.data.feedbackStatus !== 1\">您需要点击【已读回执】才能查看内容</v-subheader>\n<!-- 从我的发布进入的，查看投票统计信息 -->\n           \n            <voteResultView :vote=\"reports.data.voteInfo\"\n                class=\"ml-4 mr-4 mb-0 mt-8 pa-8\"\n                v-if=\"isMyPublish && reports && reports.data && reports.data.feedBackType === 3 && reports.data.voteInfo\">\n            </voteResultView>\n            \n <!-- 从除了我的发布进入的，进行投票 -->       \n            <v-sheet v-if=\"!isMyPublish && reports && reports.data && reports.data.feedBackType === 3 && reports.data.voteInfo\" class=\"ml-4 mt-4 mr-4 mb-0 pa-8\"\n                color=\"#F5F6F7\" width=\"546\" rounded>\n                <v-row>\n                    <v-icon small>mdi-vote</v-icon>\n                    <span class=\"ml-2 text-body-2 grey--text text--darken-4\">{{ reports.data.voteInfo.topic }}</span>\n                </v-row>\n                <v-row>\n                    <v-radio-group v-model=\"radioGroup\" class=\"mt-4\">\n                        <v-radio v-for=\"(item,raindex) in reports.data.voteInfo.options\" :key=\"raindex\"\n                            :disabled=\"reports.data.voteInfo.optionId!=null || backData.data.feedbackStatus === 1\"\n                            :label=\"item.optionName\" :value=\"item.optionId\" class=\"text-caption grey--text text--darken-4\">\n                        </v-radio>\n                    </v-radio-group>\n                </v-row>\n    \n                <v-row v-if=\"reports.data.voteInfo.optionId  || backData.data.feedbackStatus === 1\" class=\"mt-2 pa-0\">\n                    <v-btn  disabled depressed color=\"#666666\" class=\"white--text\" width=\"90\" height=\"27\" >\n                        {{$t(\"VotingCompleted\")}}\n                    </v-btn>\n                </v-row>\n                <v-row v-else class=\"mt-2 pa-0\">\n                    <v-btn :disabled=\"voteDisable\" depressed color=\"#1867C0\"  class=\"white--text\" width=\"90\" height=\"27\" @click=\"goVoteConfirm\">\n                        {{$t(\"vote\")}}\n                    </v-btn>\n                </v-row>\n            </v-sheet>\n            \n            <v-sheet v-show=\"false \" class=\"ml-4 mt-4 mr-4 mb-0 pa-8\" color=\"#F5F6F7\" width=\"546\" rounded>\n                <v-row class=\"mb-2\">\n                    <v-icon small>mdi-vote</v-icon>\n                    <span class=\"ml-2 text-body-2 grey--text text--darken-4\">您觉得每一次财务确认截止日期的通知发送时间是否及时？</span>\n                </v-row>\n                <div v-for=\"(item,voindex) in votes\" :key=\"voindex\" class=\"mt-6\">\n                    <v-row>\n                        <span class=\"text-caption grey--text text--darken-4\">{{ item.name }}</span>\n                        <v-spacer></v-spacer>\n                        <span class=\"text-caption grey--text text--darken-4 mr-2\">{{ item.numCount }}</span>\n                        <span class=\"text-caption grey--text text--darken-4\">{{ item.point }}</span>\n                    </v-row>\n                    <v-row class=\"mt-4\">\n                        <v-progress-linear :value=\"item.point\" color=\"#1867C0\" background-color=\"#E0E0E0\" rounded>\n                        </v-progress-linear>\n                    </v-row>\n                </div>\n            </v-sheet>\n        \n            <div class=\"ml-7 mt-7 mr-7 mb-0 pa-0\" v-if=\"commonFiles.length>0\">\n                <v-row  align=\"center\" class=\"mb-4\">\n                    <span class=\"text-body-2 grey--text text--darken-3\"> {{$t(\"commonFile\")}} </span>\n                    <v-btn small text \n                    class=\"text-body-2 blue--text text--darken-3\"\n                    @click=\"downloadCommonFiles\"> {{$t(\"allDownload\")}} </v-btn>\n                    <v-progress-circular\n                        class=\"ml-8\"\n                        v-if=\"isCommonFilesDownloadLoading\"\n                        :indeterminate=\"isCommonFilesDownloadLoading\"\n                        color=\"primary\">\n                    </v-progress-circular>\n                    <span \n                        v-if=\"isCommonFilesDownloadLoading\"\n                        class=\"text-body-2 grey--text text--darken-3\">\n                        正在为您打包压缩，请稍后！\n                    </span>\n                </v-row>\n                <div v-for=\"(item, hindex) in commonFiles\" :key=\"hindex\" class=\"pa-0 ma-0\">\n                    <v-row v-if=\"(hindex%2) ==0\" class=\"mb-4\">\n                        <AppendView :apFile=\"item\"></AppendView>\n                        <v-spacer></v-spacer>\n                        <AppendView v-if='hindex+1<commonFiles.length' :apFile=\"commonFiles[hindex+1]\">\n                        </AppendView>\n                    </v-row>\n                </div>\n            </div>\n            <div v-if=\"needShowContent()\" class=\"mt-8 ml-8 mb-0 mr-8 pa-0\" v-show=\"directionalFiles.length>0\">\n                <v-row class=\"mb-4\" align=\"center\">\n                    <span class=\"text-body-2 grey--text text--darken-3\"> {{$t(\"directionalFile\")}} </span>\n                    <v-btn text \n                    class=\"text-body-2 blue--text text--darken-3\"\n                    @click=\"downloadDirectionalFiles\"> {{$t(\"allDownload\")}} </v-btn>\n                    <v-progress-circular\n                        class=\"ml-8\"\n                        v-if=\"isDirectionalFilesDownloadLoading\"\n                        :indeterminate=\"isDirectionalFilesDownloadLoading\"\n                        color=\"primary\">\n                    </v-progress-circular>\n                    <span \n                        v-if=\"isDirectionalFilesDownloadLoading\"\n                        class=\"text-body-2 grey--text text--darken-3\">\n                        正在为您打包压缩，请稍后！\n                    </span>\n                </v-row>\n                <div v-for=\"(item, iindex) in directionalFiles\" :key=\"'info2-'+iindex\" class=\"pa-0 ma-0\">\n                    <v-row v-if=\"(iindex%2) ==0\" class=\"mb-4\">\n                        <AppendView :apFile=\"item\"></AppendView>\n                        <v-spacer></v-spacer>\n                        <AppendView v-if='iindex+1<directionalFiles.length' :apFile=\"directionalFiles[iindex+1]\">\n                        </AppendView>\n                    </v-row>\n                </div>\n            </div>\n            <v-row class=\"ml-4 mr-4 mb-4 mt-5\" align=\"center\">\n                <span class=\"text-body-2 grey--text text--darken-1\">\n                 {{$t(\"read\")}}：{{ reports.data.readCount }}/{{ reports.data.receiveUserCount }}\n                </span>\n                <span class=\"text-body-2 grey--text text--darken-1 ml-12\">\n                     {{$t(\"reply\")}}：{{ reports.data.feedbackCount }}/{{ reports.data.receiveUserCount}}\n                </span>\n                <v-dialog v-model=\"closeDialog_see\" \n                v-if=\"isMyPublish\"\n                fullscreen hide-overlay transition=\"dialog-bottom-transition\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn class=\"text-body-2 blue--text text--darken-3 ml-12\" text x-small @click=\"seeDialog\"\n                            v-bind=\"attrs\" v-on=\"on\">\n                            {{$t(\"visibility\")}}\n                        </v-btn>\n                    </template>\n                    <RangeView @closedChild=\"closeParent\" :articleId=\"msgId\"></RangeView>\n                </v-dialog>\n                <v-dialog v-model=\"closeDialog_report\" \n                v-if=\"isMyPublish\"\n                fullscreen hide-overlay transition=\"dialog-bottom-transition\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn class=\"text-body-2 blue--text text--darken-3 ml-12\" text x-small @click=\"reportDialog\"\n                            v-bind=\"attrs\" v-on=\"on\">\n                            {{$t(\"statisticsReport\")}}\n                        </v-btn>\n                    </template>\n                    <ReportView @closedChild=\"closeParent\" :msgIdParam=\"msgId\" :feebackBackType=\"this.feebackBackType\" ></ReportView>\n                </v-dialog>\n            </v-row>\n        </div>\n        <!-- 添加已读回执 -->\n        <div style=\"border-left: 1px solid #E4E8EB;border-right: 1px solid #E4E8EB;border-bottom: 1px solid #E4E8EB;\"\n            class=\"pa-6 ma-0\" \n            v-if=\"backData.data &&!isMyPublish && reports && reports.data && reports.data.feedBackType === 0\">\n         \n            <v-row>\n                <v-btn :disabled=\"backData.data.feedbackStatus === 1\" width=\"104\" color=\"#595959FF\" class=\"blue--text\" outlined depressed @click=\"toReportReceipt()\">\n                      {{backData.data.feedbackStatus == 1?\"已读\":\"已读回执\"}}\n                </v-btn>\n            </v-row>\n        </div>\n        <!-- 添加文字回复 -->\n        <div style=\"border-left: 1px solid #E4E8EB;border-right: 1px solid #E4E8EB;border-bottom: 1px solid #E4E8EB;\"\n            class=\"pa-6 ma-0\" \n            v-if=\"backData.data &&!isMyPublish && reports && reports.data && reports.data.feedBackType === 1 && backData.data.feedbackStatus == 0\">\n            <v-row>\n                <span class=\"text-body-2 grey--text text--darken-4\">需要您文字回复</span>\n            </v-row>\n            <div class=\"d-flex flex-row ma-0 pa-0 mt-8 ml-n3\">\n                <v-text-field outlined dense class=\"ma-0\" v-model=\"reportCotent\" maxlength=\"100\" counter=\"100\"></v-text-field>\n                <v-btn :disabled=\"reportCotent==''\" depressed color=\"#1867C0FF\" class=\"white--text ma-0 ml-2\" width=\"105\" @click=\"toReportContent\">\n                    回复\n                </v-btn>\n            </div>\n        </div>\n        <!-- 添加附件回复 -->\n        <div style=\"border-left: 1px solid #E4E8EB;border-right: 1px solid #E4E8EB;border-bottom: 1px solid #E4E8EB;\"\n            class=\"pa-6 ma-0\" \n            v-if=\"!isMyPublish && reports && reports.data && reports.data.feedBackType === 2 && reports.data.attachments.length == 0 && backData.data.feedbackStatus == 0\">\n            <v-row>\n                <span class=\"text-body-2 grey--text text--darken-4\">需要您上传附件进行回复</span>\n            </v-row>\n            <v-row class=\"mt-8\">\n                <v-btn width=\"104\" color=\"#595959FF\" class=\"blue--text\" outlined depressed @click=\"uploadFileN\">\n                    添加附件\n                    <input \n                        ref=\"uploadFileN\" \n                        type=\"file\" \n                        @change=\"fileUpload($event)\"\n                        multiple=\"multiple\"\n                        accept=\".docx,.doc,.pdf,.jpg,.xls,.xlsx,.txt\" \n                        hidden/>\n        \n                </v-btn>\n                \n                <v-btn width=\"104\" :disabled=\"uploadFileNormal.length <= 0\" class=\"blue--text ms-16\" outlined depressed @click=\"toReportFile\">\n                    提交\n                </v-btn>\n                <v-spacer></v-spacer>\n            </v-row>\n            <v-row  class=\"mt-8\" v-if=\"uploadFileNormal.length > 0\">\n                <span class=\"files-category mr-6\"> 附件列表 </span>\n                <v-btn\n                    depressed\n                    plain\n                    text\n                    :ripple=\"false\"\n                    height=\"20px\"\n                    min-width=\"24px\"\n                    class=\"text-body-2 blue--text text--darken-3 pa-0 ma-0\"\n                    @click=\"uploadFileNormal = []\">\n                    全部删除\n                </v-btn>\n            </v-row>\n            <v-row no-gutters class=\"mt-8\" >\n                <file-item\n                    v-for=\"(item, hindex) in uploadFileNormal\"\n                    :key=\"hindex\"\n                    @onDelete=\"onDeleteFile(hindex)\"\n                    class=\"file-item\"\n                    :apFile=\"item\"></file-item>\n            </v-row>\n        </div>\n       \n        <!-- 回复信息 -->\n        <div style=\"border-left: 1px solid #E4E8EB;border-right: 1px solid #E4E8EB;border-bottom: 1px solid #E4E8EB;\"\n            class=\"pa-6 ma-0\" \n            v-if=\"needShowComments\">\n            <v-row class=\"mt-2 mb-2\">\n                <span class=\"text-h8 grey--text text--darken-4\"> 回复列表</span>\n            </v-row>\n            <div class=\"pa-0 ma-0\" v-show=\"reports && reports.data && reports.data.contents && reports.data.contents.length > 0\">\n                <v-card min-height=\"60\" outlined v-for=\"(item, iindex) in reports.data.contents\" :key=\"'info2-'+iindex\" class=\"mt-4 mx-auto\">\n                    <v-row class=\"pa-0 ma-0 ml-2 mt-1\">\n                        <div class=\"text-body-2\">\n                            {{item.replyName}}\n                        </div>\n                        <div class=\"text-body-2 grey--text text-darken-10 ms-2\">\n                            {{item.replyCompanyname}}\n                        </div>\n                        <div class=\"text-body-2 grey--text text-darken-10 ms-2\">\n                            {{item.replyPosition}}\n                        </div>\n                        <v-spacer></v-spacer>\n                        <div class=\"text-body-2 grey--text text-darken-10 mr-2\">\n                            {{item.createTime}}\n                        </div>\n                    </v-row>\n                    <v-row class=\"pa-0 ma-0 ml-2\">\n                        <span class=\"text-body-2 font-weight-medium\"> {{ item.content }}</span>\n                    </v-row>   \n                </v-card>\n            </div>\n            <div class=\"pa-0 ma-0\" v-show=\"reports && reports.data && reports.data.attachments && reports.data.attachments.length>0\">\n                <div v-for=\"(item, iindex) in reports.data.attachments\" :key=\"'info2-'+iindex\" class=\"mt-4\">\n                    <v-row class=\"pa-0 ma-0\">\n                        <div class=\"text-body-2\">\n                            {{item.replyName}}\n                        </div>\n                        <div class=\"text-body-2 grey--text text-darken-10 ms-2\">\n                            {{item.replyRegion}}\n                        </div>\n                        <div class=\"text-body-2 grey--text text-darken-10 ms-2\">\n                            {{item.replyRole}}\n                        </div>\n                    </v-row>\n                    <v-row class=\"pa-0 ma-0\">\n                        <div class=\"text-body-2\">\n                            {{item.createTime}}\n                        </div>\n                    </v-row>\n                    <v-row class=\"pa-0 ma-0\">\n                            <AppendView :apFile=\"item\"></AppendView>\n                    </v-row>\n                    \n                </div>\n            </div>\n        </div>\n        <div style=\"border-left: 1px solid #E4E8EB;border-right: 1px solid #E4E8EB;border-bottom: 1px solid #E4E8EB;\"\n            v-if=\"isMyPublish && backData.data\"\n            class=\"pt-1 ma-0 pb-1\" v-show=\"changHistory.length>0\">\n            <v-row class=\"ml-4 mt-3\">\n                <span class=\"text-body-2 grey--text text--darken-4\">变更记录</span>\n            </v-row>\n            <div class=\"mt-4 ml-4 mr-4 mb-4 \">\n                <div v-for=\"(item,jindex) in changHistory\" :key=\"jindex\">\n                    <v-divider v-if=\"item.divider\" :key=\"jindex\" ></v-divider>\n                    <v-list-item v-else :key=\"jindex\" dense class=\"mt-2\">\n                        <v-row>\n                            <span class=\"text-body-2 grey--text text--darken-2\">{{ item.createTime }}</span>\n                            <span class=\"text-body-2 grey--text text--darken-2 ml-2\">{{ item.operateUsername }}</span>\n                            <span class=\"text-body-2 grey--text text--darken-2 ml-2\">{{ item.operateDepartment }}</span>\n                            <span class=\"text-body-2 grey--text text--darken-4 ml-2\">{{ item.operateType }}</span>\n                        </v-row>\n                    </v-list-item>\n                </div>\n            </div>\n        </div>\n        <page-loader />\n        <!-- <v-btn id=\"to-top-btn\" style=\"position:fixed;top:50%;transform: translateY(-50%);right:0px;display:none;\" fab\n            dark small color=\"primary\" @click=\"backtop\">\n            <v-icon>\n                mdi-arrow-up\n            </v-icon>\n        </v-btn> -->\n        <v-snackbar\n            v-model=\"caution\"\n            :timeout=\"cautionTimeout\"\n            :centened=\"true\"\n            :width=\"240\"\n          >\n            {{cautionText}}\n\n            <template v-slot:action=\"{ attrs }\">\n              <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"caution = false\">\n                关闭\n              </v-btn>\n            </template>\n          </v-snackbar>\n        <confirm ref=\"confirm\" />\n    </v-card>\n</template>\n<script>\n    import AppendView from '@/components/appendView.vue'\n    import ReportView from '@/components/statisticalReportView.vue'\n    import RangeView from '@/components/visiableRangeView.vue'\n    import voteResultView from './publishArticle/voteResult.vue'\n    import { showSnackbar } from \"@/utils/snackbar.js\";\n    import store from '@/store';\n    import { Throttle } from \"@/utils/tools.js\";\n    import { getArticleDetail, \n    getArticleLog, \n    uploadFile, \n    getDetailAppend, \n    getArticleReportAuthor,\n    getArticleReportViewer,\n    getDetailToReport,\n    messageRead} from \"@/api/getData.js\"\n    import { getMsgStatusDesc} from \"@/utils/articleUtils.js\"\n    import {downloadAll} from \"@/utils/download.js\"\n    import {        \n        checkUploadFileType,\n        readFileSizeUnit,\n    } from \"@/utils/filesUtils.js\";\n    import { aesDecrypt  } from \"@/utils/encryption.js\";\n\n\n    export default {\n        \n        components: {\n            AppendView,\n            ReportView,\n            RangeView,\n            voteResultView,\n            fileItem: () => import(\"./publishArticle/fileOption.vue\"),\n            confirm: () => import(\"@/components/base/conform.vue\"),\n            pageLoader: () => import(\"./articleList/pageLoader.vue\"),\n        },\n        data: () => ({\n            caution:false,\n            cautionText:\"回复消息失败，请稍后再试\",\n            cautionTimeout:1500,\n            backData: {},\n            appendBackData: {},\n            changHistory: [],\n            textRule: {\n                message: '',\n                rules: [v => v.length <= 25 || 'Max 25 characters'],\n            },\n            //是否是admin用户\n            isAdmin: false,\n            //关闭dialog\n            closeDialog_report: false,\n            closeDialog_see: false,\n            //当前选中的dialog 默认0 未选择dialog, 1.可见范围，2.统计报告\n            nowDialog: 0,\n            //文章状态\n            msgText: '',\n            //选择的投票item\n            radioGroup: 0,\n            //普通附件\n            feebackBackType:-1,\n            commonFiles: [],\n            //定向附件\n            directionalFiles: [],\n            //投票按钮状态\n            voteDisable:true,\n            //投票结果\n            votes: [\n                {\n                    name: 'A.及时',\n                    numCount: '345票',\n                    point: 54,\n                },\n                {\n                    name: 'B.太早了',\n                    numCount: '244票',\n                    point: 33,\n                },\n                {\n                    name: 'C.太晚了',\n                    numCount: '36票',\n                    point: 13,\n                },\n            ],\n            //回复内容\n            reportCotent:\"\",\n            //文章id\n            msgId: '',\n            //是否从我的发布进入的\n            isMyPublish:false,\n            //获取的回复信息,先赋默认值。防止渲染出错\n            reports:{},\n            //回复附件\n            uploadFileNormal:[],\n            //定时器\n            timeout:null,\n            isCommonFilesDownloadLoading:false,\n            isDirectionalFilesDownloadLoading:false,\n        }),\n\n        watch:{\n            radioGroup:function(oldVal,newVal) {\n                console.log('radioGroup---'+newVal+\" oldVal:\"+oldVal+\"  current:\"+this.radioGroup);\n                //未选择投票选项\n                if(this.radioGroup==0){\n                    this.voteDisable = true;\n                }else{\n                    this.voteDisable = false;\n                }\n            }\n        },\n        //keepAlive生命周期 多次执行 activated 只执行一次mounted\n        mounted() {\n            console.log(\"[[[[[[[[ ==>\"+JSON.stringify(store.state.user.authorization))\n            //理论上，是要单独判断是否Admin的，但是目前看上去admin进入查看的能力和作者一致\n            //产品这么说的，但是可能会存才雷区.比如查看已读报告，并发送提醒... Admin真的可以这么做吗？ 并且。后端是否进行了验证？\n            //单独判断会更好一些，但是逻辑会复杂一些。 目前项目时间有限，如果你看到这段代码。并且有时间，应该修复这个问题\n            let user = JSON.parse(JSON.stringify(JSON.parse(store.state.user.authorization)))\n            this.isAdmin = user.JB === \"CMS.ADMIN\" || user.jb === \"cms.admin\";\n            //this.isMyPublish = user.JB === \"ADMIN\"\n            this.isMyPublish =  this.isAdmin ? true:this.$route.query.isMyPublish;\n            this.msgId = aesDecrypt(this.$route.query.id);\n            \n            //顶部回滚事件监听\n            // window.addEventListener('scroll', this.scrollToTop)\n            let that = this;\n            this.uploadFileNormal = [];\n            this.changHistory = [];\n            this.commonFiles = [];\n            this.directionalFiles = [];\n            this.uploadFileNormal = [];\n            this.timeout = setTimeout(this.timeOutReport,10000 );\n            let data = {\n                msgId: this.msgId,\n            }\n            //获取文章详情\n            this.getDetails(this.msgId)\n            //获取回复信息\n            this.getReports(data);\n            //获取文章变更历史\n            getArticleLog(this.msgId).then(res => {\n                console.log(\">>>>>>>>>>>获取文章变更历史>>>>>>>>>>>>>>>\");\n                console.log(JSON.stringify(res));\n                that.articleChangeData = res;\n                that.articleChangeData.data.list.forEach(item => {\n                    item.operateType = getMsgStatusDesc(item.operateType)\n                    that.changHistory.push(item);\n                    that.changHistory.push({ divider: true });\n                });\n                 setTimeout(() => {\n                    this.toChangeLog();\n                    }, 500);\n            }).catch(res => {\n                console.log(res);\n            });\n            //获取文章附件\n            getDetailAppend(data).then(res => {\n                console.log(\">>>>>>>>>>>获取文章附件>>>>>>>>>>>>>>>\");\n                console.log(JSON.stringify(res));\n                that.appendBackData = res;\n                that.directionalFiles = new Array();\n                that.commonFiles = new Array();\n                if(that.appendBackData && that.appendBackData.data.length > 0){\n                    for(let i=0;i<that.appendBackData.data.length;i++){\n                        var currentFile = that.appendBackData.data[i];\n                        if(currentFile.orientation){\n                            that.directionalFiles.push(currentFile);\n                        }else{\n                            that.commonFiles.push(currentFile); \n                        }\n                    }\n                }\n\n                console.log(\"commonFiles:\"+JSON.stringify(this.commonFiles));\n            });\n        },\n        beforeDestroy() {\n            this.nowDialog = 0;\n        },\n        deactivated(){\n            this.timeout.clearImmediate();\n        },\n        destroyed() {\n            // 销毁事件\n            // window.removeEventListener('scroll', this.scrollToTop);\n        },\n        methods: {\n             toChangeLog() {   \n                let query = this.$route.query;\n                console.log(\"===========>to log params \"+JSON.stringify(query));\n                if (query == null || typeof query == \"undefined\") return;\n                let needToLog = query.param;\n                console.log(\"===========>to log need to log \"+needToLog);\n                if (!needToLog || typeof needToLog == \"undefined\") return;\n                this.$refs.changelog.scrollIntoView(true);\n                },\n            //是否显示文章内容\n            needShowContent() {\n            //v-if=\"backData.data &&!isMyPublish && reports && reports.data && reports.data.feedBackType === 0 && backData.data.feedbackStatus !== 1\"\n                //是已读回执的消息\n                if(this.backData.data &&!this.isMyPublish && this.reports && this.reports.data && this.reports.data.feedBackType === 0){\n                    if(this.backData.data.feedbackStatus !== 1) {\n                        return false;\n                    }else {\n                        return true;\n                    }\n                }else {\n                    return true;\n                } \n            },\n\n            needShowComments() {\n                let hasComments = this.reports && this.reports.data && this.backData.data && \n                ((this.reports.data.contents && this.reports.data.contents.length > 0 )||\n                (this.reports.data.attachments && this.reports.data.attachments.length > 0))\n               \n               if(hasComments) {\n                   return this.isMyPublish ? true : this.backData.data.feedbackStatus === 1\n                }else {\n                    return false;\n                }\n            },\n\n            reportDialog() {\n                this.nowDialog = 1;\n            },\n            seeDialog() {\n                this.nowDialog = 2;\n            },\n            //关闭dialog\n            closeParent(childState) {\n                //console.log(\"-----------\" + this.nowDialog);\n                //console.log(\"-----------\" + childState);\n                let that = this;\n                switch (this.nowDialog) {\n                    case 1:\n                        that.closeDialog_report = childState;\n                        break;\n                    case 2:\n                        that.closeDialog_see = childState;\n                        break;\n                    default:\n                        break;\n                }\n            },\n            //展示旗帜背景图片\n            showImag(status) {\n                let imgsrc;\n                switch (status) {\n                    case 0:\n                        imgsrc = require('@/assets/daifabu.png');\n                        break;\n                    case 1:\n                        imgsrc = require('@/assets/yifabu.png');\n                        break;\n                    case 2:\n                    case 3:\n                        imgsrc = require('@/assets/yichexiao.png');\n                        break;\n                    case 4:\n                        imgsrc = require('@/assets/yishixiao.png');\n                        break;\n                    default:\n                        break;\n                }\n                return imgsrc;\n            },\n            //获取文章信息\n            getDetails(msgId){\n                //获取文章详情\n                getArticleDetail(msgId).then(res => {\n                    console.log(\">>>>>>>>>>>获取文章详情>>>>>>>>>>>>>>>\");\n                    console.log(JSON.stringify(res));\n                    this.backData = res;\n                    this.msgText = getMsgStatusDesc(this.backData.data.msgStatus);\n                    this.feebackBackType =  this.backData.data.feedbackType ;\n                }).catch(res => {\n                    console.log(res);\n                });\n            },\n            getReports(msgId) {\n                if(this.isMyPublish) {\n                    this.getAuthorReports(msgId)\n                }else {\n                    this.getViewerReports(msgId)\n                }\n            },\n            //获取回复信息,全部的，admin 和 author视角\n            getAuthorReports(msgId){\n                getArticleReportAuthor(msgId).then(res => {\n                    console.log(\">>>>>>>>>>>获取回复信息 author or admin >>>>>>>>>>>>>>>\");\n                    console.log(JSON.stringify(res));\n                    this.reports = res;\n                    if(this.reports && this.reports.data && this.reports.data.voteInfo){\n                        if(this.reports.data.voteInfo.optionId==undefined){\n                            this.radioGroup = 0;                                  \n                        }else{\n                            this.radioGroup = this.reports.data.voteInfo.optionId;                                  \n                        }\n                    }\n                });\n            },\n            //获取回复信息，viewer视角\n            getViewerReports(msgId){\n                getArticleReportViewer(msgId).then(res => {\n                    console.log(\">>>>>>>>>>>获取回复信息 viewer>>>>>>>>>>>>>>>\");\n                    console.log(JSON.stringify(res));\n                    this.reports = res;\n                    if(this.reports && this.reports.data && this.reports.data.voteInfo){\n                        if(this.reports.data.voteInfo.optionId==undefined){\n                            this.radioGroup = 0;                                  \n                        }else{\n                            this.radioGroup = this.reports.data.voteInfo.optionId;                                  \n                        }\n                    }\n                });\n            },\n            downloadCommonFiles(){\n                let that = this;\n                let filename = this.backData.data.title + \"-普通附件.zip\";\n                downloadAll(this.commonFiles,filename,function (type){\n                    console.log(\"================================:\"+type)\n                    if(type === 0){\n                        that.isCommonFilesDownloadLoading = true; \n                    }else if(type==2 ||type===3){\n                        that.isCommonFilesDownloadLoading = false; \n                    }\n                });\n            },\n            downloadDirectionalFiles(){\n                let that = this;\n                let filename = this.backData.data.title + \"-定向附件.zip\";\n                downloadAll(this.directionalFiles,filename,function (type){\n                    console.log(\"================================:\"+type)\n                    if(type === 0){\n                        that.isDirectionalFilesDownloadLoading = true; \n                    }else if(type==2 ||type===3){\n                        that.isDirectionalFilesDownloadLoading = false; \n                    }\n                });\n            },            \n            //回复内容\n            toReportContent:Throttle(\n                function(){\n                    //二次确认\n                    this.$refs.confirm\n                    .confirm(\n                        \"只能回复一次，不能更改，确认回复吗?\"\n                    )\n                    .then(() => {\n                        this.toReport(1,this.reportCotent);\n                    })\n                    .catch(() => {});   \n                },\n                function(){\n                    showSnackbar(\"您提交的太频繁了，稍等一会试试吧\");\n                }                \n            ),\n            //已读回执\n            toReportReceipt(){\n                this.toReport(0,\"\");\n            },\n            //回复附件\n            toReportFile(){              \n                //二次确认\n                this.$refs.confirm\n                .confirm(\n                    \"只能回复一次，不能更改，确认回复吗?\"\n                )\n                .then(() => {\n                    this.submitReport();\n                })\n                .catch(() => {});                \n            },\n\n            submitReport(){\n                let attachmentList = [];\n                for(let i=0;i<this.uploadFileNormal.length;i++){\n                    let attachment = {};\n                    attachment.path = this.uploadFileNormal[i].path;\n                    attachment.attachmentSize = this.uploadFileNormal[i].fileSize;\n                    attachmentList.push(attachment);\n                }\n                console.log(\"save attachment:\" + JSON.stringify(attachmentList));\n                this.toReport(2,\"\",attachmentList);\n                let data = {\n                    msgId: this.msgId,\n                }\n                this.getReports(data);\n                this.getDetails(this.msgId)\n            },\n        \n            onDeleteFile(index) {\n                console.log(\"ondelete file:\"+index);\n                this.uploadFileNormal.splice(index, 1);\n            },\n            uploadFileN() {\n                console.log(\"uploadFileN\");\n                if(this.uploadFileNormal.length==1){\n                    showSnackbar(\"每次最多只能上传1个文件\");\n                    return;\n                }\n                this.$refs.uploadFileN.dispatchEvent(new MouseEvent(\"click\"));\n            },\n            fileUpload(event) {\n                let upFiles = this.uploadFileNormal;\n                let selectedFiles = event.target.files;\n\n                 if (selectedFiles.length >1) {\n                    showSnackbar(\"每次最多只能上传1个文件\");\n                    return;\n                }\n                                \n                for (let i = 0; i < selectedFiles.length; i++) {\n                    let item = selectedFiles[i];\n\n                    if (item.size /1024 /1024 >= 20) {\n                        showSnackbar(\"您有文件上传失败,附件最大限制20M\");\n                        continue;\n                    }\n                    //上传文件去重\n                    if (upFiles.findIndex((t) => t.text == item.name) >= 0) {\n                        continue;\n                    }\n                    //上传类型判断\n                    let ext = checkUploadFileType(item.name);\n                    if (ext == null) continue;\n                    let temp = {};\n                    temp.text = item.name;\n                    temp.fileType = ext;\n                    temp.fileSize = readFileSizeUnit(item.size);\n                    console.log(temp);\n                    //添加上传文件列表\n                    \n                    upFiles.push(temp);\n                    //上传服务器\n                    uploadFile(item, (progress, fileName) => {\n                        this.uploadFileNormal\n                        .filter((t) => t.text == fileName)\n                        .map((update) => {\n                            update.progress = progress;\n                        });\n                        this.uploadFileNormal = JSON.parse(\n                            JSON.stringify(this.uploadFileNormal)\n                        );\n                    }).then((res) => {\n                        console.log(\"upload\" + JSON.stringify(res));\n                        if (res.code == 0) {\n                            //更新上传信息\n                            let files = this.uploadFileNormal;\n                             files\n                            .filter((t) => (t.text==res.data.attachmentName))\n                            .map((update) => (update.path = res.data.url));  \n\n                            console.log(\"upload file message2:\" + JSON.stringify(files));\n                            \n                        }\n                    }).catch(() => {});\n                }\n            },\n\n            goVoteConfirm(){\n                this.$refs.confirm\n                .confirm(\n                    \"只能回复一次，不能更改，确认回复吗?\"\n                )\n                .then(() => {\n                    this.goVote();\n                })\n                .catch(() => {});  \n            },\n            //去投票\n            goVote(){  \n                //this.toReport(3,\"\",this.radioGroup);\n                let reportDatas = {\n                    msgId: this.msgId,\n                    feedbackType: 3,\n                    voteId: this.backData.data.voteInfoDTO.voteId,\n                    voteOptionId:this.radioGroup\n                }\n                console.log(JSON.stringify(reportDatas))\n                getDetailToReport(reportDatas).then(res => {\n                    console.log(\"投票完成\") \n                    console.log(res); \n                    let data = {\n                        msgId: this.msgId,\n                    }\n                    this.getReports(data);\n                    this.getDetails(this.msgId);\n                });\n            },\n            //回复信息\n            toReport(feedbackType,content,attachmentList){\n                let reportDatas = {\n                    msgId: this.msgId,\n                    feedbackType: feedbackType,\n                }\n                if(content){\n                    reportDatas.content = content;\n                }\n                if(attachmentList){\n                    reportDatas.attachmentList = attachmentList;\n                }\n                console.log(JSON.stringify(reportDatas))\n                getDetailToReport(reportDatas).then(res => { \n                    console.log(res); \n                    let data = {\n                        msgId: this.msgId,\n                    }\n                    this.getReports(data);\n                    this.getDetails(this.msgId);\n                }).catch(e => {\n                    console.log(JSON.stringify(e))\n                    this.cautionText = \"回复消息失败，请稍后再试\"\n                    if (e.config == null || typeof e.config == \"undefined\") {\n                        console.log(\">>>>> config is null <<<<<<<<\")\n                        this.caution = true;\n                        return;\n                        }\n                    let res = e.config;\n                    if(res.data == null || typeof res.data == \"undefined\") {\n                        this.caution = true;\n                        console.log(\">>>>> data is null <<<<<<<<\")\n                        return;\n                        }\n                    let result = JSON.parse(res.data);\n                    console.log(\"data is \"+JSON.stringify(result))\n                     if(result.content == null ||typeof result.content == \"undefined\" ) {\n                         console.log(\">>>>> content is null <<<<<<<<\")\n                        this.caution = true;\n                        return;\n                    }else {\n                        this.$refs.confirm\n                        .confirm(\n                            \"您回复的内容包含敏感词，请去掉这些敏感词: [\"+result.content+\"]\"\n                        ).catch(() => {});  \n                    }\n\n                });\n            },\n            toMessageRead(){\n                let requestDatas = {\n                    id: this.msgId,\n                }\n                messageRead(requestDatas).then(res => {\n                    console.log(res); \n                })\n            },\n            //倒计时，将文章状态变为已读\n            timeOutReport() {\n                console.log(\"倒计时结束，把状态置为已读\");\n                this.toMessageRead();\n            }\n            \n        },\n    }\n</script>\n<style>\n.file-item {\n  margin-bottom: 1px;\n}\n.html-content p {\n  margin-bottom: 0px;\n}\n</style>"]}]}