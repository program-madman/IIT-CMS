{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/allArticle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/allArticle.vue","mtime":1638535920902},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEFsbEFydGljbGUsIGNvbGxlY3Rpb25PcGVyYXRpb24gfSBmcm9tICJAL2FwaS9nZXREYXRhLmpzIjsKaW1wb3J0IHsgZ2V0TXNnU3RhdHVzRGVzYywgaGlnaExpZ2h0VGV4dCB9IGZyb20gIkAvdXRpbHMvYXJ0aWNsZVV0aWxzLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBhZXNFbmNyeXB0IH0gZnJvbSAiQC91dGlscy9lbmNyeXB0aW9uLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHNlYXJjaEJhcjogKCkgPT4gaW1wb3J0KCIuL2FydGljbGVMaXN0L3NlYXJjaEJhci52dWUiKSwKICAgIHBhZ2VMb2FkZXI6ICgpID0+IGltcG9ydCgiLi9hcnRpY2xlTGlzdC9wYWdlTG9hZGVyLnZ1ZSIpLAogICAgbG9hZGluZzogKCkgPT4gaW1wb3J0KCJAL2NvbXBvbmVudHMvYmFzZS9sb2FkaW5nLnZ1ZSIpLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IG51bGwsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBsb2FkaW5ndmlldzogdHJ1ZSwKICAgICAgYm9yZGVyU3RhdHVzOgogICAgICAgICJib3JkZXItbGVmdDo0cHggc29saWQgYmx1ZSAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6IDRweCA0cHggNHB4IDRweCIsCiAgICAgIGl0ZW1zOiBbXSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGhhc0VkaXRQZXJtaXNzaW9uOiAidXNlci9oYXNFZGl0UGVybWlzc2lvbiIsCiAgICB9KSwKICB9LAoKICBtZXRob2RzOiB7CiAgICBvblNlYXJjaChkYXRhKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcgPT0gdHJ1ZSkgcmV0dXJuOwogICAgICB0aGlzLml0ZW1zID0gW107CiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgIHRoaXMuc2VhcmNoQXJ0aWNsZXModGhpcy5kYXRhKTsKICAgICAgdGhpcy5sb2FkaW5ndmlldyA9IHRydWU7CiAgICB9LAogICAgb25SZXNldChkYXRhKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcgPT0gdHJ1ZSkgcmV0dXJuOwogICAgICB0aGlzLm9uU2VhcmNoKGRhdGEpOwogICAgfSwKCiAgICBvbkxvYWRNb3JlKCkgewogICAgICBpZiAodGhpcy5sb2FkaW5nID09IHRydWUpIHJldHVybjsKICAgICAgdGhpcy5zZWFyY2hBcnRpY2xlcyh0aGlzLmRhdGEpOwogICAgfSwKICAgIHNlYXJjaEFydGljbGVzKGRhdGEpIHsKICAgICAgaWYgKHRoaXMubG9hZGluZyA9PSB0cnVlKSByZXR1cm47CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGdldEFsbEFydGljbGUoZGF0YSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHJlcz09bnVsbCB8fAogICAgICAgICAgICB0eXBlb2YgcmVzID09ICJ1bmRlZmluZWQiIHx8CiAgICAgICAgICAgIHJlcy5jb2RlID09IG51bGwgfHwKICAgICAgICAgICAgdHlwZW9mIHJlcy5jb2RlID09ICJ1bmRlZmluZWQiIHx8CiAgICAgICAgICAgIHJlcy5jb2RlICE9IDAgfHwKICAgICAgICAgICAgcmVzLmRhdGEubWVzc2FnZUxpc3QubGVuZ3RoID09IDAKICAgICAgICAgICl7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICB0aGlzLmxvYWRpbmd2aWV3ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmRhdGEucGFnZU51bSsrOwogICAgICAgICAgbGV0IGFUZW1wID0gW107CiAgICAgICAgICByZXMuZGF0YS5tZXNzYWdlTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICAgIGxldCBkVGVtcCA9IHt9OwogICAgICAgICAgICBkVGVtcFsiaWQiXSA9IGl0ZW0uaWQ7CiAgICAgICAgICAgIGRUZW1wWyJ0aXRsZSJdID0gaXRlbS50aXRsZTsKICAgICAgICAgICAgZFRlbXBbImludHJvIl0gPSBpdGVtLmNvbnRlbnQ7CiAgICAgICAgICAgIGRUZW1wWyJsYXN0VXBkYXRlVGltZSJdID0gaXRlbS5sYXN0VXBkYXRlVGltZTsKICAgICAgICAgICAgZFRlbXBbImRlcHRtZW50Il0gPSBpdGVtLmNyZWF0b3JEZXA7CgogICAgICAgICAgICAvL+aWh+eroOeKtuaAgTowOuiNieeovyAxOuW3suWPkeW4gyAgNDrlt7LlpLHmlYgKICAgICAgICAgICAgZFRlbXBbImFydGljbGVUeXBlIl0gPSBnZXRNc2dTdGF0dXNEZXNjKGl0ZW0ubXNnU3RhdHVzKTsKICAgICAgICAgICAgLy/pmYTku7bmlbDph48KICAgICAgICAgICAgZFRlbXBbImF0dGFjaG1lbnRDb3VudCJdID0gaXRlbS5hdHRhY2htZW50Q291bnQ7CiAgICAgICAgICAgIC8v6ZiF6K+75pWw6YePCiAgICAgICAgICAgIGRUZW1wWyJyZWFkTnVtIl0gPSBpdGVtLnJlYWRBdWRpZW5jZUNvdW50OwogICAgICAgICAgICAvL+aWh+S7tue8luWPtwogICAgICAgICAgICBkVGVtcFsiYXJ0aWNsZU5vIl0gPSBpdGVtLm1zZ051bWJlcjsKICAgICAgICAgICAgLy/mmK/lkKblt7Lor7sKICAgICAgICAgICAgZFRlbXBbInJlYWRTdGF0dXMiXSA9IGl0ZW0ubXNnU3RhdHVzOwogICAgICAgICAgICAvL+aUtuiXj+eKtuaAgQogICAgICAgICAgICBkVGVtcFsiZmF2b3JpdGUiXSA9IGl0ZW0uYXJjaGl2ZVN0YXR1czsKICAgICAgICAgICAgLy/mlLbol4/mk43kvZzpgInmi6nnirbmgIHlr4TlrZgKICAgICAgICAgICAgZFRlbXBbImZhdm9yaXRlU2VsZWN0Il0gPSBudWxsOwogICAgICAgICAgICBhVGVtcC5wdXNoKGRUZW1wKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuY29uY2F0KGFUZW1wKTsKICAgICAgICAgIGNvbnNvbGUuZGVidWcoImFkZCBsaXN0IiArIGFUZW1wKTsKICAgICAgICAgIGhpZ2hMaWdodFRleHQodGhpcy5pdGVtcywgdGhpcy5kYXRhLnNlYXJjaENvbnRlbnQpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgfSkKICAgICAgICAuZmluYWxseSgoKSA9PiAodGhpcy5sb2FkaW5nID0gZmFsc2UpKTsKICAgIH0sCgogICAgLy/ot7Povazor6bmg4XpobUKICAgIHRvRGV0YWlsKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL2FydGNsZURldGFpbCIsCiAgICAgICAgcXVlcnk6IHsgaWQ6IGFlc0VuY3J5cHQoaWQgKyAiIikgfSwKICAgICAgfSk7CiAgICB9LAogICAgLy/ot7Povazlj6blrZjkuLrlj5HluIPmlofnq6AKICAgIHNhdmVBcyhpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogInB1Ymxpc2hBcnRpY2xlIiwKICAgICAgICBwYXJhbXM6IHsgaWQ6IGlkIH0sCiAgICAgIH0pOwogICAgfSwKCiAgICAvL+aWh+eroOaUtuiXjwogICAgY29sbGVjdChpbmRleCkgewogICAgICAvL+mAieaLqeaUtuiXj+eahOaWh+eroOeahOaMh+mSiAogICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbXNbaW5kZXhdOwogICAgICBsZXQgdHlwZSA9IE51bWJlcihpdGVtLmZhdm9yaXRlU2VsZWN0KTsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBtc2dJZDogTnVtYmVyKGl0ZW0uaWQpLAogICAgICAgIGFyY2hpdmVJZDogdHlwZSwKICAgICAgfTsKICAgICAgY29uc29sZS5kZWJ1Zygi5pS26JeP57G75Z6LPT09PT09PT4iICsgdHlwZSk7CiAgICAgIGl0ZW0uZmF2b3JpdGVTZWxlY3QgPSBudWxsOwoKICAgICAgY29sbGVjdGlvbk9wZXJhdGlvbihwYXJhbXMpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgY29uc29sZS5kZWJ1Zygi5L+u5pS55paH56ug57G75Z6LIiArIHJlcyk7CiAgICAgICAgICB0aGlzLml0ZW1zW2luZGV4XS5mYXZvcml0ZSA9IHR5cGU7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKQogICAgICAgIC5maW5hbGx5KCgpID0+ICh0aGlzLml0ZW1zW2luZGV4XS5kbG9nID0gZmFsc2UpKTsKICAgIH0sCiAgfSwKICAvL+i/h+a7pOaWh+WtlwogIGZpbHRlcnM6IHsKICAgIGxlbmdodGgodGV4dCwgbGVuZ3RoLCBzdWZmaXggPSAiLi4uIikgewogICAgICBpZiAoIXRleHQpIHJldHVybjsKICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPFtePl0rPi9nLCAiIik7CiAgICAgIGlmICh0ZXh0Lmxlbmd0aCA8PSBsZW5ndGgpIHsKICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgfQogICAgICByZXR1cm4gKHRleHQgKyAiIikucmVwbGFjZSgvXG4vZywgIjxici8+Iikuc3Vic3RyaW5nKDAsIGxlbmd0aCkgKyBzdWZmaXg7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["allArticle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"allArticle.vue","sourceRoot":"src/views/page","sourcesContent":["<template>\n  <v-container fluid>\n    <loading v-if=\"loadingview\" />\n    <v-row no-gutters pa-0 ma-0>\n      <v-col sm=\"12\">\n        <search-bar @onSearch=\"onSearch\" @onReset=\"onReset\" />\n        <v-row align=\"center\" dense>\n          <v-col v-for=\"(item, i) in items\" :key=\"i\" cols=\"12\">\n            <v-card\n              @click=\"toDetail(item.id)\"\n              :style=\"item.readStatus ? borderStatus : ''\"\n              class=\"pt-4\"\n            >\n              <v-card-title class=\"text-subtitle-2 mt-0 mb-0 ml-4 pa-0\">\n                {{ item.deptment }}\n                <v-spacer></v-spacer>\n                <v-card-actions class=\"pa-0\">\n                  <div\n                    class=\"mr-2 light-green--text text--accent-3 text-display-4\"\n                    v-if=\"item.articleType === '已发布'\"\n                  >\n                    <v-icon large color=\"light-green accent-3\"\n                      >mdi-circle-small</v-icon\n                    >{{ item.articleType }}\n                  </div>\n                  <div\n                    class=\"mr-2 red--text text--darken-3 text-display-4\"\n                    v-else-if=\"item.articleType === '已撤回'\"\n                  >\n                    <v-icon large color=\"red darken-3\">mdi-circle-small</v-icon>\n                    <a v-html=\"item.articleType\"></a>\n                  </div>\n                </v-card-actions>\n              </v-card-title>\n              <v-card-subtitle class=\"grey--text ma-0 pa-0 ml-4\">\n                {{ item.lastUpdateTime }}\n              </v-card-subtitle>\n              <div\n                class=\"\n                  d-flex\n                  flex-no-wrap\n                  justify-space-between\n                  black--text\n                  mt-2\n                \"\n              >\n                <div style=\"margin: 0; padding: 0\" class=\"ml-4\">\n                  <v-card-text\n                    class=\"title mt-0 pa-0 html-content\"\n                    :style=\"item.readStatus ? 'color:#1867C0' : ''\"\n                    v-html=\"$options.filters.lenghth(item.title, 60)\"\n                  ></v-card-text>\n                  <v-card-subtitle\n                    class=\"dense pa-0 pt-1 html-content\"\n                    v-html=\"$options.filters.lenghth(item.intro, 70)\"\n                  ></v-card-subtitle>\n                  <v-card-actions class=\"pa-0\">\n                    <v-row\n                      v-if=\"item.attachNum || item.articleNo\"\n                      class=\"mt-2 mr-3 ml-0 pa-0 pb-3 caption grey--text\"\n                      align=\"center\"\n                    >\n                      <span v-if=\"item.attachNum\" class=\"mr-6\"\n                        >附件({{ item.attachNum }})</span\n                      >\n                      <span v-if=\"item.articleNo\" class=\"caption grey--text\"\n                        >文章编号:{{ item.articleNo }}</span\n                      >\n                    </v-row>\n                  </v-card-actions>\n                </div>\n              </div>\n              <footer>\n                <v-row class=\"mt-2 mb-1 ml-1 pa-0 pb-3 caption\" align=\"center\">\n                  <v-btn\n                    text\n                    depressed\n                    class=\"ml-0\"\n                    color=\"primary\"\n                    v-if=\"hasEditPermission\"\n                    @click.stop=\"saveAs(item.id)\"\n                  >\n                    <v-icon left> mdi-file-plus-outline </v-icon>\n                    另存为\n                  </v-btn>\n                  <v-dialog v-model=\"item.dlog\" max-width=\"210\">\n                    <template v-slot:activator=\"{ on, attrs }\">\n                      <v-btn\n                        text\n                        depressed\n                        v-bind=\"attrs\"\n                        v-on=\"on\"\n                        color=\"primary \"\n                      >\n                        <v-icon left>\n                          {{\n                            item.favorite > 0 ? \"mdi-star\" : \"mdi-star-outline\"\n                          }}\n                        </v-icon>\n                        {{ item.favorite > 0 ? \"已收藏\" : \"收藏\" }}\n                      </v-btn>\n                    </template>\n                    <v-card>\n                      <v-card-title>选择收藏的文件夹</v-card-title>\n                      <v-divider></v-divider>\n                      <v-card-text>\n                        <v-radio-group v-model=\"item.favoriteSelect\" column>\n                          <v-radio label=\"我的收藏\" value=\"1\"> </v-radio>\n                          <v-radio label=\"重要通知\" value=\"2\"> </v-radio>\n                          <v-radio label=\"政策发布\" value=\"3\"> </v-radio>\n                        </v-radio-group>\n                      </v-card-text>\n                      <v-divider></v-divider>\n                      <v-card-actions>\n                        <v-btn\n                          color=\"blue darken-1\"\n                          text\n                          @click=\"\n                            item.dlog = false;\n                            item.favoriteSelect = null;\n                          \"\n                        >\n                          关闭\n                        </v-btn>\n                        <v-btn color=\"blue darken-1\" text @click=\"collect(i)\">\n                          确认\n                        </v-btn>\n                      </v-card-actions>\n                    </v-card>\n                  </v-dialog>\n                </v-row>\n              </footer>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-col>\n    </v-row>\n    <page-loader @onLoadMore=\"onLoadMore\" />\n  </v-container>\n</template>\n\n<script>\nimport { getAllArticle, collectionOperation } from \"@/api/getData.js\";\nimport { getMsgStatusDesc, highLightText } from \"@/utils/articleUtils.js\";\nimport { mapGetters } from \"vuex\";\nimport { aesEncrypt } from \"@/utils/encryption.js\";\nexport default {\n  components: {\n    searchBar: () => import(\"./articleList/searchBar.vue\"),\n    pageLoader: () => import(\"./articleList/pageLoader.vue\"),\n    loading: () => import(\"@/components/base/loading.vue\"),\n  },\n  data() {\n    return {\n      data: null,\n      loading: false,\n      loadingview: true,\n      borderStatus:\n        \"border-left:4px solid blue !important;border-radius: 4px 4px 4px 4px\",\n      items: [],\n    };\n  },\n  computed: {\n    ...mapGetters({\n      hasEditPermission: \"user/hasEditPermission\",\n    }),\n  },\n\n  methods: {\n    onSearch(data) {\n      if (this.loading == true) return;\n      this.items = [];\n      this.data = data;\n      this.searchArticles(this.data);\n      this.loadingview = true;\n    },\n    onReset(data) {\n      if (this.loading == true) return;\n      this.onSearch(data);\n    },\n\n    onLoadMore() {\n      if (this.loading == true) return;\n      this.searchArticles(this.data);\n    },\n    searchArticles(data) {\n      if (this.loading == true) return;\n      this.loading = true;\n      getAllArticle(data)\n        .then((res) => {\n          if (\n            res==null ||\n            typeof res == \"undefined\" ||\n            res.code == null ||\n            typeof res.code == \"undefined\" ||\n            res.code != 0 ||\n            res.data.messageList.length == 0\n          ){\n            return;\n          }\n            \n          this.loadingview = false;\n          this.data.pageNum++;\n          let aTemp = [];\n          res.data.messageList.forEach((item) => {\n            let dTemp = {};\n            dTemp[\"id\"] = item.id;\n            dTemp[\"title\"] = item.title;\n            dTemp[\"intro\"] = item.content;\n            dTemp[\"lastUpdateTime\"] = item.lastUpdateTime;\n            dTemp[\"deptment\"] = item.creatorDep;\n\n            //文章状态:0:草稿 1:已发布  4:已失效\n            dTemp[\"articleType\"] = getMsgStatusDesc(item.msgStatus);\n            //附件数量\n            dTemp[\"attachmentCount\"] = item.attachmentCount;\n            //阅读数量\n            dTemp[\"readNum\"] = item.readAudienceCount;\n            //文件编号\n            dTemp[\"articleNo\"] = item.msgNumber;\n            //是否已读\n            dTemp[\"readStatus\"] = item.msgStatus;\n            //收藏状态\n            dTemp[\"favorite\"] = item.archiveStatus;\n            //收藏操作选择状态寄存\n            dTemp[\"favoriteSelect\"] = null;\n            aTemp.push(dTemp);\n          });\n          this.items = this.items.concat(aTemp);\n          console.debug(\"add list\" + aTemp);\n          highLightText(this.items, this.data.searchContent);\n        })\n        .catch((res) => {\n          console.log(res);\n        })\n        .finally(() => (this.loading = false));\n    },\n\n    //跳转详情页\n    toDetail(id) {\n      this.$router.push({\n        path: \"/artcleDetail\",\n        query: { id: aesEncrypt(id + \"\") },\n      });\n    },\n    //跳转另存为发布文章\n    saveAs(id) {\n      this.$router.push({\n        name: \"publishArticle\",\n        params: { id: id },\n      });\n    },\n\n    //文章收藏\n    collect(index) {\n      //选择收藏的文章的指针\n      let item = this.items[index];\n      let type = Number(item.favoriteSelect);\n      let params = {\n        msgId: Number(item.id),\n        archiveId: type,\n      };\n      console.debug(\"收藏类型=======>\" + type);\n      item.favoriteSelect = null;\n\n      collectionOperation(params)\n        .then((res) => {\n          console.debug(\"修改文章类型\" + res);\n          this.items[index].favorite = type;\n        })\n        .catch()\n        .finally(() => (this.items[index].dlog = false));\n    },\n  },\n  //过滤文字\n  filters: {\n    lenghth(text, length, suffix = \"...\") {\n      if (!text) return;\n      text = text.replace(/<[^>]+>/g, \"\");\n      if (text.length <= length) {\n        return text;\n      }\n      return (text + \"\").replace(/\\n/g, \"<br/>\").substring(0, length) + suffix;\n    },\n  },\n};\n</script>\n<style>\n.html-content p {\n  margin-bottom: 0px;\n}\n</style>\n"]}]}