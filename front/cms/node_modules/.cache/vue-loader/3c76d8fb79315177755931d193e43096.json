{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/statisticalReportSupplierView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/statisticalReportSupplierView.vue","mtime":1639836982485},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSZXBvcnRQZXJzb25WaWV3IGZyb20gIkAvY29tcG9uZW50cy9zdGF0aXN0aWNhbFJlcG9ydFBlcnNvblZpZXcudnVlIjsKaW1wb3J0IHsgZ2V0RGVhbGVyUmVwb3J0IH0gZnJvbSAiQC9hcGkvZ2V0RGF0YS5qcyI7CmltcG9ydCB7IHJvdW5kRnVuIH0gZnJvbSAiQC91dGlscy9zdHJpbmdVdGlscy5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInN0YXRpc3RpY2FsUmVwb3J0U3VwcGxpZXJWaWV3IiwKICBwcm9wczogewogICAgb3BlblN0YXR1czogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgfSwKICAgIGFyZWFwYXJhbTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICB9LAoKICAgIG1zZ0lEUGFyYW06IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICAgIHJlYWRTdGF0dXNQYXJhbTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICB9LAogICAgc3RhdGlzdGljc1N0YXR1c1BhcmFtOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgIH0sCiAgICAvL+WPjemmiOexu+WeiwogICAgZmVlYmFja0JhY2tUeXBlOnsKICAgICAgdHlwZTpOdW1iZXIKICAgIH0sCiAgICBhdHRhY2htZW50SWRQYXJhbTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICB9LAogICAgc2VsZWN0VHlwZVZhbHVlUGFyYW06IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFJlcG9ydFBlcnNvblZpZXcsCiAgICBsb2FkaW5nOiAoKSA9PiBpbXBvcnQoIkAvY29tcG9uZW50cy9iYXNlL2xvYWRpbmcudnVlIiksCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v57uf6K6h5p+l6K+i57G75Z6LIDA6IOmYheivu+exu+Wei+afpeivoiAxOiDpmYTku7bnsbvlnovmn6Xor6IgMjog5Zue5aSN57G75Z6L5p+l6K+iCiAgICAgIFNUQVRJU1RJQ1NTVEFUVVNfVFlQRV9SRUFEOiAwLAogICAgICBTVEFUSVNUSUNTU1RBVFVTX1RZUEVfQVRUQUNIOiAxLAogICAgICBTVEFUSVNUSUNTU1RBVFVTX1RZUEVfUkVQTFk6IDIsCiAgICAgIGRpYWxvZzogdGhpcy5vcGVuLAogICAgICBkaWFsb2dfcGVyc29uOiBmYWxzZSwKICAgICAgc2VhcmNoX3NlbGU6ICIiLAogICAgICBzZWxlY3RlZF9hcmVhOiBbXSwKICAgICAgZXhwYW5kZWQ6IFtdLAogICAgICBoZWFkZXJzOiBbXSwKICAgICAgZGVzc2VydHNfYXJlYTogW10sCiAgICAgIHNlbGVjdENvbXBhbnlDb2RlOiAiIiwKICAgICAgc2VsZWN0U3RhdGlzdGljc1N0YXR1czogMCwKCiAgICAgICAgLy/liqDovb3nirbmgIEKICAgICAgbG9hZGluZ3ZpZXc6IHRydWUsCgogICAgICAvL+eKtuaAge+8muW3suivu+OAgeacquivuwogICAgICBTVEFUVVNfVU5SRUFEOiAxLAoKICAgICAgdW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mbzogbmV3IE1hcCgpLAoKICAgICAgLy9zdGFydCDlhajpgInlj4LmlbAKICAgICAgY2hlY2tlZEFsbDogdHJ1ZSwKICAgICAgLy/miYDmnInpgInkuK3nmoRjb21wYW55Q29kZQogICAgICBjaGVja2VkTmFtZXM6IFtdLAogICAgICBjaGVja2VkQXJyOiBbXSwKICAgICAgLy9lbmQg5YWo6YCJ5Y+C5pWwCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygiLS0tLSBtb3VudGVkIC0tLS0iKTsKCiAgICB0aGlzLmdldERlYWxlclJlcG9ydFNlcnZpY2UoKTsKICB9LAoKICB3YXRjaDogewogICAgb3BlblN0YXR1cyhuZXdWKSB7CiAgICAgIGNvbnNvbGUubG9nKCJvcGVuU3RhdHVzOiIgKyBuZXdWKTsKICAgICAgLy/nlLHkuI3lj6/op4HliLDlj6/op4EKICAgICAgaWYgKG5ld1YpIHsKICAgICAgICB0aGlzLmdldERlYWxlclJlcG9ydFNlcnZpY2UoKTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrZWROYW1lczogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5jaGVja2VkTmFtZXMubGVuZ3RoID09IHRoaXMuY2hlY2tlZEFyci5sZW5ndGgpIHsKICAgICAgICB0aGlzLmNoZWNrZWRBbGwgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hlY2tlZEFsbCA9IGZhbHNlOwogICAgICB9CgogICAgICAvL+abtOaWsOmAieaLqeaVsOe7hAogICAgICB0aGlzLnVwZGF0ZVNlbGVjdENvbWFueUluZm9NYXBJbmZvKCk7CiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZVNlbGVjdENvbWFueUluZm9NYXBJbmZvKCkgewogICAgICB0aGlzLmNoZWNrZWRBcnIuZm9yRWFjaCgoY29tcGFueUNvZGU9PnsKICAgICAgICAgIC8v5aaC5p6c6YCJ5LitLOWPlua2iOivpeWFrOWPuOWumuS5iQogICAgICAgICAgaWYodGhpcy5jaGVja2VkTmFtZXMuaW5kZXhPZihjb21wYW55Q29kZSk+PTApeyAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgaWYodGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmhhcyhjb21wYW55Q29kZSkpewogICAgICAgICAgICAgICAgICBsZXQgdW5zZWxlY3RVc2VyTGlzdCA9IHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5nZXQoY29tcGFueUNvZGUpOwogICAgICAgICAgICAgICAgICBpZih1bnNlbGVjdFVzZXJMaXN0Lmxlbmd0aD09MCl7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGFzIGNvbXBhbnlDb2RlOiIrY29tcGFueUNvZGUrIiByZW1vdmU6Iit0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uc2l6ZSk7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uZGVsZXRlKGNvbXBhbnlDb2RlKTsgCiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYWZ0ZXIgcmVtb3ZlOiIrdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLnNpemUpOyAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgfWVsc2V7Ly/lpoLmnpzpg73kuI3lnKjpgInmi6nlhoUKICAgICAgICAgICAgICB0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uc2V0KGNvbXBhbnlDb2RlLFtdKTsKICAgICAgICAgIH0KICAgICAgfSkpOwogICAgfSwKCiAgICBnZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCkgewogICAgICB0aGlzLmhlYWRlcnMgPSBbXTsKICAgICAgdGhpcy5kZXNzZXJ0c19hcmVhID0gW107CiAgICAgIHRoaXMubG9hZGluZ3ZpZXcgPXRydWU7CgogICAgICBnZXREZWFsZXJSZXBvcnQoewogICAgICAgIGFyZWE6IHRoaXMuYXJlYXBhcmFtLAogICAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lEUGFyYW0sCiAgICAgICAgbGV2ZWw6IDEsCiAgICAgICAgcmVhZFN0YXR1czogdGhpcy5yZWFkU3RhdHVzUGFyYW0sCiAgICAgICAgc3RhdGlzdGljc1N0YXR1czogdGhpcy5zdGF0aXN0aWNzU3RhdHVzUGFyYW0sCiAgICAgICAgYXR0YWNobWVudElkOiB0aGlzLmF0dGFjaG1lbnRJZFBhcmFtLAogICAgICAgIGRlYWxlclR5cGU6IHRoaXMuc2VsZWN0VHlwZVZhbHVlUGFyYW0sCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgY29uc29sZS5sb2coImdldFN1cHBpbGVyTGlzdERhdGEgcmVjZWl2ZToiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7CgogICAgICAgICAgaWYgKHJlcy5kYXRhID09IG51bGwpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coImRhdGEgc2l6ZSBpcyAwIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmhlYWRlcnMgPSB0aGlzLmluaXRIZWFkZXJEYXRhKHJlcy5kYXRhLmRhdGFMaXN0KTsKICAgICAgICAgIHRoaXMuZGVzc2VydHNfYXJlYSA9IHRoaXMuaW5pdEJvZHlEYXRhKHJlcy5kYXRhLmRhdGFMaXN0KTsKCiAgICAgICAgICB0aGlzLmNoZWNrZWRBbGwgPSB0aGlzLmNoZWNrZWROYW1lcy5sZW5ndGggPT0gdGhpcy5jaGVja2VkQXJyLmxlbmd0aDsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIH0pLmZpbmFsbHkoKCk9PnsKICAgICAgICAgIHRoaXMubG9hZGluZ3ZpZXcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCgogICAgLy/mnoTlu7rljZXkuKpoZWFkZXLlpLTkv6Hmga8KICAgIGJ1aWxkSGVhZGVyQmVhbih0ZXh0LCB2YWx1ZSkgewogICAgICBsZXQgaGVhZGVyQmVhbiA9IHt9OwogICAgICBoZWFkZXJCZWFuLnRleHQgPSB0ZXh0OwogICAgICBoZWFkZXJCZWFuLnZhbHVlID0gdmFsdWU7CiAgICAgIGhlYWRlckJlYW4ud2lkdGggPSAiMTByZW0iOwogICAgICBoZWFkZXJCZWFuLmFsaWduID0gImxlZnQiOwoKICAgICAgcmV0dXJuIGhlYWRlckJlYW47CiAgICB9LAoKICAgIC8v5Yid5aeL5YyWSGVhZGVy55qE5pWw5o2uCiAgICBpbml0SGVhZGVyRGF0YShkYXRhKSB7CiAgICAgIGxldCBoZWFkZXJEYXRhQXJyYXkgPSBbXTsKCiAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLnu4/plIDllYbnvJblj7ciLCAic3VwbnVtYmVyIikpOwogICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi57uP6ZSA5ZWG5ZCN56ewIiwgInN1cG5hbWUiKSk7CiAgICAgIGlmKHRoaXMucmVhZFN0YXR1c1BhcmFtID09IHRoaXMuU1RBVFVTX1VOUkVBRCl7CiAgICAgICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi5pyq6K+757uf6K6hIiwgInJlYWRpbmciKSk7CiAgICAgIH1lbHNlewogICAgICAgICAgaGVhZGVyRGF0YUFycmF5LnB1c2godGhpcy5idWlsZEhlYWRlckJlYW4oIuW3suivu+e7n+iuoSIsICJyZWFkaW5nIikpOwogICAgICB9ICAgCiAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLlt7Llm57lpI3nu5/orqEiLCAicmVwbHkiKSk7CgogICAgICBsZXQgYXR0YWNoTmFtZUxpc3QgPSBbXTsKCiAgICAgIGRhdGEuZm9yRWFjaCgoc3VwcGxpZXJEYXRhKT0+ewogICAgICAgICAgaWYoc3VwcGxpZXJEYXRhLmF0dGFjaG1lbnRTdGF0aXN0aWNzIT1udWxsJiZzdXBwbGllckRhdGEuYXR0YWNobWVudFN0YXRpc3RpY3MubGVuZ3RoPjAKICAgICAgICAgICAgJiZhdHRhY2hOYW1lTGlzdC5sZW5ndGg9PTApeyAgICAgICAgICAgIAogICAgICAgICAgICAgIHN1cHBsaWVyRGF0YS5hdHRhY2htZW50U3RhdGlzdGljcy5mb3JFYWNoKChhdHRhY2htZW50U3RhdGlzdGljcykgPT4gewogICAgICAgICAgICAgIGxldCBhdHRhY2htZW50TmFtZSA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmF0dGFjaG1lbnROYW1lLnNsaWNlKAogICAgICAgICAgICAgICAgYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudE5hbWUubGFzdEluZGV4T2YoIi8iKSArIDEKICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICBhdHRhY2hOYW1lTGlzdC5wdXNoKAogICAgICAgICAgICAgICAgdGhpcy5idWlsZEhlYWRlckJlYW4oCiAgICAgICAgICAgICAgICAgICLlt7LkuIvovb3nu5/orqEoIiArIGF0dGFjaG1lbnROYW1lICsgIikiLAogICAgICAgICAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50SWQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9KTsgICAgICAgICAgCiAgICAgICAgICB9CiAgICAgIH0pOyAgCgogICAgICBhdHRhY2hOYW1lTGlzdC5mb3JFYWNoKChoZWFkZXJCZWFuKT0+ewogICAgICAgICAgaGVhZGVyRGF0YUFycmF5LnB1c2goaGVhZGVyQmVhbik7CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIGhlYWRlckRhdGFBcnJheTsKICAgIH0sCgogICAgaW5pdEJvZHlEYXRhKGRhdGEpIHsKICAgICAgdGhpcy5jaGVja2VkQXJyID0gW107CiAgICAgIHRoaXMuY2hlY2tlZE5hbWVzID0gW107CgogICAgICBsZXQgZGF0YUFycmF5ID0gW107CiAgICAgIGxldCB0b3RhbGluZm8gPSB7fTsKICAgICAgbGV0IHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3MgPSBbXTsKCiAgICAgIGxldCByZWFkU3RhdGlzdGljc0NvdW50ID0gMCwKICAgICAgICByZWFkU3RhdGlzdGljc1RvdGFsQ291bnQgPSAwOwogICAgICBsZXQgZmVlZGJhY2tTdGF0aXN0aWNzQ291bnQgPSAwLAogICAgICAgIGZlZWRiYWNrU3RhdGlzdGljc1RvdGFsQ291bnQgPSAwOwoKICAgICAgZGF0YS5mb3JFYWNoKChzdXBwbGllckRhdGEpID0+IHsKICAgICAgICBsZXQgYm9keUJlYW4gPSB7fTsKICAgICAgICAKICAgICAgICB0aGlzLmNoZWNrZWRBcnIucHVzaChzdXBwbGllckRhdGEuY29tcGFueUNvZGUpOwogICAgICAgIAogICAgICAgIGxldCB1c2VySW5mb0xpc3Q9IHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5nZXQoc3VwcGxpZXJEYXRhLmNvbXBhbnlDb2RlKTsKICAgICAgICBpZih1c2VySW5mb0xpc3Q9PXVuZGVmaW5lZCB8fCB1c2VySW5mb0xpc3QubGVuZ3RoPjApewogICAgICAgICAgICB0aGlzLmNoZWNrZWROYW1lcy5wdXNoKHN1cHBsaWVyRGF0YS5jb21wYW55Q29kZSk7CiAgICAgICAgfQoKICAgICAgICBib2R5QmVhbi5zdXBudW1iZXIgPSBzdXBwbGllckRhdGEuY29tcGFueUNvZGU7CiAgICAgICAgYm9keUJlYW4uc3VwbmFtZSA9IHN1cHBsaWVyRGF0YS5jb21wYW55TmFtZTsKICAgICAgICBib2R5QmVhbi5zZWxlY3RlZCA9IHRydWU7CgogICAgICAgIGlmKHN1cHBsaWVyRGF0YS5yZWFkU3RhdGlzdGljcz09bnVsbCl7CiAgICAgICAgICBib2R5QmVhbi5yZWFkaW5nU3RhdGlzdGljc0NvdW50ID0gMDsgICAgICAgIAogICAgICAgICAgYm9keUJlYW4ucmVhZGluZ1RvdGFsQ291bnQ9IDA7CiAgICAgICAgICBib2R5QmVhbi5yZWFkaW5nUGVyY2VudGFnZSA9IDA7CgogICAgICAgIH1lbHNlewogICAgICAgICAgYm9keUJlYW4ucmVhZGluZ1N0YXRpc3RpY3NDb3VudCA9IHN1cHBsaWVyRGF0YS5yZWFkU3RhdGlzdGljcy5zdGF0aXN0aWNzQ291bnQ7ICAgICAgICAKICAgICAgICAgIGJvZHlCZWFuLnJlYWRpbmdUb3RhbENvdW50PSBzdXBwbGllckRhdGEucmVhZFN0YXRpc3RpY3MudG90YWxDb3VudDsKICAgICAgICAgIGJvZHlCZWFuLnJlYWRpbmdQZXJjZW50YWdlID0gc3VwcGxpZXJEYXRhLnJlYWRTdGF0aXN0aWNzLnBlcmNlbnRhZ2U7CiAgICAgICAgfQoKICAgICAgICByZWFkU3RhdGlzdGljc0NvdW50ICs9IGJvZHlCZWFuLnJlYWRpbmdTdGF0aXN0aWNzQ291bnQ7CiAgICAgICAgcmVhZFN0YXRpc3RpY3NUb3RhbENvdW50ICs9IGJvZHlCZWFuLnJlYWRpbmdUb3RhbENvdW50OwoKICAgICAgICBpZihzdXBwbGllckRhdGEuZmVlZEJhY2tTdGF0aXN0aWNzPT1udWxsKXsKICAgICAgICAgICAgYm9keUJlYW4ucmVwbHlTdGF0aXN0aWNzQ291bnQgPSAwOwogICAgICAgICAgICBib2R5QmVhbi5yZXBseVRvdGFsQ291bnQgPSAwOwogICAgICAgICAgICBib2R5QmVhbi5yZXBseVBlcmNlbnRhZ2UgPSAwOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBib2R5QmVhbi5yZXBseVN0YXRpc3RpY3NDb3VudCA9IHN1cHBsaWVyRGF0YS5mZWVkQmFja1N0YXRpc3RpY3Muc3RhdGlzdGljc0NvdW50OwogICAgICAgICAgICBib2R5QmVhbi5yZXBseVRvdGFsQ291bnQgPSBzdXBwbGllckRhdGEuZmVlZEJhY2tTdGF0aXN0aWNzLnRvdGFsQ291bnQ7CiAgICAgICAgICAgIGJvZHlCZWFuLnJlcGx5UGVyY2VudGFnZSA9IHN1cHBsaWVyRGF0YS5mZWVkQmFja1N0YXRpc3RpY3MucGVyY2VudGFnZTsKICAgICAgICB9ICAgICAgICAgICAgIAoKICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NDb3VudCArPSBib2R5QmVhbi5yZXBseVN0YXRpc3RpY3NDb3VudDsKICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50ICs9IGJvZHlCZWFuLnJlcGx5VG90YWxDb3VudDsKICAgICAgICAKICAgICAgICBsZXQgYXR0YWNoRGF0YUxpc3QgPSBbXTsKCiAgICAgICAgaWYoc3VwcGxpZXJEYXRhLmF0dGFjaG1lbnRTdGF0aXN0aWNzIT1udWxsKXsKICAgICAgICAgICAgc3VwcGxpZXJEYXRhLmF0dGFjaG1lbnRTdGF0aXN0aWNzLmZvckVhY2goCiAgICAgICAgICAgICAgKGF0dGFjaG1lbnRTdGF0aXN0aWNzLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgbGV0IGF0dGFjaERhdGEgPSB7fTsKICAgICAgICAgICAgICAgIGlmICh0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0gPSB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICIiLAogICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3NDb3VudDogMCwKICAgICAgICAgICAgICAgICAgICB0b3RhbENvdW50OiAwLAogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGF0dGFjaERhdGEuaWQgPSBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50SWQ7CgogICAgICAgICAgICAgICAgYXR0YWNoRGF0YS52YWx1ZVN0YXRpc3RpY3NDb3VudCA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmRlYWxlclN0YXRpc3RpY3Muc3RhdGlzdGljc0NvdW50OwogICAgICAgICAgICAgICAgYXR0YWNoRGF0YS52YWx1ZVRvdGFsQ291bnQgPSBhdHRhY2htZW50U3RhdGlzdGljcy5kZWFsZXJTdGF0aXN0aWNzLnRvdGFsQ291bnQ7CiAgICAgICAgICAgICAgICBhdHRhY2hEYXRhLnZhbHVlUGVyY2VudGFnZSA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmRlYWxlclN0YXRpc3RpY3MucGVyY2VudGFnZTsgICAgICAgICAgCgogICAgICAgICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0uaWQgPQogICAgICAgICAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50SWQ7CiAgICAgICAgICAgICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XS5zdGF0aXN0aWNzQ291bnQgKz0KICAgICAgICAgICAgICAgICAgYXR0YWNobWVudFN0YXRpc3RpY3MuZGVhbGVyU3RhdGlzdGljcy5zdGF0aXN0aWNzQ291bnQ7CiAgICAgICAgICAgICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XS50b3RhbENvdW50ICs9CiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRTdGF0aXN0aWNzLmRlYWxlclN0YXRpc3RpY3MudG90YWxDb3VudDsKCiAgICAgICAgICAgICAgICBhdHRhY2hEYXRhTGlzdC5wdXNoKGF0dGFjaERhdGEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsgICAgICAgICAgICAKICAgICAgICB9CgogICAgICAgIGJvZHlCZWFuLmF0dGFjaERhdGFMaXN0ID0gYXR0YWNoRGF0YUxpc3Q7CgogICAgICAgIGRhdGFBcnJheS5wdXNoKGJvZHlCZWFuKTsKICAgICAgfSk7CgogICAgICB0b3RhbGluZm8uc3VwbnVtYmVyID0gIi0iOwogICAgICB0b3RhbGluZm8uc3VwbmFtZSA9ICLlkIjorqEiOwogICAgICB0b3RhbGluZm8uc2VsZWN0ZWQgPSB0cnVlOwoKICAgICAgdG90YWxpbmZvLnJlYWRpbmdTdGF0aXN0aWNzQ291bnQgPSByZWFkU3RhdGlzdGljc0NvdW50OwogICAgICB0b3RhbGluZm8ucmVhZGluZ1RvdGFsQ291bnQgPSByZWFkU3RhdGlzdGljc1RvdGFsQ291bnQ7CiAgICAgIHRvdGFsaW5mby5yZWFkaW5nUGVyY2VudGFnZSA9IHJvdW5kRnVuKChyZWFkU3RhdGlzdGljc0NvdW50ICogMTAwKSAvIHJlYWRTdGF0aXN0aWNzVG90YWxDb3VudCwwKTsKCiAgICAgIHRvdGFsaW5mby5yZXBseVN0YXRpc3RpY3NDb3VudCA9IGZlZWRiYWNrU3RhdGlzdGljc0NvdW50OwogICAgICB0b3RhbGluZm8ucmVwbHlUb3RhbENvdW50ID0gZmVlZGJhY2tTdGF0aXN0aWNzVG90YWxDb3VudDsKICAgICAgdG90YWxpbmZvLnJlcGx5UGVyY2VudGFnZSA9IHJvdW5kRnVuKChmZWVkYmFja1N0YXRpc3RpY3NDb3VudCAqIDEwMCkgLyBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50LDApOwoKICAgICAgdG90YWxpbmZvLmF0dGFjaERhdGFMaXN0ID0gW107CiAgICAgIHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3MuZm9yRWFjaCgoYXR0YWNobWVudFN0YXRpc3RpY3MpID0+IHsKICAgICAgICBsZXQgYXR0YWNoRGF0YSA9IHt9OwoKICAgICAgICBhdHRhY2hEYXRhLmlkID0gYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudElkOwogICAgICAgIGF0dGFjaERhdGEudmFsdWVTdGF0aXN0aWNzQ291bnQgPSBhdHRhY2htZW50U3RhdGlzdGljcy5zdGF0aXN0aWNzQ291bnQ7CiAgICAgICAgYXR0YWNoRGF0YS52YWx1ZVRvdGFsQ291bnQgPSBhdHRhY2htZW50U3RhdGlzdGljcy50b3RhbENvdW50OwogICAgICAgIGF0dGFjaERhdGEudmFsdWVQZXJjZW50YWdlID0gcm91bmRGdW4oKGF0dGFjaG1lbnRTdGF0aXN0aWNzLnN0YXRpc3RpY3NDb3VudCAqIDEwMCkgLwogICAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy50b3RhbENvdW50LDApOwoKICAgICAgICB0b3RhbGluZm8uYXR0YWNoRGF0YUxpc3QucHVzaChhdHRhY2hEYXRhKTsKICAgICAgfSk7CgogICAgICBkYXRhQXJyYXkudW5zaGlmdCh0b3RhbGluZm8pOwoKICAgICAgcmV0dXJuIGRhdGFBcnJheTsKICAgIH0sCgogICAgY2xvc2VQYXJlbnQodW5TZWxlY3RVc2VycywgY29tcGFueUNvZGUsaXNOb25lU2VsZWN0ZWQpIHsKICAgICAgY29uc29sZS5sb2coCiAgICAgICAgIi4uLi4uLmNsb3NlUGFyZW50Li4uLmNvbXBhbnlDb2RlIiArCiAgICAgICAgICBjb21wYW55Q29kZSArCiAgICAgICAgICAiIHVuU2VsZWN0VXNlcnM6IiArCiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh1blNlbGVjdFVzZXJzKQogICAgICApOwoKICAgICAgdGhpcy5kaWFsb2dfcGVyc29uID0gZmFsc2U7CgogICAgICAvL+ayoeaciemAieaLqTHkuKrkuroKICAgICAgaWYgKGlzTm9uZVNlbGVjdGVkKSB7CiAgICAgICAgdGhpcy5jaGVja2VkTmFtZXMuc3BsaWNlKHRoaXMuY2hlY2tlZE5hbWVzLmluZGV4T2YoY29tcGFueUNvZGUpLCAxKTsKICAgICAgICB0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uc2V0KGNvbXBhbnlDb2RlLFtdKTsKICAgICAgICBjb25zb2xlLmxvZygiY2hlY2tlZE5hbWVzIHNwbGljZToiICsgY29tcGFueUNvZGUpOwogICAgICB9ZWxzZSBpZih1blNlbGVjdFVzZXJzLmxlbmd0aD4wKXsvL+mAieaLqeS6huWFtuS4reWHoOS4quS6ugogICAgICAgIHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5zZXQoY29tcGFueUNvZGUsdW5TZWxlY3RVc2Vycyk7CiAgICAgICAgaWYodGhpcy5jaGVja2VkTmFtZXMuaW5kZXhPZihjb21wYW55Q29kZSk8MCl7CiAgICAgICAgICB0aGlzLmNoZWNrZWROYW1lcy5wdXNoKGNvbXBhbnlDb2RlKTsKICAgICAgICB9CiAgICAgIH1lbHNley8v6YCJ5oup5LqG5omA5pyJ5Lq6CiAgICAgICAgaWYodGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmhhcyhjb21wYW55Q29kZSkpewogICAgICAgICAgICB0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uZGVsZXRlKGNvbXBhbnlDb2RlKTsgICAgICAgICAgCiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmVudHJpZXMoKSkgewogICAgICAgIGNvbnNvbGUubG9nKCJzZWxlY3RDb21wYW55SW5mbzoiICsgdmFsdWUsIGtleSk7CiAgICAgIH0KICAgIH0sCiAgICAvL+WFs+mXrQogICAgYnRfY2xvc2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCIuLi4uLi7lhbPpl63mjInpkq4uLi4uLi4uIik7CiAgICAgIGxldCB0bXBTZWxlY3RDb21hbnlJbmZvTWFwSW5mbyA9IHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mbzsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VkQ2hpbGQiLCB0bXBTZWxlY3RDb21hbnlJbmZvTWFwSW5mbyk7CiAgICB9LAogICAgLy/lvZN0YWJsZSByb3cgY2xpY2vml7bop6blj5EgLSDooajnpLrlhajpg6jvvIzmraTml7bnmoTkvKDlgLwKICAgIGNsaWNrUm93OiBmdW5jdGlvbiAodHlwZSwgaWQpIHsKICAgICAgY29uc29sZS5sb2coIi4uLi5jbGlja1Jvdy4uLi50eXBlOiIgKyB0eXBlICsgIiBpZDoiICsgaWQpOwogICAgICB0aGlzLnNlbGVjdENvbXBhbnlDb2RlID0gaWQgPT0gIi0iID8gIiIgOiBpZDsKICAgICAgdGhpcy5zZWxlY3RTdGF0aXN0aWNzU3RhdHVzID0gdHlwZTsKICAgICAgdGhpcy5kaWFsb2dfcGVyc29uID0gdHJ1ZTsKICAgIH0sCiAgICBjaGFuZ2VBbGxDaGVja2VkOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLmNoZWNrZWRBbGwpIHsKICAgICAgICB0aGlzLmNoZWNrZWRBcnIuZm9yRWFjaCgoaW5mbykgPT4gewogICAgICAgICAgdGhpcy5jaGVja2VkTmFtZXMucHVzaChpbmZvKTsKICAgICAgICB9KTsKCiAgICAgICAgY29uc29sZS5sb2coImNoZWNrZWRBcnI6IiArIEpTT04uc3RyaW5naWZ5KHRoaXMuY2hlY2tlZEFycikpOwogICAgICAgIGNvbnNvbGUubG9nKCJjaGVja2VkTmFtZXM6IiArIEpTT04uc3RyaW5naWZ5KHRoaXMuY2hlY2tlZE5hbWVzKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jaGVja2VkTmFtZXMgPSBbXTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["statisticalReportSupplierView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"statisticalReportSupplierView.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card class=\"mx-auto\">\n    <v-toolbar dense color=\"#1867C0\">\n      <v-btn icon>\n        <v-icon color=\"white\" @click=\"bt_close\"> mdi-close </v-icon>\n      </v-btn>\n      <v-toolbar-title class=\"body-1 white--text\">统计报告</v-toolbar-title>\n    </v-toolbar>\n    <div class=\"pl-8 pr-8 pt-4\">\n      <span class=\"body-1 grey--text text--darken-3\"> 经销商 </span>\n      <template>\n        <loading v-if=\"loadingview\" /> \n        <v-data-table\n          v-else\n          :headers=\"headers\"\n          :items=\"desserts_area\"\n          item-key=\"area\"\n          :search=\"search_sele\"\n          class=\"mt-8 elevation-1\"\n          hide-default-footer\n        >\n          <template v-slot:body=\"{ items }\">\n            <tbody v-if=\"items.length > 0\">\n              <tr v-for=\"(item, iindex) in desserts_area\" :key=\"item.supnumber\">\n                <td>{{item.supnumber }}</td>\n                <td>\n                  <template\n                    v-if=\"statisticsStatusParam == STATISTICSSTATUS_TYPE_READ && readStatusParam==STATUS_UNREAD && areaparam!=''\"\n                  >\n                    <v-checkbox\n                      v-if=\"iindex === 0\"\n                      v-model=\"checkedAll\"\n                      :label=\"item.supname\"\n                      @change=\"changeAllChecked\"\n                    ></v-checkbox>\n                    <v-checkbox\n                      v-else\n                      v-model=\"checkedNames\"\n                      :value=\"item.supnumber\"\n                      :label=\"item.supname\"\n                    ></v-checkbox>\n                  </template>\n                  <template v-else>\n                    {{ item.supname }}\n                  </template>\n                </td>\n                <td\n                  @click=\"clickRow(STATISTICSSTATUS_TYPE_READ, item.supnumber)\"\n                >\n                   <span style=\"color: #1867c0\">{{\n                    item.readingStatisticsCount\n                  }}</span\n                  >/{{ item.readingTotalCount }} {{ item.readingPercentage }}%\n                </td>\n                <td\n                  @click=\"clickRow(STATISTICSSTATUS_TYPE_REPLY, item.supnumber)\"\n                >\n                  <span style=\"color: #1867c0\">{{\n                    item.replyStatisticsCount\n                  }}</span\n                  >/{{ item.replyTotalCount }} {{ item.replyPercentage }}%\n                </td>\n\n                <td\n                  v-for=\"attachment in item.attachDataList\"\n                  :key=\"attachment.id\"\n                  @click=\"clickRow(STATISTICSSTATUS_TYPE_ATTACH, item.id)\"\n                >\n                  <span style=\"color: #1867c0\">{{\n                    attachment.valueStatisticsCount\n                  }}</span\n                  >/{{ attachment.valueTotalCount }}\n                  {{ attachment.valuePercentage }}%\n                </td>\n              </tr>\n            </tbody>\n            <tbody v-else>\n              <tr>\n                <td :colspan=\"headers.length\" style=\"text-align: center\">\n                  No Results Here!\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-data-table>\n\n        <v-dialog\n          v-model=\"dialog_person\"\n          fullscreen\n          hide-overlay\n          transition=\"dialog-bottom-transition\"\n        >\n          <ReportPersonView\n            @closedChild=\"closeParent\"\n            :areaparam=\"this.areaparam\"\n            :msgIDParam=\"msgIDParam\"\n            :readStatusParam=\"readStatusParam\"\n            :statisticsStatusParam=\"selectStatisticsStatus\"\n            :attachmentIdParam=\"attachmentIdParam\"\n            :openStatus=\"dialog_person\"\n            :selectTypeValueParam=\"this.selectTypeValueParam\"\n            :companyCodeParam=\"selectCompanyCode\"\n            :unSelectCompanyInfos=\"unSelectComanyInfoMapInfo\"\n            :feebackBackType = \"feebackBackType\"\n          ></ReportPersonView>\n        </v-dialog>\n\n        <v-divider class=\"#E4E8EB\"></v-divider>\n      </template>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport ReportPersonView from \"@/components/statisticalReportPersonView.vue\";\nimport { getDealerReport } from \"@/api/getData.js\";\nimport { roundFun } from \"@/utils/stringUtils.js\";\n\nexport default {\n  name: \"statisticalReportSupplierView\",\n  props: {\n    openStatus: {\n      type: Boolean,\n    },\n    areaparam: {\n      type: String,\n    },\n\n    msgIDParam: {\n      type: String,\n    },\n    readStatusParam: {\n      type: Number,\n    },\n    statisticsStatusParam: {\n      type: Number,\n    },\n    //反馈类型\n    feebackBackType:{\n      type:Number\n    },\n    attachmentIdParam: {\n      type: Number,\n    },\n    selectTypeValueParam: {\n      type: String,\n    },\n  },\n  components: {\n    ReportPersonView,\n    loading: () => import(\"@/components/base/loading.vue\"),\n  },\n\n  data() {\n    return {\n      //统计查询类型 0: 阅读类型查询 1: 附件类型查询 2: 回复类型查询\n      STATISTICSSTATUS_TYPE_READ: 0,\n      STATISTICSSTATUS_TYPE_ATTACH: 1,\n      STATISTICSSTATUS_TYPE_REPLY: 2,\n      dialog: this.open,\n      dialog_person: false,\n      search_sele: \"\",\n      selected_area: [],\n      expanded: [],\n      headers: [],\n      desserts_area: [],\n      selectCompanyCode: \"\",\n      selectStatisticsStatus: 0,\n\n        //加载状态\n      loadingview: true,\n\n      //状态：已读、未读\n      STATUS_UNREAD: 1,\n\n      unSelectComanyInfoMapInfo: new Map(),\n\n      //start 全选参数\n      checkedAll: true,\n      //所有选中的companyCode\n      checkedNames: [],\n      checkedArr: [],\n      //end 全选参数\n    };\n  },\n\n  mounted() {\n    console.log(\"---- mounted ----\");\n\n    this.getDealerReportService();\n  },\n\n  watch: {\n    openStatus(newV) {\n      console.log(\"openStatus:\" + newV);\n      //由不可见到可见\n      if (newV) {\n        this.getDealerReportService();\n      }\n    },\n    checkedNames: function () {\n      if (this.checkedNames.length == this.checkedArr.length) {\n        this.checkedAll = true;\n      } else {\n        this.checkedAll = false;\n      }\n\n      //更新选择数组\n      this.updateSelectComanyInfoMapInfo();\n    },\n  },\n\n  methods: {\n    updateSelectComanyInfoMapInfo() {\n      this.checkedArr.forEach((companyCode=>{\n          //如果选中,取消该公司定义\n          if(this.checkedNames.indexOf(companyCode)>=0){              \n              if(this.unSelectComanyInfoMapInfo.has(companyCode)){\n                  let unselectUserList = this.unSelectComanyInfoMapInfo.get(companyCode);\n                  if(unselectUserList.length==0){\n                      console.log(\"has companyCode:\"+companyCode+\" remove:\"+this.unSelectComanyInfoMapInfo.size);\n                      this.unSelectComanyInfoMapInfo.delete(companyCode); \n                      console.log(\"after remove:\"+this.unSelectComanyInfoMapInfo.size);               \n                  }\n              }\n          }else{//如果都不在选择内\n              this.unSelectComanyInfoMapInfo.set(companyCode,[]);\n          }\n      }));\n    },\n\n    getDealerReportService() {\n      this.headers = [];\n      this.desserts_area = [];\n      this.loadingview =true;\n\n      getDealerReport({\n        area: this.areaparam,\n        msgId: this.msgIDParam,\n        level: 1,\n        readStatus: this.readStatusParam,\n        statisticsStatus: this.statisticsStatusParam,\n        attachmentId: this.attachmentIdParam,\n        dealerType: this.selectTypeValueParam,\n      })\n        .then((res) => {\n          console.log(\"getSuppilerListData receive:\" + JSON.stringify(res));\n\n          if (res.data == null) {\n            console.log(\"data size is 0\");\n            return;\n          }\n\n          this.headers = this.initHeaderData(res.data.dataList);\n          this.desserts_area = this.initBodyData(res.data.dataList);\n\n          this.checkedAll = this.checkedNames.length == this.checkedArr.length;\n        })\n        .catch((res) => {\n          console.log(res);\n        }).finally(()=>{\n          this.loadingview = false;\n        });\n    },\n\n    //构建单个header头信息\n    buildHeaderBean(text, value) {\n      let headerBean = {};\n      headerBean.text = text;\n      headerBean.value = value;\n      headerBean.width = \"10rem\";\n      headerBean.align = \"left\";\n\n      return headerBean;\n    },\n\n    //初始化Header的数据\n    initHeaderData(data) {\n      let headerDataArray = [];\n\n      headerDataArray.push(this.buildHeaderBean(\"经销商编号\", \"supnumber\"));\n      headerDataArray.push(this.buildHeaderBean(\"经销商名称\", \"supname\"));\n      if(this.readStatusParam == this.STATUS_UNREAD){\n          headerDataArray.push(this.buildHeaderBean(\"未读统计\", \"reading\"));\n      }else{\n          headerDataArray.push(this.buildHeaderBean(\"已读统计\", \"reading\"));\n      }   \n      headerDataArray.push(this.buildHeaderBean(\"已回复统计\", \"reply\"));\n\n      let attachNameList = [];\n\n      data.forEach((supplierData)=>{\n          if(supplierData.attachmentStatistics!=null&&supplierData.attachmentStatistics.length>0\n            &&attachNameList.length==0){            \n              supplierData.attachmentStatistics.forEach((attachmentStatistics) => {\n              let attachmentName = attachmentStatistics.attachmentName.slice(\n                attachmentStatistics.attachmentName.lastIndexOf(\"/\") + 1\n              );\n\n              attachNameList.push(\n                this.buildHeaderBean(\n                  \"已下载统计(\" + attachmentName + \")\",\n                  attachmentStatistics.attachmentId\n                )\n              );\n            });          \n          }\n      });  \n\n      attachNameList.forEach((headerBean)=>{\n          headerDataArray.push(headerBean);\n      });\n\n      return headerDataArray;\n    },\n\n    initBodyData(data) {\n      this.checkedArr = [];\n      this.checkedNames = [];\n\n      let dataArray = [];\n      let totalinfo = {};\n      let totalAttachmentStatistics = [];\n\n      let readStatisticsCount = 0,\n        readStatisticsTotalCount = 0;\n      let feedbackStatisticsCount = 0,\n        feedbackStatisticsTotalCount = 0;\n\n      data.forEach((supplierData) => {\n        let bodyBean = {};\n        \n        this.checkedArr.push(supplierData.companyCode);\n        \n        let userInfoList= this.unSelectComanyInfoMapInfo.get(supplierData.companyCode);\n        if(userInfoList==undefined || userInfoList.length>0){\n            this.checkedNames.push(supplierData.companyCode);\n        }\n\n        bodyBean.supnumber = supplierData.companyCode;\n        bodyBean.supname = supplierData.companyName;\n        bodyBean.selected = true;\n\n        if(supplierData.readStatistics==null){\n          bodyBean.readingStatisticsCount = 0;        \n          bodyBean.readingTotalCount= 0;\n          bodyBean.readingPercentage = 0;\n\n        }else{\n          bodyBean.readingStatisticsCount = supplierData.readStatistics.statisticsCount;        \n          bodyBean.readingTotalCount= supplierData.readStatistics.totalCount;\n          bodyBean.readingPercentage = supplierData.readStatistics.percentage;\n        }\n\n        readStatisticsCount += bodyBean.readingStatisticsCount;\n        readStatisticsTotalCount += bodyBean.readingTotalCount;\n\n        if(supplierData.feedBackStatistics==null){\n            bodyBean.replyStatisticsCount = 0;\n            bodyBean.replyTotalCount = 0;\n            bodyBean.replyPercentage = 0;\n        }else{\n            bodyBean.replyStatisticsCount = supplierData.feedBackStatistics.statisticsCount;\n            bodyBean.replyTotalCount = supplierData.feedBackStatistics.totalCount;\n            bodyBean.replyPercentage = supplierData.feedBackStatistics.percentage;\n        }             \n\n        feedbackStatisticsCount += bodyBean.replyStatisticsCount;\n        feedbackStatisticsTotalCount += bodyBean.replyTotalCount;\n        \n        let attachDataList = [];\n\n        if(supplierData.attachmentStatistics!=null){\n            supplierData.attachmentStatistics.forEach(\n              (attachmentStatistics, index) => {\n                let attachData = {};\n                if (totalAttachmentStatistics[index] == undefined) {\n                  totalAttachmentStatistics[index] = {\n                    id: \"\",\n                    statisticsCount: 0,\n                    totalCount: 0,\n                  };\n                }\n\n                attachData.id = attachmentStatistics.attachmentId;\n\n                attachData.valueStatisticsCount = attachmentStatistics.dealerStatistics.statisticsCount;\n                attachData.valueTotalCount = attachmentStatistics.dealerStatistics.totalCount;\n                attachData.valuePercentage = attachmentStatistics.dealerStatistics.percentage;          \n\n                totalAttachmentStatistics[index].id =\n                  attachmentStatistics.attachmentId;\n                totalAttachmentStatistics[index].statisticsCount +=\n                  attachmentStatistics.dealerStatistics.statisticsCount;\n                totalAttachmentStatistics[index].totalCount +=\n                  attachmentStatistics.dealerStatistics.totalCount;\n\n                attachDataList.push(attachData);\n              }\n            );            \n        }\n\n        bodyBean.attachDataList = attachDataList;\n\n        dataArray.push(bodyBean);\n      });\n\n      totalinfo.supnumber = \"-\";\n      totalinfo.supname = \"合计\";\n      totalinfo.selected = true;\n\n      totalinfo.readingStatisticsCount = readStatisticsCount;\n      totalinfo.readingTotalCount = readStatisticsTotalCount;\n      totalinfo.readingPercentage = roundFun((readStatisticsCount * 100) / readStatisticsTotalCount,0);\n\n      totalinfo.replyStatisticsCount = feedbackStatisticsCount;\n      totalinfo.replyTotalCount = feedbackStatisticsTotalCount;\n      totalinfo.replyPercentage = roundFun((feedbackStatisticsCount * 100) / feedbackStatisticsTotalCount,0);\n\n      totalinfo.attachDataList = [];\n      totalAttachmentStatistics.forEach((attachmentStatistics) => {\n        let attachData = {};\n\n        attachData.id = attachmentStatistics.attachmentId;\n        attachData.valueStatisticsCount = attachmentStatistics.statisticsCount;\n        attachData.valueTotalCount = attachmentStatistics.totalCount;\n        attachData.valuePercentage = roundFun((attachmentStatistics.statisticsCount * 100) /\n            attachmentStatistics.totalCount,0);\n\n        totalinfo.attachDataList.push(attachData);\n      });\n\n      dataArray.unshift(totalinfo);\n\n      return dataArray;\n    },\n\n    closeParent(unSelectUsers, companyCode,isNoneSelected) {\n      console.log(\n        \"......closeParent....companyCode\" +\n          companyCode +\n          \" unSelectUsers:\" +\n          JSON.stringify(unSelectUsers)\n      );\n\n      this.dialog_person = false;\n\n      //没有选择1个人\n      if (isNoneSelected) {\n        this.checkedNames.splice(this.checkedNames.indexOf(companyCode), 1);\n        this.unSelectComanyInfoMapInfo.set(companyCode,[]);\n        console.log(\"checkedNames splice:\" + companyCode);\n      }else if(unSelectUsers.length>0){//选择了其中几个人\n        this.unSelectComanyInfoMapInfo.set(companyCode,unSelectUsers);\n        if(this.checkedNames.indexOf(companyCode)<0){\n          this.checkedNames.push(companyCode);\n        }\n      }else{//选择了所有人\n        if(this.unSelectComanyInfoMapInfo.has(companyCode)){\n            this.unSelectComanyInfoMapInfo.delete(companyCode);          \n        }\n      }\n\n      for (let [key, value] of this.unSelectComanyInfoMapInfo.entries()) {\n        console.log(\"selectCompanyInfo:\" + value, key);\n      }\n    },\n    //关闭\n    bt_close() {\n      console.log(\"......关闭按钮.......\");\n      let tmpSelectComanyInfoMapInfo = this.unSelectComanyInfoMapInfo;\n      this.$emit(\"closedChild\", tmpSelectComanyInfoMapInfo);\n    },\n    //当table row click时触发 - 表示全部，此时的传值\n    clickRow: function (type, id) {\n      console.log(\"....clickRow....type:\" + type + \" id:\" + id);\n      this.selectCompanyCode = id == \"-\" ? \"\" : id;\n      this.selectStatisticsStatus = type;\n      this.dialog_person = true;\n    },\n    changeAllChecked: function () {\n      if (this.checkedAll) {\n        this.checkedArr.forEach((info) => {\n          this.checkedNames.push(info);\n        });\n\n        console.log(\"checkedArr:\" + JSON.stringify(this.checkedArr));\n        console.log(\"checkedNames:\" + JSON.stringify(this.checkedNames));\n      } else {\n        this.checkedNames = [];\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}