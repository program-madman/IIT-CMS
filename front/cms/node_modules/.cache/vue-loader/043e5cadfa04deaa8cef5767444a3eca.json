{"remainingRequest":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/views/page/articleList/pageLoader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/views/page/articleList/pageLoader.vue","mtime":1640614934057},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IERlYm91bmNlIH0gZnJvbSAiQC91dGlscy90b29scy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBtb3VudGVkKCl7CiAgICBsZXQgdG9wQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvLXRvcC1idG4nKTsKICAgIHRvcEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMub25TY3JvbGwpOwogIH0sCiAgbWV0aG9kczp7CiAgICBvblNjcm9sbDpEZWJvdW5jZShmdW5jdGlvbigpIHsKICAgICAgY29uc29sZS5sb2coIjw9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0+IikKICAgICAgbGV0IHRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7IC8vIOa7muWKqOadoeWcqFnovbTkuIrnmoTmu5rliqjot53nprsKICAgICAgbGV0IHZoID0KICAgICAgICBkb2N1bWVudC5jb21wYXRNb2RlID09ICJDU1MxQ29tcGF0IgogICAgICAgICAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0CiAgICAgICAgICA6IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyDmtY/op4jlmajop4blj6PnmoTpq5jluqYKICAgICAgbGV0IGhlaWdodCA9IE1hdGgubWF4KAogICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LAogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQKICAgICAgKTsgLy8g5paH5qGj55qE5oC76auY5bqmCiAgICAgIAogICAgICBsZXQgdG9wQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvLXRvcC1idG4nKTsKICAgICAgaWYodG9wID4gd2luZG93LmlubmVySGVpZ2h0KXsKICAgICAgICB0b3BCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgIH1lbHNlewogICAgICAgIHRvcEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB9CiAgICAgIGlmICh0b3AgKyB2aCA+PSBoZWlnaHQtNTAwKSB7CiAgICAgICAgLy8g5rua5Yqo5Yiw5bqV6YOoIHRoaXMuZ2V0RGF0YSgpOyAvLyDlpoLmnpzlt7Lnu4/mu5rliLDlupXkuoYg6I635Y+W5pWw5o2uCiAgICAgICAgdGhpcy4kZW1pdCgib25Mb2FkTW9yZSIpOwogICAgICB9CiAgICB9KSwKICAgIGJhY2tUb3AoKSB7CiAgICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgbGV0IG9zVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsKICAgICAgICAgIGxldCBpc3BlZWQgPSBNYXRoLmZsb29yKC1vc1RvcCAvIDUpOwogICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gb3NUb3AgKyBpc3BlZWQ7CiAgICAgICAgICB0aGlzLmlzVG9wID0gdHJ1ZTsKICAgICAgICAgIGlmIChvc1RvcCA9PT0gMCkgewogICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgIH0KICAgICAgICB9LCAzMCkKICAgIH0sCiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpOwogIH0sCgp9Cg=="},{"version":3,"sources":["pageLoader.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"pageLoader.vue","sourceRoot":"src/views/page/articleList","sourcesContent":["<template>\n  <v-btn id=\"to-top-btn\" style=\"position:fixed;top:90%;right:50px;\" fab dark\n            small color=\"primary\" @click=\"backTop\">\n            <v-icon>\n              mdi-arrow-up\n            </v-icon>\n          </v-btn>\n</template>\n<script>\nimport { Debounce } from \"@/utils/tools.js\";\nexport default {\n  mounted(){\n    let topBtn = document.getElementById('to-top-btn');\n    topBtn.style.display = 'none';\n    window.addEventListener(\"scroll\", this.onScroll);\n  },\n  methods:{\n    onScroll:Debounce(function() {\n      console.log(\"<================================================>\")\n      let top = document.documentElement.scrollTop || document.body.scrollTop; // 滚动条在Y轴上的滚动距离\n      let vh =\n        document.compatMode == \"CSS1Compat\"\n          ? document.documentElement.clientHeight\n          : document.body.clientHeight; // 浏览器视口的高度\n      let height = Math.max(\n        document.body.scrollHeight,\n        document.documentElement.scrollHeight\n      ); // 文档的总高度\n      \n      let topBtn = document.getElementById('to-top-btn');\n      if(top > window.innerHeight){\n        topBtn.style.display = 'block';\n      }else{\n        topBtn.style.display = 'none';\n      }\n      if (top + vh >= height-500) {\n        // 滚动到底部 this.getData(); // 如果已经滚到底了 获取数据\n        this.$emit(\"onLoadMore\");\n      }\n    }),\n    backTop() {\n        var timer = setInterval(function () {\n          let osTop = document.documentElement.scrollTop || document.body.scrollTop;\n          let ispeed = Math.floor(-osTop / 5);\n          document.documentElement.scrollTop = document.body.scrollTop = osTop + ispeed;\n          this.isTop = true;\n          if (osTop === 0) {\n            clearInterval(timer);\n          }\n        }, 30)\n    },\n  },\n  destroyed() {\n     window.removeEventListener('scroll', this.onScroll);\n  },\n\n}\n</script>\n"]}]}