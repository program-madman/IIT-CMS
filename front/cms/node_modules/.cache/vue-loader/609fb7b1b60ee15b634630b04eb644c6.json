{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleList/pageLoader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/articleList/pageLoader.vue","mtime":1638103240534},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbW91bnRlZCgpewogICAgbGV0IHRvcEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0by10b3AtYnRuJyk7CiAgICB0b3BCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLm9uU2Nyb2xsKTsKICB9LAogIG1ldGhvZHM6ewogICAgb25TY3JvbGwoKSB7CiAgICAgIGxldCB0b3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOyAvLyDmu5rliqjmnaHlnKhZ6L205LiK55qE5rua5Yqo6Led56a7CiAgICAgIGxldCB2aCA9CiAgICAgICAgZG9jdW1lbnQuY29tcGF0TW9kZSA9PSAiQ1NTMUNvbXBhdCIKICAgICAgICAgID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodAogICAgICAgICAgOiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsgLy8g5rWP6KeI5Zmo6KeG5Y+j55qE6auY5bqmCiAgICAgIGxldCBoZWlnaHQgPSBNYXRoLm1heCgKICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCwKICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0CiAgICAgICk7IC8vIOaWh+aho+eahOaAu+mrmOW6pgogICAgICAKICAgICAgbGV0IHRvcEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0by10b3AtYnRuJyk7CiAgICAgIGlmKHRvcCA+IHdpbmRvdy5pbm5lckhlaWdodCl7CiAgICAgICAgdG9wQnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICB9ZWxzZXsKICAgICAgICB0b3BCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgfQogICAgICBpZiAodG9wICsgdmggPj0gaGVpZ2h0KSB7CiAgICAgICAgLy8g5rua5Yqo5Yiw5bqV6YOoIHRoaXMuZ2V0RGF0YSgpOyAvLyDlpoLmnpzlt7Lnu4/mu5rliLDlupXkuoYg6I635Y+W5pWw5o2uCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLiRlbWl0KCJvbkxvYWRNb3JlIik7CiAgICAgIH0KICAgIH0sCiAgICBiYWNrVG9wKCkgewogICAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGxldCBvc1RvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CiAgICAgICAgICBsZXQgaXNwZWVkID0gTWF0aC5mbG9vcigtb3NUb3AgLyA1KTsKICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IG9zVG9wICsgaXNwZWVkOwogICAgICAgICAgdGhpcy5pc1RvcCA9IHRydWU7CiAgICAgICAgICBpZiAob3NUb3AgPT09IDApIHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICB9CiAgICAgICAgfSwgMzApCiAgICB9LAogIH0sCiAgZGVzdHJveWVkKCkgewogICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTsKICB9LAoKfQo="},{"version":3,"sources":["pageLoader.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"pageLoader.vue","sourceRoot":"src/views/page/articleList","sourcesContent":["<template>\n  <v-btn id=\"to-top-btn\" style=\"position:fixed;top:90%;right:50px;\" fab dark\n            small color=\"primary\" @click=\"backTop\">\n            <v-icon>\n              mdi-arrow-up\n            </v-icon>\n          </v-btn>\n</template>\n<script>\n\nexport default {\n  mounted(){\n    let topBtn = document.getElementById('to-top-btn');\n    topBtn.style.display = 'none';\n    window.addEventListener(\"scroll\", this.onScroll);\n  },\n  methods:{\n    onScroll() {\n      let top = document.documentElement.scrollTop || document.body.scrollTop; // 滚动条在Y轴上的滚动距离\n      let vh =\n        document.compatMode == \"CSS1Compat\"\n          ? document.documentElement.clientHeight\n          : document.body.clientHeight; // 浏览器视口的高度\n      let height = Math.max(\n        document.body.scrollHeight,\n        document.documentElement.scrollHeight\n      ); // 文档的总高度\n      \n      let topBtn = document.getElementById('to-top-btn');\n      if(top > window.innerHeight){\n        topBtn.style.display = 'block';\n      }else{\n        topBtn.style.display = 'none';\n      }\n      if (top + vh >= height) {\n        // 滚动到底部 this.getData(); // 如果已经滚到底了 获取数据\n        this.loading = true;\n        this.$emit(\"onLoadMore\");\n      }\n    },\n    backTop() {\n        var timer = setInterval(function () {\n          let osTop = document.documentElement.scrollTop || document.body.scrollTop;\n          let ispeed = Math.floor(-osTop / 5);\n          document.documentElement.scrollTop = document.body.scrollTop = osTop + ispeed;\n          this.isTop = true;\n          if (osTop === 0) {\n            clearInterval(timer);\n          }\n        }, 30)\n    },\n  },\n  destroyed() {\n     window.removeEventListener('scroll', this.onScroll);\n  },\n\n}\n</script>\n"]}]}