{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/editAuthority.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/editAuthority.vue","mtime":1641473471457},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEF1dGhvcml0eU1lbnUsYWRkVGVtcGxhdGUsdXBkYXRlVGVtcGxhdGV9IGZyb20gIkAvYXBpL2dldERhdGEuanMiOwppbXBvcnQgIkAvdXRpbHMvdGltZUZvcm1hdGUuanMiOwppbXBvcnQge3RyYW5zZm9ybWF0aW9uQXV0aG9yaXR5fSBmcm9tICJAL3V0aWxzL3RlbXBsYXRlVXRpbHMuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG9wZW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgdGVtcGxhdGU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiAoKSB7fSwKICAgIH0sCgogICAgZGVwYXJ0bWVudDogewogICAgICB0eXBlOiBbXSwKICAgICAgZGVmYXVsdDogW10sCiAgICB9LAogIH0sCiAgY29tcG9uZW50czogewogICAgY29uZmlybTogKCkgPT4gaW1wb3J0KCJAL2NvbXBvbmVudHMvYmFzZS9jb25mb3JtLnZ1ZSIpLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wZW5UcmVlOltdLAogICAgICBzdWJtaXRpbmc6IGZhbHNlLAogICAgICB0eXBlQWRkOiJhZGQiLAogICAgICB0eXBlVXBkYXRlOiJ1cGRhdGUiLAogICAgICBsZWF2ZU5vdGlmeTogIuaCqOW9k+WJjeacieS/ruaUueeahOS/oeaBr+acquS/neWtmO+8jOemu+W8gOW9k+WJjemhtemdouaCqOi+k+WFpeeahOS/oeaBr+WwhuS4jeS8muiiq+S/neWtmOOAgiIsCiAgICAgIGFkZEVycm9yVGV4dDoi5re75Yqg5p2D6ZmQ5qih5p2/5aSx6LSlLOivt+eojeWQjuWGjeivlS4uLiIsCiAgICAgIHVwZGF0ZUVycm9yVGV4dDoi5pu05paw5p2D6ZmQ5qih5p2/5aSx6LSlLOivt+eojeWQjuWGjeivlS4uLiIsCiAgICAgIHRpbWVvdXQ6IDIwMDAsCiAgICAgIGNhdXRpb246IGZhbHNlLAogICAgICAvL2RlbGV0ZVRlbXBsYXRlOmZhbHNlLAogICAgICBjYXV0aW9uVGV4dDoiIiwKICAgICAgLy/ooqvmjojmnYPnmoTpg6jpl6gKICAgICAgd2l0aGluRGVwdHM6IFtdLAogICAgICAvL+W+heaOiOadg+eahOmDqOmXqAogICAgICB3aXRob3V0RGVwdHM6IFtdLAogICAgICAvL+aooeadv+WQjeensAogICAgICB0ZW1wbGF0ZU5hbWU6ICIiLAogICAgICAvL+aooeadv+aPj+i/sAogICAgICBzdW1tYXJ5OiAiIiwKICAgICAgLy/mqKHmnb/mj4/ov7DlrZfnrKbpmZDliLYKICAgICAgcnVsZXM6IFsodikgPT4gdi5sZW5ndGggPD0gNjUgfHwgIuacgOWkmui+k+WFpTY15a2X5o+P6L+wIl0sCiAgICAgIGRpYWxvZzogdGhpcy5vcGVuLAogICAgICAvL+adg+mZkOWIl+ihqAogICAgICBhdXRob3JpdHlNZW51OiBbXSwKICAgICAgLy/pu5jorqTpgInkuK3nirbmgIEKICAgICAgc2VsZWN0aW9uOiBbXSwKICAgICAgLy89PT09PT09PT09PT0g5Yid5aeL5YyW55qE5YC877yM6ZyA6KaB5YGa5a+55q+U5Yik5pat77yM5piv5LiN5piv5omA5pyJ5a2X5q616YO95pu05pS56L+HID09PT09PT09PT09PT09PT0KICAgICAgLy/ooqvmjojmnYPnmoTpg6jpl6gKICAgICAgb3JpZ2luYWxXaXRoaW5EZXB0czogW10sCiAgICAgIC8v5qih5p2/5ZCN56ewCiAgICAgIG9yaWdpbmFsVGVtcGxhdGVOYW1lOiAiIiwKICAgICAgLy/mqKHmnb/mj4/ov7AKICAgICAgb3JpZ2luYWxTdW1tYXJ5OiAiIiwKICAgICAgLy/pu5jorqTpgInkuK3nirbmgIEKICAgICAgb3JpZ2luYWxTZWxlY3Rpb246IFtdLAogICAgfTsKICB9LAoKCiAgbWV0aG9kczogewogIAogICAgbm90aWZpeVVzZXIoY29udGVudCkgewogICAgICB0aGlzLiRyZWZzLmNvbmZpcm0KICAgICAgICAuY29uZmlybShjb250ZW50KQogICAgICAgIC50aGVuKCgpID0+IHRoaXMuY2xvc2UoKSkKICAgICAgICAuY2F0Y2goKCkgPT4ge30pOyAgICAgIAogICAgfSwKCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VEaWFsb2ciKTsKICAgIH0sCgogICAgb25Db25maXJtKCkgewogICAgIAogICAgICBsZXQgZW1wdHkgPSB0aGlzLmNoZWNrRW1wdHkoKQogICAgICBpZiAoZW1wdHlbMF0pIHsKICAgICAgICB0aGlzLmNhdXRpb25UZXh0PSLmgqjpnIDopoHloavlhpnmqKHmnb/lkI3np7AiCiAgICAgICAgdGhpcy5jYXV0aW9uID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChlbXB0eVsxXSkgewogICAgICAgIHRoaXMuY2F1dGlvblRleHQ9IuaCqOmcgOimgeWhq+WGmeaooeadv+aPj+i/sCI7CiAgICAgICAgdGhpcy5jYXV0aW9uID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChlbXB0eVsyXSkgewogICAgICAgIHRoaXMuY2F1dGlvblRleHQ9IuaCqOmcgOimgea3u+WKoOaOiOadg+mDqOmXqCI7CiAgICAgICAgdGhpcy5jYXV0aW9uID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmNhdXRpb25UZXh0PSLor7foh7PlsJHmt7vliqDkuIDkuKrmnYPpmZAiOwogICAgICAgIHRoaXMuY2F1dGlvbiA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZihKU09OLnN0cmluZ2lmeSh0aGlzLnRlbXBsYXRlKSA9PT0gInt9IikgewogICAgICAgIC8v5re75Yqg5LiA5Liq5paw55qE5qih5p2/CiAgICAgICAgIHRoaXMuc3VibWl0VGVtcGxhdGUodGhpcy50eXBlQWRkKTsgCiAgICAgIH1lbHNlIHsKICAgICAgICBpZih0aGlzLmNoZWNrQ2hhZ2UoKSkgewogICAgICAgICAgLy/mj5DkuqTlj5jljJYKICAgICAgICAgICB0aGlzLnN1Ym1pdFRlbXBsYXRlKHRoaXMudHlwZVVwZGF0ZSk7IAogICAgICAgIH1lbHNlIHsKICAgICAgICAgIC8v5rKh5pyJ5Lu75L2V5pS55Y+YCiAgICAgICAgICB0aGlzLmNhdXRpb25UZXh0PSLmgqjmsqHmnInlgZrku7vkvZXmlLnlj5giOwogICAgICAgICAgdGhpcy5jYXV0aW9uID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgb25DYW5jZWwoKSB7IAogICAgICAvL+aWsOWIm+W7uuS4gOS4quaooeadv++8jOeUqOaIt+WPr+iDveS8muaUvuW8g++8jOaJgOS7peaIkeS7rOmcgOimgeWIpOaWreS4i++8jOaYr+S4jeaYr+W3sue7j+WGmeS6humDqOWIhuWtl+auteS6hgogICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodGhpcy50ZW1wbGF0ZSkgPT09ICJ7fSIpIHsKICAgICAgICAKICAgICAgICAvL+ajgOafpeWtl+auteaYr+WQpuacieWPmOWMlgogICAgICAgIGlmKHRoaXMuY2hlY2tDaGFnZSgpKSB7CiAgICAgICAgICB0aGlzLm5vdGlmaXlVc2VyKHRoaXMubGVhdmVOb3RpZnkpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8v5rKh5pyJ5Lu75L2V5Y+Y5YyW77yM5YWz6Zet5bCx5aW9CiAgICAgICAgdGhpcy5jbG9zZSgpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/ov5nmmK/kuIDkuKrnvJbovpHooYzkuLouLi4uLi7mo4Dmn6Xlj4LmlbDmmK/lkKbmnInlj5jljJYKICAgICAgICBpZih0aGlzLmNoZWNrQ2hhZ2UoKSkgewogICAgICAgICAgdGhpcy5ub3RpZml5VXNlcih0aGlzLmxlYXZlTm90aWZ5KQogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvL+ayoeacieS7u+S9leWPmOWMlu+8jOWFs+mXreWwseWlvQogICAgICAgIHRoaXMuY2xvc2UoKSAKICAgICAgfSAKICAgIH0sCgogICAgY2hlY2tFbXB0eSgpIHsKICAgICAgbGV0IHdpdGhpbkRlcHRzQ2hhbmdlID0gdGhpcy53aXRoaW5EZXB0cy5sZW5ndGggPT09IDA7CiAgICAgIGxldCB0ZW1wbGF0ZU5hbWVDaGFuZ2UgPSB0aGlzLnRlbXBsYXRlTmFtZS50cmltKCkgPT09ICIiOwogICAgICBsZXQgc3VtbWFyeUNoYW5nZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuc3VtbWFyeSkgPT09ICJudWxsIiA/IHRydWU6dGhpcy5zdW1tYXJ5LnRyaW0oKSA9PT0gIiI7CiAgICAgIHJldHVybiBbdGVtcGxhdGVOYW1lQ2hhbmdlLHN1bW1hcnlDaGFuZ2Usd2l0aGluRGVwdHNDaGFuZ2VdIAogICAgfSwKCiAgICBjaGVja0NoYWdlKCkgewogICAgICBpZih0aGlzLnRlbXBsYXRlTmFtZS50cmltKCkgIT09IHRoaXMub3JpZ2luYWxUZW1wbGF0ZU5hbWUudHJpbSgpKSB7CiAgICAgICAgY29uc29sZS5sb2coInRlbXBsYXRlTmFtZSBoYWQgY2hhbmdlZCIpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBpZihKU09OLnN0cmluZ2lmeSh0aGlzLnN1bW1hcnkpID09PSAibnVsbCIgPyAiIjp0aGlzLnN1bW1hcnkudHJpbSgpICE9PSB0aGlzLm9yaWdpbmFsU3VtbWFyeSkgewogICAgICAgIGNvbnNvbGUubG9nKCJzdW1tYXJ5IGhhZCBjaGFuZ2VkIik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCJ3aXRoaW5kZXB0cyBsZW5ndGggIit0aGlzLndpdGhpbkRlcHRzLmxlbmd0aCArICIgb3JpZ2luYWxXaXRoaW5EZXB0cyBsZW5ndGggIit0aGlzLm9yaWdpbmFsV2l0aGluRGVwdHMubGVuZ3RoKTsKICAgICAgaWYodGhpcy53aXRoaW5EZXB0cy5sZW5ndGggIT09IHRoaXMub3JpZ2luYWxXaXRoaW5EZXB0cy5sZW5ndGgpIHsKICAgICAgICBjb25zb2xlLmxvZygid2l0aGluRGVwdHMgbGVuZ3RoIG5vdCBtYXRjaCIpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIC8v5qOA5p+l5o6I5p2D6YOo6Zeo5piv5ZCm5pyJ5Y+Y5YyW77yM5LiN6ICD6JmR5pWw57uE6aG65bqP6L+b6KGM5q+U6L6DCiAgICBsZXQgcmVzdWx0RGVwdHMgPSB0aGlzLm9yaWdpbmFsV2l0aGluRGVwdHMuY29uY2F0KFtdKQogICAgICAgICAgLmZpbHRlciggKGkpID0+IXRoaXMud2l0aGluRGVwdHMuZmluZCgoaikgPT4gai5jb21wYW55Q29kZSA9PT0gaS5jb21wYW55Q29kZSkKICAgICAgICAgICAgKS5jb25jYXQodGhpcy53aXRoaW5EZXB0cy5maWx0ZXIoIChpKSA9PiF0aGlzLndpdGhpbkRlcHRzLmZpbmQoKGopID0+IGouY29tcGFueUNvZGUgPT09IGkuY29tcGFueUNvZGUpKSk7CiAgICAKICAgIGlmKHJlc3VsdERlcHRzLmxlbmd0aCA+IDApIHsKICAgICAgICBjb25zb2xlLmxvZygid2l0aGluRGVwdHMgaGFkIGNoYW5nZWQiKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgIGNvbnNvbGUubG9nKCJzZWxlY3Rpb24gbGVuZ3RoICIrdGhpcy5zZWxlY3Rpb24ubGVuZ3RoICsgIiBvcmlnaW5hbFNlbGVjdGlvbiBsZW5ndGggIit0aGlzLm9yaWdpbmFsU2VsZWN0aW9uLmxlbmd0aCk7CiAgICAgIGlmKHRoaXMuc2VsZWN0aW9uLmxlbmd0aCAhPT0gdGhpcy5vcmlnaW5hbFNlbGVjdGlvbi5sZW5ndGgpIHsKICAgICAgICBjb25zb2xlLmxvZygic2VsZWN0aW9uIGxlbmd0aCBub3QgbWF0Y2giKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgbGV0IHJlc3VsdFNlbGVjdGlvbiA9IHRoaXMub3JpZ2luYWxTZWxlY3Rpb24uY29uY2F0KFtdKQogICAgICAgICAgLmZpbHRlciggKGkpID0+IXRoaXMuc2VsZWN0aW9uLmZpbmQoKGopID0+IGouaWQgPT09IGkuaWQpCiAgICAgICAgICAgICkuY29uY2F0KHRoaXMuc2VsZWN0aW9uLmZpbHRlciggKGkpID0+IXRoaXMuc2VsZWN0aW9uLmZpbmQoKGopID0+IGouaWQgPT09IGkuaWQpKSk7CiAgICAgIC8v5oqK5Y+R55Sf5pS55Y+Y55qE5pWw57uE5YaF5a655YmU6Zmk77yM5Y+q5L+d55WZ5rKh5pS55Y+Y55qE44CCCiAgICAgIC8vbGV0IHJlc3VsdCA9IHRoaXMub3JpZ2luYWxTZWxlY3Rpb24uZmlsdGVyKCh2MSkgPT4gdGhpcy5zZWxlY3Rpb24uZmluZCgodjIpID0+IHYxLmlkID09PSB2Mi5pZCkpCiAgICAgIGNvbnNvbGUubG9nKCJyZXN1bHQgPSAiK0pTT04uc3RyaW5naWZ5KHJlc3VsdFNlbGVjdGlvbikpOwogICAgICBpZihyZXN1bHRTZWxlY3Rpb24ubGVuZ3RoID4gMCkgewogICAgICAgIC8v5bey57uP5Y+R55Sf5pS55Y+YCiAgICAgICAgY29uc29sZS5sb2coInNlbGVjdGlvbiBoYWQgY2hhbmdlZCIpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgICBjb25zb2xlLmxvZygibm90aGluZyBjaGFuZ2UiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgCiAgICBzdWJtaXRUZW1wbGF0ZSh0eXBlKSB7CiAgICAgICAgbGV0IHJlc3VsdFRlbXBsYXRlID0ge30KICAgICAgICByZXN1bHRUZW1wbGF0ZS50ZW1wbGF0ZU5hbWUgPSB0aGlzLnRlbXBsYXRlTmFtZTsKICAgICAgICByZXN1bHRUZW1wbGF0ZS5kZXNjID0gdGhpcy5zdW1tYXJ5OwogICAgICAgIHJlc3VsdFRlbXBsYXRlLm9lbUxpc3QgPSB0aGlzLndpdGhpbkRlcHRzOwogICAgICAgIHJlc3VsdFRlbXBsYXRlLnRhcmdldExpc3QgPSB0aGlzLnNlbGVjdGlvbjsKICAgICAgICAKICAgICAgICAvL+aPkOS6pOWIsOacjeWKoeWZqAogICAgICAgIHRoaXMuc3VibWl0aW5nID0gdHJ1ZTsKICAgICAgICAKICAgICAgICBpZih0eXBlID09IHRoaXMudHlwZUFkZCkgewogICAgICAgICAgdGhpcy5vbkFkZFRlbXBsYXRlKHJlc3VsdFRlbXBsYXRlKQogICAgICAgIH0gZWxzZSBpZih0eXBlID09IHRoaXMudHlwZVVwZGF0ZSkgewogICAgICAgICAgIHRoaXMub25VcGRhdGVUZW1wbGF0ZShyZXN1bHRUZW1wbGF0ZSkKICAgICAgICB9CiAgICB9LAoKICAgIG9uQWRkVGVtcGxhdGUobmV3VGVtcGxhdGUpewogICAgICAgYWRkVGVtcGxhdGUobmV3VGVtcGxhdGUpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiYWRkIHRlbXBsYXRlIHJlc3VsdCAiK0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSkKICAgICAgICAgIHRoaXMuc3VibWl0aW5nID0gZmFsc2U7ICAgCiAgICAgICAgICBpZih0aGlzLmNoZWNrUmVzcG9uc2UocmVzcG9uc2UpKXsKICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIHJlc3VsdC50aW1lID0gbmV3IERhdGUocmVzdWx0LmNyZWF0ZV90aW1lKS5mb3JtYXQoInl5eXktTU0tZGQgaGg6bW06c3MiKSAKICAgICAgICAgICAgdGhpcy4kZW1pdCgib25FZGl0QXV0aG9yaXR5VGVtcGxhdGVSZXN1bHQiLHJlc3VsdCx0aGlzLnR5cGVBZGQpOwogICAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgdGhpcy5vblN1Ym1pdEVycm9yKHRoaXMuYWRkRXJyb3JUZXh0KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfX0pLmNhdGNoKGUgPT4gewogICAgICAgICAgdGhpcy5zdWJtaXRpbmcgPSBmYWxzZTsgICAKICAgICAgICAgIHRoaXMub25TdWJtaXRFcnJvcih0aGlzLmFkZEVycm9yVGV4dCkKICAgICAgICAgIGNvbnNvbGUubG9nKCJhZGQgdGVtcGxhdGUgZXJyb3IgIitlKQogICAgICAgIH0pOwogICAgfSwKCiAgICBvblVwZGF0ZVRlbXBsYXRlKG5ld1RlbXBsYXRlKXsKICAgICAgbmV3VGVtcGxhdGUudGVtcGxhdGVJZCA9IHRoaXMudGVtcGxhdGUudGVtcGxhdGVJZDsKICAgICAgbmV3VGVtcGxhdGUudGltZSA9IG5ldyBEYXRlKCkuZm9ybWF0KCJ5eXl5LU1NLWRkIGhoOm1tOnNzIikgCiAgICAgICB1cGRhdGVUZW1wbGF0ZShuZXdUZW1wbGF0ZSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgdGhpcy5zdWJtaXRpbmcgPSBmYWxzZTsgCiAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGRhdGUgdGVtcGxhdGUgcmVzdWx0ICIrSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKQogICAgICAgICAgLy/lpoLmnpzlkI7nq6/mjqXlj6PotrPlpJ/moIflh4bvvIzov5nlnZfmmK/lj6/ku6Xkvb/nlKjpgJrnlKjpqozor4HmoIflh4bnmoQKICAgICAgICAgIGlmKHJlc3BvbnNlICE9IG51bGwgJiYgdHlwZW9mIHJlc3BvbnNlLmNvZGUgIT09ICJ1bmRlZmluZWQiICYmIHJlc3BvbnNlLmNvZGUgPT09IDApewogICAgICAgICAgICAvL+S4jeeUqOi/lOWbnuWAvOS6huOAguOAguOAguiOq+WQjeWFtuWmmeeahOaOpeWPowogICAgICAgICAgICAvL2xldCByZXN1bHQgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJvbkVkaXRBdXRob3JpdHlUZW1wbGF0ZVJlc3VsdCIsbmV3VGVtcGxhdGUsdGhpcy50eXBlVXBkYXRlKTsKICAgICAgICAgICAgdGhpcy5jbG9zZSgpCiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHRoaXMub25TdWJtaXRFcnJvcih0aGlzLmFkZEVycm9yVGV4dCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH19KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgdGhpcy5zdWJtaXRpbmcgPSBmYWxzZTsgCiAgICAgICAgICAgIHRoaXMub25TdWJtaXRFcnJvcih0aGlzLmFkZEVycm9yVGV4dCkKICAgICAgICAgICAgY29uc29sZS5sb2coInVwZGF0ZSB0ZW1wbGF0ZSBlcnJvciAiK2UpCiAgICAgICAgfSk7CiAgICB9LAogICAgLy/lm6DkuLrmjqXlj6Pov5Tlm57lgLzkuI3moIflh4bvvIzmiYDku6XkuI3og73pgJrnlKjvvIznrYnlkI7nq6/lpb3lpb3mlLnkuIDkuIvmjqXlj6PvvIzliKvlkITnp43lgLzkubHpo57vvIzmoIflh4bljJblsLHlpb3kuobjgIIKICAgIGNoZWNrUmVzcG9uc2UocmVzcG9uc2UpIHsKICAgICAgaWYocmVzcG9uc2UgIT0gbnVsbCAmJiAKICAgICAgICAgICAgICB0eXBlb2YgcmVzcG9uc2UuY29kZSAhPT0gInVuZGVmaW5lZCIgJiYgCiAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSAhPSBudWxsICYmIAogICAgICAgICAgICAgIHR5cGVvZiByZXNwb25zZS5kYXRhICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIGlmKHJlc3BvbnNlLmNvZGUgIT0gMCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgIH0gZWxzZSB7CiAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgIH0gICAgCiAgICB9LAoKICAgIG9uU3VibWl0RXJyb3IobXNnKSB7CiAgICAgIHRoaXMuY2F1dGlvblRleHQ9bXNnOwogICAgICB0aGlzLmNhdXRpb24gPSB0cnVlOwogICAgfSwKCiAgICBtb3ZlVG9XYWl0KGluZGV4KSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53aXRoaW5EZXB0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChpID09IGluZGV4KSB7CiAgICAgICAgICB0aGlzLndpdGhvdXREZXB0cy5wdXNoKHRoaXMud2l0aGluRGVwdHNbaV0pOwogICAgICAgICAgdGhpcy53aXRoaW5EZXB0cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0KICAgICAgfQogICAgICAvL2NoYW5nZSh0aGlzLndhaXRGb3JTZWxlY3REZXB0LCB0aGlzLnNlbGVjdERlcHQsIGluZGV4KTsKICAgIH0sCiAgICBtb3ZlVG9TZWxlY3RlZChpbmRleCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMud2l0aG91dERlcHRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGkgPT0gaW5kZXgpIHsKICAgICAgICAgIHRoaXMud2l0aGluRGVwdHMucHVzaCh0aGlzLndpdGhvdXREZXB0c1tpXSk7CiAgICAgICAgICB0aGlzLndpdGhvdXREZXB0cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0KICAgICAgfQogICAgICAvL2NoYW5nZSh0aGlzLnNlbGVjdERlcHQsIHRoaXMud2FpdEZvclNlbGVjdERlcHQsIGluZGV4KTsKICAgIH0sCgogICAgLy8gY2hhbmdlKHNvdXJjZSwgZGVzdCwgaW5kZXgpIHsKICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHsKICAgIC8vICAgICBpZiAoaSA9PSBpbmRleCkgewogICAgLy8gICAgICAgZGVzdC5wdXNoKHNvdXJjZVtpXSk7CiAgICAvLyAgICAgICBzb3VyY2Uuc3BsaWNlKGluZGV4LCAxKTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vIH0sCgogICAgb25DcmVhdGVOZXdUZW1wbGF0ZSgpIHsKICAgICAgdGhpcy53aXRob3V0RGVwdHMgPSB0aGlzLmRlcGFydG1lbnQuY29uY2F0KFtdKTsgICAgICAgIAogICAgfSwKCiAgICBvbkVkaXRUZW1wbGF0ZSgpIHsKICAgICAgLy8jIyMjIyMjIyMjIyMjIyMjIyAgIOi/meaYr+e8lui+keWOn+acieaooeadv++8jOmcgOimgeaKiuWOn+aooeadv+aVsOaNruaPkOWHuuadpSAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgICAvL+WIneWni+WMluajgOa1i+adoeS7tu+8jOWkh+S7veWOn+Wni+aVsOaNrgogICAgICB0aGlzLnRlbXBsYXRlTmFtZSA9IHRoaXMudGVtcGxhdGUudGVtcGxhdGVOYW1lOwogICAgICB0aGlzLm9yaWdpbmFsVGVtcGxhdGVOYW1lID0gdGhpcy50ZW1wbGF0ZU5hbWU7CiAgICAgIGxldCBkZXNjID0gdGhpcy50ZW1wbGF0ZS5kZXNjOwogICAgICB0aGlzLnN1bW1hcnkgPSAoZGVzYyA9PT0gbnVsbCB8fCAgdHlwZW9mIGRlc2MgPT09ICJ1bmRlZmluZWQiIHx8IEpTT04uc3RyaW5naWZ5KGRlc2MpKSA9PT0gIm51bGwiID8gIiIgOiBkZXNjOwogICAgICB0aGlzLm9yaWdpbmFsU3VtbWFyeSA9IHRoaXMuc3VtbWFyeTsKCiAgICAgIC8vdGhpcy5hdXRob3JpdHlNZW51ID0gdGhpcy50ZW1wbGF0ZS50YXJnZXRMaXN0OwogICAgICAKICAgICAgdGhpcy53aXRoaW5EZXB0cyA9IHRoaXMudGVtcGxhdGUub2VtTGlzdC5jb25jYXQoW10pOwogICAgICB0aGlzLm9yaWdpbmFsV2l0aGluRGVwdHMgPSB0aGlzLndpdGhpbkRlcHRzLmNvbmNhdChbXSk7CiAgICAgIAogICAgICBjb25zb2xlLmxvZygibWVyZ2UgcmVzdWx0IiArIEpTT04uc3RyaW5naWZ5KHRoaXMuY2hpbGRyZW4pKTsKCiAgICAgIC8v5pyJ5qih5p2/5L+h5oGv77yM5qih5p2/6YeM5YyF5ZCr5LqG5bey6I635b6X5p2D6ZmQ55qE6YOo6Zeo44CCCiAgICAgIC8v6ZyA6KaB5o+Q5Y+W5bey57uP5o6I5p2D55qE6YOo6ZeoCiAgICAgIGlmICh0aGlzLmRlcGFydG1lbnQubGVuZ3RoID4gMCkgewogICAgICAgIC8v6aaW5YWIIGEuZmlsdGVyKChpKSA9PiAhYi5maW5kKChqKSA9PiBqLmlkID09PSBpLmlkKSnnrZvpgInlh7ph5Lit5LiOYuS4reS4jeWQjOeahOWFg+e0oO+8jOS5i+WQjgogICAgICAgIC8vYi5maWx0ZXIoKGkpID0+ICFiLmZpbmQoKGopID0+IGouaWQgPT09IGkuaWQpKeetm+mAieWHumLkuK3kuI5h5Lit5LiN5ZCM55qE5YWD57Sg77yM5LmL5ZCOY29uY2F05ZCI5bm25Lik5Liq57uT5p6cCiAgICAgICAgdGhpcy53aXRob3V0RGVwdHMgPSB0aGlzLmRlcGFydG1lbnQuY29uY2F0KFtdKQogICAgICAgICAgLmZpbHRlciggKGkpID0+IXRoaXMud2l0aGluRGVwdHMuZmluZCgoaikgPT4gai5jb21wYW55Q29kZSA9PT0gaS5jb21wYW55Q29kZSkKICAgICAgICAgICAgKS5jb25jYXQodGhpcy53aXRoaW5EZXB0cy5maWx0ZXIoIChpKSA9PiF0aGlzLndpdGhpbkRlcHRzLmZpbmQoKGopID0+IGouY29tcGFueUNvZGUgPT09IGkuY29tcGFueUNvZGUpKSk7CiAgICAgIH0KICAgIH0KICB9LAoKICB3YXRjaDogewogICAgb3BlbigpIHsKICAgICAgdGhpcy5kaWFsb2cgPSB0aGlzLm9wZW47CiAgICB9LAogICAgLy/miZPlvIDlkozlhbPpl60KICAgIGRpYWxvZyhpc09wZW4pIHsKICAgICAgLy8gb24gZGlhbG9nIGhhcyBvcGVuZWQKICAgICAgaWYgKGlzT3BlbikgewogICAgICAgIC8v5Yid5aeL5YyWCiAgICAgICAgdGhpcy53aXRoaW5EZXB0cyA9IFtdOwogICAgICAgIHRoaXMud2l0aG91dERlcHRzID0gW107CiAgICAgICAgdGhpcy5vcmlnaW5hbFdpdGhpbkRlcHRzID0gW107CiAgICAgICAgCiAgICAgICAgdGhpcy5zdW1tYXJ5ID0gIiI7CiAgICAgICAgdGhpcy50ZW1wbGF0ZU5hbWUgPSAiIjsKICAgICAgICB0aGlzLm9yaWdpbmFsVGVtcGxhdGVOYW1lID0gIiIKICAgICAgICB0aGlzLm9yaWdpbmFsU3VtbWFyeSA9ICIiCiAgICAgICAgLy8gdGhpcy5hdXRob3JpdHlNZW51ID0gW10KICAgICAgICAvLyB0aGlzLnNlbGVjdGlvbiA9IFtdCiAgICAgICAgLy8gdGhpcy5vcmlnaW5hbFNlbGVjdGlvbiA9IFtdCiAgICAgICAKICAgICAgLy/pnIDopoHmi4nlj5bpu5jorqTmnYPpmZDkv6Hmga8KICAgICAgLy/ojrflj5bmnYPpmZDlv4XpobvmiJDlip/vvIzlpoLmnpzlpLHotKXvvIzliJnlhbPpl63pobXpnaIKICAgICAgZ2V0QXV0aG9yaXR5TWVudSgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coIiMjIyMjIyMjIGdldEF1dGhvcml0eU1lbnUgPT09PT09PT09PiAjIyMjIyMjICIgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpOwogICAgICAgIGlmKHJlc3BvbnNlLmRhdGEgIT0gbnVsbCAmJiB0eXBlb2YgcmVzcG9uc2UuZGF0YSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHRoaXMuYXV0aG9yaXR5TWVudSA9IHJlc3BvbnNlLmRhdGE7ICAgICAgICAgICAKICAgICAgICAgIC8v5oqK5omA5pyJ5a2Q5p2D6ZmQ5ZCI5bm25oiQ5LiA5Liq5pWw57uECiAgICAgICAgICBsZXQgY2hpbGRyZW4gPSBbXTsgICAgICAgIAogICAgICAgIC8vIyMjIyMjIyMjIyMjIyMjIyMgICDmlrDlu7rmnYPpmZDmqKHmnb8gICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICAgICBpZiAodHlwZW9mIHRoaXMudGVtcGxhdGUgPT09ICJ1bmRlZmluZWQiIHx8IEpTT04uc3RyaW5naWZ5KHRoaXMudGVtcGxhdGUpID09PSAie30iKSB7CiAgICAgICAgICAvL+aKiuWQjeWtl+i/m+ihjOi1i+WAvO+8jOWboOS4uuaYr+WIm+W7uuadg+mZkOaooeadv++8jOaIkeS7rOebtOaOpeaLieWPluaJgOacieadg+mZkOWNs+WPryAgICAgICAgICAgIAogICAgICAgICBjaGlsZHJlbiA9IHRyYW5zZm9ybWF0aW9uQXV0aG9yaXR5KHRoaXMuYXV0aG9yaXR5TWVudSkKICAgICAgICAgdGhpcy5vbkNyZWF0ZU5ld1RlbXBsYXRlKCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy/miorlkI3lrZfov5vooYzotYvlgLzvvIzlm6DkuLrmmK/nvJbovpHmqKHmnb/vvIzmiJHku6zpnIDopoHmiorlt7Lnu4/pgInkuK3nmoTmnYPpmZDlnKjotYvlgLzkuIogICAgICAgICAgICAKICAgICAgICAgIGNoaWxkcmVuID0gdHJhbnNmb3JtYXRpb25BdXRob3JpdHkodGhpcy5hdXRob3JpdHlNZW51LHRoaXMudGVtcGxhdGUudGFyZ2V0TGlzdCkKICAgICAgICAgIHRoaXMub25FZGl0VGVtcGxhdGUoKQogICAgICAgIH0KICAgICAgICAgLy/miorpgInkuK3nmoTlrZDmnYPpmZDmj5Dlh7rmnaUKICAgICAgICAgIHRoaXMuc2VsZWN0aW9uID0gY2hpbGRyZW4uZmlsdGVyKCh2KSA9PiB2LmlzQ2hlY2spOyAKICAgICAgICAgIHRoaXMub3JpZ2luYWxTZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbi5jb25jYXQoW10pOwoKICAgICAgfQogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZ2V0IGF1dGhvcml0eSBsaXN0IGVycm9yICIrZSkKICAgICAgICAgICAgICB0aGlzLmNhdXRpb25UZXh0ID0gIuiOt+WPluadg+mZkOWIl+ihqOWHuueOsOW8guW4uO+8jOivt+eojeWQjuWGjeivlSIKICAgICAgICAgICAgICB0aGlzLmNhdXRpb24gPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMuY2xvc2UoKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["editAuthority.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editAuthority.vue","sourceRoot":"src/views/page","sourcesContent":["<template\nsytle=\"background-color: #ffffff;\"\n>\n  <v-row justify=\"center\">\n    <v-dialog\n      v-model=\"dialog\"\n      v-bind=\"$attrs\"\n      v-on=\"$listeners\"\n      fullscreen\n      hide-overlay\n      :persistent=\"true\"\n      transition=\"dialog-bottom-transition\"\n    >\n      <v-toolbar dark color=\"primary\">\n        <v-btn icon dark @click=\"onCancel\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n        <v-toolbar-title>编辑权限</v-toolbar-title>\n      </v-toolbar>\n\n      <v-container\n        class=\"grey lighten-5\"\n        style=\"max-width: 100%;\"\n      >\n        <v-row style=\"min-width: 100px; max-width: 100%; max-height: 100%;margin-bottom:10px\"> \n          <confirm ref=\"confirm\" />\n\n          <v-snackbar\n            v-model=\"caution\"\n            :timeout=\"timeout\"\n            :centened=\"true\"\n            :width=\"240\"\n          >\n            {{cautionText}}\n\n            <template v-slot:action=\"{ attrs }\">\n              <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"caution = false\">\n                关闭\n              </v-btn>\n            </template>\n          </v-snackbar>\n          <!-- 加载的dialog-->\n           <v-dialog\n              v-model=\"submiting\"          \n              persistent\n              width=\"300\"\n            >\n              <v-card\n                color=\"primary\"\n                dark\n              >\n                <v-card-text>\n                  提交请求中,请稍后...\n                  <v-progress-linear\n                    indeterminate\n                    color=\"white\"\n                    class=\"mb-0\"\n                  ></v-progress-linear>\n                </v-card-text>\n              </v-card>\n           </v-dialog>\n          <v-col\n            style=\"min-width: 100px; max-width: 50%; max-height: 100%\"\n            class=\"flex-grow-1 flex-shrink-0\"\n          >\n            <v-row>\n            <v-subheader\n            style=\"font-size:1.05rem;height: 30px;\"\n            class=\"subtitle-6 mt-2\"\n            v-text=\"'模板名称'\"\n          />\n            </v-row>\n\n            <v-row>\n              <v-text-field\n              style=\"margin-left:10px;margin-right:13px;\"\n                maxlength=\"45\"\n                v-model=\"templateName\"\n                label=\"模板名称\"\n                placeholder=\"输入您的模板名称\"\n                outlined\n                dense\n                ></v-text-field\n              >\n            </v-row>\n             <v-subheader\n            style=\"font-size:1.05rem;height: 12px;padding: 0;\"\n            class=\"subtitle-6\"\n            v-text=\"'权限编辑'\"\n          />\n            <v-card\n              class=\"pa-2 mt-2\"\n              outlined\n              tile\n              style=\"height: 316px; overflow: scroll\"\n            >\n              <v-treeview\n                v-model=\"selection\"\n                :open=\"openTree\"\n                :items=\"authorityMenu\"\n                selection-type=\"leaf\"\n                selectable\n                item-disabled=\"locked\"\n                return-object       \n              >\n              </v-treeview>\n            </v-card>\n\n\n            <v-subheader\n            style=\"font-size:1.05rem;height: 30px;padding: 0;\"\n            class=\"subtitle-6 mt-1\"\n            v-text=\"'模板描述'\"\n          />\n\n            <v-textarea\n              v-model=\"summary\"\n              outlined\n              auto-grow\n              clearable\n              maxlength=\"65\"\n              clear-icon=\"mdi-close-circle\"\n              counter\n              :rules=\"rules\"\n              name=\"summary\"\n              background-color=\"#ffffff\"\n              label=\"请输入权限模板的说明\"\n              style=\"height=200px\"\n            ></v-textarea>\n          </v-col>\n          <v-col\n            cols=\"6\"\n            style=\"max-width: 50%; max-height: 100%;\"\n            class=\"flex-grow-0 flex-shrink-1\"\n          >\n            <v-row justify=\"left\"\n            >\n             <v-subheader\n            style=\"font-size:1.05rem;height: 45px;margin-left:0px\"\n            class=\"subtitle-6 mt-0\"\n            v-text=\"'包含角色列表'\"\n          />\n            </v-row>\n\n            <v-card\n              class=\"pa-2 mt-3\"\n              outlined\n              tile\n              style=\"height: 240px; max-width: 100%; max-height: 100%\"\n            >\n              <v-chip\n                v-for=\"(dept, index) in withinDepts\"\n                :key=\"index\"\n                class=\"ma-2\"\n                close\n                color=\"primary\"\n                text-color=\"white\"\n                @click:close=\"moveToWait(index)\"\n              >\n                {{ dept.companyName }}\n              </v-chip>\n            </v-card>\n             <v-subheader\n            style=\"font-size:1.05rem;height: 45px;\"\n            class=\"subtitle-6\"\n            v-text=\"'点击下列部门添加权限'\"\n          />\n\n            <v-chip\n              v-for=\"(dept, index) in withoutDepts\"\n              :key=\"index\"\n              class=\"ma-2\"\n              color=\"secondary\"\n              text-color=\"white\"\n              @click=\"moveToSelected(index)\"\n            >\n              {{ dept.companyName }}\n              <v-icon right> mdi-plus </v-icon>\n            </v-chip>\n          </v-col>\n        </v-row> \n        <v-footer fixed style=\"height:65px;background-color: #ffffff; !important\" class=\"footer\">\n          <v-spacer></v-spacer>\n          <v-btn\n            class=\"mr-6\"\n            min-width=\"105px\"\n            outlined\n            depressed\n            dark\n            color=\"#1867C0FF\"\n            @click=\"onCancel\"\n          >\n            取消\n          </v-btn>\n\n          <v-btn\n            class=\"mr-6\"\n            min-width=\"105px\"\n            outlined\n            depressed\n            dark\n            color=\"#1867C0FF\"\n            @click=\"onConfirm\"\n          >\n            保存\n          </v-btn>\n        </v-footer>\n      </v-container>\n\n      <!-- <v-card class=\"pa-6\" elevation=\"0\"> </v-card> -->\n      \n    </v-dialog>\n  </v-row>\n</template>\n\n<script>\nimport { getAuthorityMenu,addTemplate,updateTemplate} from \"@/api/getData.js\";\nimport \"@/utils/timeFormate.js\";\nimport {transformationAuthority} from \"@/utils/templateUtils.js\";\nexport default {\n  props: {\n    open: {\n      type: Boolean,\n      default: false,\n    },\n    template: {\n      type: Object,\n      default: function () {},\n    },\n\n    department: {\n      type: [],\n      default: [],\n    },\n  },\n  components: {\n    confirm: () => import(\"@/components/base/conform.vue\"),\n  },\n  data() {\n    return {\n      openTree:[],\n      submiting: false,\n      typeAdd:\"add\",\n      typeUpdate:\"update\",\n      leaveNotify: \"您当前有修改的信息未保存，离开当前页面您输入的信息将不会被保存。\",\n      addErrorText:\"添加权限模板失败,请稍后再试...\",\n      updateErrorText:\"更新权限模板失败,请稍后再试...\",\n      timeout: 2000,\n      caution: false,\n      //deleteTemplate:false,\n      cautionText:\"\",\n      //被授权的部门\n      withinDepts: [],\n      //待授权的部门\n      withoutDepts: [],\n      //模板名称\n      templateName: \"\",\n      //模板描述\n      summary: \"\",\n      //模板描述字符限制\n      rules: [(v) => v.length <= 65 || \"最多输入65字描述\"],\n      dialog: this.open,\n      //权限列表\n      authorityMenu: [],\n      //默认选中状态\n      selection: [],\n      //============ 初始化的值，需要做对比判断，是不是所有字段都更改过 ================\n      //被授权的部门\n      originalWithinDepts: [],\n      //模板名称\n      originalTemplateName: \"\",\n      //模板描述\n      originalSummary: \"\",\n      //默认选中状态\n      originalSelection: [],\n    };\n  },\n\n\n  methods: {\n  \n    notifiyUser(content) {\n      this.$refs.confirm\n        .confirm(content)\n        .then(() => this.close())\n        .catch(() => {});      \n    },\n\n    close() {\n      this.$emit(\"closeDialog\");\n    },\n\n    onConfirm() {\n     \n      let empty = this.checkEmpty()\n      if (empty[0]) {\n        this.cautionText=\"您需要填写模板名称\"\n        this.caution = true;\n        return;\n      }\n\n      if (empty[1]) {\n        this.cautionText=\"您需要填写模板描述\";\n        this.caution = true;\n        return;\n      }\n\n      if (empty[2]) {\n        this.cautionText=\"您需要添加授权部门\";\n        this.caution = true;\n        return;\n      }\n\n      if (this.selection.length === 0) {\n        this.cautionText=\"请至少添加一个权限\";\n        this.caution = true;\n        return;\n      }\n\n      if(JSON.stringify(this.template) === \"{}\") {\n        //添加一个新的模板\n         this.submitTemplate(this.typeAdd); \n      }else {\n        if(this.checkChage()) {\n          //提交变化\n           this.submitTemplate(this.typeUpdate); \n        }else {\n          //没有任何改变\n          this.cautionText=\"您没有做任何改变\";\n          this.caution = true;\n        }\n      }\n    },\n\n    onCancel() { \n      //新创建一个模板，用户可能会放弃，所以我们需要判断下，是不是已经写了部分字段了\n      if (JSON.stringify(this.template) === \"{}\") {\n        \n        //检查字段是否有变化\n        if(this.checkChage()) {\n          this.notifiyUser(this.leaveNotify)\n          return;\n        }\n        //没有任何变化，关闭就好\n        this.close()\n      } else {\n        //这是一个编辑行为......检查参数是否有变化\n        if(this.checkChage()) {\n          this.notifiyUser(this.leaveNotify)\n          return;\n        }\n        //没有任何变化，关闭就好\n        this.close() \n      } \n    },\n\n    checkEmpty() {\n      let withinDeptsChange = this.withinDepts.length === 0;\n      let templateNameChange = this.templateName.trim() === \"\";\n      let summaryChange = JSON.stringify(this.summary) === \"null\" ? true:this.summary.trim() === \"\";\n      return [templateNameChange,summaryChange,withinDeptsChange] \n    },\n\n    checkChage() {\n      if(this.templateName.trim() !== this.originalTemplateName.trim()) {\n        console.log(\"templateName had changed\");\n        return true;\n      }\n\n      if(JSON.stringify(this.summary) === \"null\" ? \"\":this.summary.trim() !== this.originalSummary) {\n        console.log(\"summary had changed\");\n        return true;\n      }\n\n      console.log(\"withindepts length \"+this.withinDepts.length + \" originalWithinDepts length \"+this.originalWithinDepts.length);\n      if(this.withinDepts.length !== this.originalWithinDepts.length) {\n        console.log(\"withinDepts length not match\");\n        return true;\n      }\n      //检查授权部门是否有变化，不考虑数组顺序进行比较\n    let resultDepts = this.originalWithinDepts.concat([])\n          .filter( (i) =>!this.withinDepts.find((j) => j.companyCode === i.companyCode)\n            ).concat(this.withinDepts.filter( (i) =>!this.withinDepts.find((j) => j.companyCode === i.companyCode)));\n    \n    if(resultDepts.length > 0) {\n        console.log(\"withinDepts had changed\");\n        return true;\n      }\n\n    console.log(\"selection length \"+this.selection.length + \" originalSelection length \"+this.originalSelection.length);\n      if(this.selection.length !== this.originalSelection.length) {\n        console.log(\"selection length not match\");\n        return true;\n      }\n\n      let resultSelection = this.originalSelection.concat([])\n          .filter( (i) =>!this.selection.find((j) => j.id === i.id)\n            ).concat(this.selection.filter( (i) =>!this.selection.find((j) => j.id === i.id)));\n      //把发生改变的数组内容剔除，只保留没改变的。\n      //let result = this.originalSelection.filter((v1) => this.selection.find((v2) => v1.id === v2.id))\n      console.log(\"result = \"+JSON.stringify(resultSelection));\n      if(resultSelection.length > 0) {\n        //已经发生改变\n        console.log(\"selection had changed\");\n        return true;\n      }\n       console.log(\"nothing change\");\n        return false;\n    },\n    \n    submitTemplate(type) {\n        let resultTemplate = {}\n        resultTemplate.templateName = this.templateName;\n        resultTemplate.desc = this.summary;\n        resultTemplate.oemList = this.withinDepts;\n        resultTemplate.targetList = this.selection;\n        \n        //提交到服务器\n        this.submiting = true;\n        \n        if(type == this.typeAdd) {\n          this.onAddTemplate(resultTemplate)\n        } else if(type == this.typeUpdate) {\n           this.onUpdateTemplate(resultTemplate)\n        }\n    },\n\n    onAddTemplate(newTemplate){\n       addTemplate(newTemplate).then((response) => {\n          console.log(\"add template result \"+JSON.stringify(response))\n          this.submiting = false;   \n          if(this.checkResponse(response)){\n            let result = response.data;\n            result.time = new Date(result.create_time).format(\"yyyy-MM-dd hh:mm:ss\") \n            this.$emit(\"onEditAuthorityTemplateResult\",result,this.typeAdd);\n            this.close()\n          }else {\n            this.onSubmitError(this.addErrorText);\n            return;\n          }}).catch(e => {\n          this.submiting = false;   \n          this.onSubmitError(this.addErrorText)\n          console.log(\"add template error \"+e)\n        });\n    },\n\n    onUpdateTemplate(newTemplate){\n      newTemplate.templateId = this.template.templateId;\n      newTemplate.time = new Date().format(\"yyyy-MM-dd hh:mm:ss\") \n       updateTemplate(newTemplate).then((response) => {\n         this.submiting = false; \n         console.log(\"update template result \"+JSON.stringify(response))\n          //如果后端接口足够标准，这块是可以使用通用验证标准的\n          if(response != null && typeof response.code !== \"undefined\" && response.code === 0){\n            //不用返回值了。。。莫名其妙的接口\n            //let result = response.data;\n            this.$emit(\"onEditAuthorityTemplateResult\",newTemplate,this.typeUpdate);\n            this.close()\n          }else {\n            this.onSubmitError(this.addErrorText);\n            return;\n          }}).catch(e => {\n            this.submiting = false; \n            this.onSubmitError(this.addErrorText)\n            console.log(\"update template error \"+e)\n        });\n    },\n    //因为接口返回值不标准，所以不能通用，等后端好好改一下接口，别各种值乱飞，标准化就好了。\n    checkResponse(response) {\n      if(response != null && \n              typeof response.code !== \"undefined\" && \n              response.data != null && \n              typeof response.data !== \"undefined\") {\n        if(response.code != 0) {\n          return false;\n        }else {\n          return true;\n        }\n       } else {\n         return false;\n       }    \n    },\n\n    onSubmitError(msg) {\n      this.cautionText=msg;\n      this.caution = true;\n    },\n\n    moveToWait(index) {\n      for (let i = 0; i < this.withinDepts.length; i++) {\n        if (i == index) {\n          this.withoutDepts.push(this.withinDepts[i]);\n          this.withinDepts.splice(index, 1);\n        }\n      }\n      //change(this.waitForSelectDept, this.selectDept, index);\n    },\n    moveToSelected(index) {\n      for (let i = 0; i < this.withoutDepts.length; i++) {\n        if (i == index) {\n          this.withinDepts.push(this.withoutDepts[i]);\n          this.withoutDepts.splice(index, 1);\n        }\n      }\n      //change(this.selectDept, this.waitForSelectDept, index);\n    },\n\n    // change(source, dest, index) {\n    //   for (let i = 0; i < source.length; i++) {\n    //     if (i == index) {\n    //       dest.push(source[i]);\n    //       source.splice(index, 1);\n    //     }\n    //   }\n    // },\n\n    onCreateNewTemplate() {\n      this.withoutDepts = this.department.concat([]);        \n    },\n\n    onEditTemplate() {\n      //#################   这是编辑原有模板，需要把原模板数据提出来    ####################\n      //初始化检测条件，备份原始数据\n      this.templateName = this.template.templateName;\n      this.originalTemplateName = this.templateName;\n      let desc = this.template.desc;\n      this.summary = (desc === null ||  typeof desc === \"undefined\" || JSON.stringify(desc)) === \"null\" ? \"\" : desc;\n      this.originalSummary = this.summary;\n\n      //this.authorityMenu = this.template.targetList;\n      \n      this.withinDepts = this.template.oemList.concat([]);\n      this.originalWithinDepts = this.withinDepts.concat([]);\n      \n      console.log(\"merge result\" + JSON.stringify(this.children));\n\n      //有模板信息，模板里包含了已获得权限的部门。\n      //需要提取已经授权的部门\n      if (this.department.length > 0) {\n        //首先 a.filter((i) => !b.find((j) => j.id === i.id))筛选出a中与b中不同的元素，之后\n        //b.filter((i) => !b.find((j) => j.id === i.id))筛选出b中与a中不同的元素，之后concat合并两个结果\n        this.withoutDepts = this.department.concat([])\n          .filter( (i) =>!this.withinDepts.find((j) => j.companyCode === i.companyCode)\n            ).concat(this.withinDepts.filter( (i) =>!this.withinDepts.find((j) => j.companyCode === i.companyCode)));\n      }\n    }\n  },\n\n  watch: {\n    open() {\n      this.dialog = this.open;\n    },\n    //打开和关闭\n    dialog(isOpen) {\n      // on dialog has opened\n      if (isOpen) {\n        //初始化\n        this.withinDepts = [];\n        this.withoutDepts = [];\n        this.originalWithinDepts = [];\n        \n        this.summary = \"\";\n        this.templateName = \"\";\n        this.originalTemplateName = \"\"\n        this.originalSummary = \"\"\n        // this.authorityMenu = []\n        // this.selection = []\n        // this.originalSelection = []\n       \n      //需要拉取默认权限信息\n      //获取权限必须成功，如果失败，则关闭页面\n      getAuthorityMenu().then((response) => {\n        console.log(\"######## getAuthorityMenu =========> ####### \" + JSON.stringify(response));\n        if(response.data != null && typeof response.data !== \"undefined\") {\n          this.authorityMenu = response.data;           \n          //把所有子权限合并成一个数组\n          let children = [];        \n        //#################   新建权限模板    ####################\n        if (typeof this.template === \"undefined\" || JSON.stringify(this.template) === \"{}\") {\n          //把名字进行赋值，因为是创建权限模板，我们直接拉取所有权限即可            \n         children = transformationAuthority(this.authorityMenu)\n         this.onCreateNewTemplate()\n        } else {\n          //把名字进行赋值，因为是编辑模板，我们需要把已经选中的权限在赋值上            \n          children = transformationAuthority(this.authorityMenu,this.template.targetList)\n          this.onEditTemplate()\n        }\n         //把选中的子权限提出来\n          this.selection = children.filter((v) => v.isCheck); \n          this.originalSelection = this.selection.concat([]);\n\n      }\n      }).catch(e => {\n              console.log(\"get authority list error \"+e)\n              this.cautionText = \"获取权限列表出现异常，请稍后再试\"\n              this.caution = true;\n              this.close()\n              }\n            );\n      }\n    },\n  },\n};\n</script>\n<style>\n.title{\n color: #666666;\nfont-family: PingFang SC;\nfont-weight: medium;\nfont-size: 14px;\nline-height: normal;\nletter-spacing: 0px;\ntext-align: left;\n\n}\n</style>\n"]}]}