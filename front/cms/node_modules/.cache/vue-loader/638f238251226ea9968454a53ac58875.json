{"remainingRequest":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/components/statisticalReportSupplierView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/components/statisticalReportSupplierView.vue","mtime":1641641123783},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSZXBvcnRQZXJzb25WaWV3IGZyb20gIkAvY29tcG9uZW50cy9zdGF0aXN0aWNhbFJlcG9ydFBlcnNvblZpZXcudnVlIjsKaW1wb3J0IHsgZ2V0Q29tcGFueWJ5YXJlYSB9IGZyb20gIkAvYXBpL2dldERhdGEuanMiOwppbXBvcnQgeyByb3VuZEZ1bix0ZXh0RWxsaXBzaXN9IGZyb20gIkAvdXRpbHMvc3RyaW5nVXRpbHMuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJzdGF0aXN0aWNhbFJlcG9ydFN1cHBsaWVyVmlldyIsCiAgcHJvcHM6IHsKICAgIG9wZW5TdGF0dXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgIH0sCiAgICBhcmVhcGFyYW06IHsKICAgICAgdHlwZTogQXJyYXksCiAgICB9LAoKICAgIHNlYXJjaENvbnRlbnRQYXJhbTp7CiAgICAgIHR5cGU6U3RyaW5nLAogICAgfSwKCiAgICBtc2dJRFBhcmFtOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgIH0sCiAgICByZWFkU3RhdHVzUGFyYW06IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgfSwKICAgIHN0YXRpc3RpY3NTdGF0dXNQYXJhbTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICB9LAogICAgLy/lj43ppojnsbvlnosKICAgIGZlZWJhY2tCYWNrVHlwZTp7CiAgICAgIHR5cGU6TnVtYmVyCiAgICB9LAogICAgYXR0YWNobWVudElkUGFyYW06IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgfSwKICAgIHNlbGVjdFR5cGVWYWx1ZVBhcmFtOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBSZXBvcnRQZXJzb25WaWV3LAogICAgbG9hZGluZzogKCkgPT4gaW1wb3J0KCJAL2NvbXBvbmVudHMvYmFzZS9sb2FkaW5nLnZ1ZSIpLAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+e7n+iuoeafpeivouexu+WeiyAwOiDpmIXor7vnsbvlnovmn6Xor6IgMTog6ZmE5Lu257G75Z6L5p+l6K+iIDI6IOWbnuWkjeexu+Wei+afpeivogogICAgICBTVEFUSVNUSUNTU1RBVFVTX1RZUEVfUkVBRDogMCwKICAgICAgU1RBVElTVElDU1NUQVRVU19UWVBFX0FUVEFDSDogMSwKICAgICAgU1RBVElTVElDU1NUQVRVU19UWVBFX1JFUExZOiAyLAogICAgICBkaWFsb2c6IHRoaXMub3BlbiwKICAgICAgZGlhbG9nX3BlcnNvbjogZmFsc2UsCiAgICAgIHNlYXJjaF9zZWxlOiAiIiwKICAgICAgc2VsZWN0ZWRfYXJlYTogW10sCiAgICAgIGV4cGFuZGVkOiBbXSwKICAgICAgaGVhZGVyczogW10sCiAgICAgIGRlc3NlcnRzX2FyZWE6IFtdLAogICAgICBzZWxlY3RDb21wYW55Q29kZTogIiIsCiAgICAgIHNlbGVjdFN0YXRpc3RpY3NTdGF0dXM6IDAsCgogICAgICAgIC8v5Yqg6L2954q25oCBCiAgICAgIGxvYWRpbmd2aWV3OiB0cnVlLAoKICAgICAgLy/nirbmgIHvvJrlt7Lor7vjgIHmnKror7sKICAgICAgU1RBVFVTX1JFQUQ6MCwKICAgICAgU1RBVFVTX1VOUkVBRDogMSwKCiAgICAgIHVuU2VsZWN0Q29tYW55SW5mb01hcEluZm86IG5ldyBNYXAoKSwKCiAgICAgIC8vc3RhcnQg5YWo6YCJ5Y+C5pWwCiAgICAgIGNoZWNrZWRBbGw6IHRydWUsCiAgICAgIC8v5omA5pyJ6YCJ5Lit55qEY29tcGFueUNvZGUKICAgICAgY2hlY2tlZE5hbWVzOiBbXSwKICAgICAgY2hlY2tlZEFycjogW10sCiAgICAgIC8vZW5kIOWFqOmAieWPguaVsAoKICAgICAgLy/ngrnlh7vnmoTpmYTku7ZJRAogICAgICBjbGlja0F0dGFjaG1lbnRJZCA6ICIiLAogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2coIi0tLS0gbW91bnRlZCAtLS0tIik7CgogICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgfSwKCiAgd2F0Y2g6IHsKICAgIG9wZW5TdGF0dXMobmV3VikgewogICAgICBjb25zb2xlLmxvZygib3BlblN0YXR1czoiICsgbmV3Vik7CiAgICAgIC8v55Sx5LiN5Y+v6KeB5Yiw5Y+v6KeBCiAgICAgIGlmIChuZXdWKSB7CiAgICAgICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja2VkTmFtZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuY2hlY2tlZE5hbWVzLmxlbmd0aCA9PSB0aGlzLmNoZWNrZWRBcnIubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5jaGVja2VkQWxsID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNoZWNrZWRBbGwgPSBmYWxzZTsKICAgICAgfQoKICAgICAgLy/mm7TmlrDpgInmi6nmlbDnu4QKICAgICAgdGhpcy51cGRhdGVTZWxlY3RDb21hbnlJbmZvTWFwSW5mbygpOwogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICB1cGRhdGVTZWxlY3RDb21hbnlJbmZvTWFwSW5mbygpIHsKICAgICAgdGhpcy5jaGVja2VkQXJyLmZvckVhY2goKGNvbXBhbnlDb2RlPT57CiAgICAgICAgICAvL+WmguaenOmAieS4rSzlj5bmtojor6Xlhazlj7jlrprkuYkKICAgICAgICAgIGlmKHRoaXMuY2hlY2tlZE5hbWVzLmluZGV4T2YoY29tcGFueUNvZGUpPj0wKXsgICAgICAgICAgICAgIAogICAgICAgICAgICAgIGlmKHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5oYXMoY29tcGFueUNvZGUpKXsKICAgICAgICAgICAgICAgICAgbGV0IHVuc2VsZWN0VXNlckxpc3QgPSB0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uZ2V0KGNvbXBhbnlDb2RlKTsKICAgICAgICAgICAgICAgICAgaWYodW5zZWxlY3RVc2VyTGlzdC5sZW5ndGg9PTApewogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImhhcyBjb21wYW55Q29kZToiK2NvbXBhbnlDb2RlKyIgcmVtb3ZlOiIrdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLnNpemUpOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmRlbGV0ZShjb21wYW55Q29kZSk7IAogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImFmdGVyIHJlbW92ZToiK3RoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5zaXplKTsgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgIH1lbHNley8v5aaC5p6c6YO95LiN5Zyo6YCJ5oup5YaFCiAgICAgICAgICAgICAgdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLnNldChjb21wYW55Q29kZSxbXSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coInVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8gc2V0IDoiK2NvbXBhbnlDb2RlICsiIHRvIGVtcHR5Iik7ICAgCiAgICAgICAgICB9CiAgICAgIH0pKTsKICAgIH0sCgogICAgZ2V0RGVhbGVyUmVwb3J0U2VydmljZSgpIHsKICAgICAgdGhpcy5oZWFkZXJzID0gW107CiAgICAgIHRoaXMuZGVzc2VydHNfYXJlYSA9IFtdOwogICAgICB0aGlzLmxvYWRpbmd2aWV3ID10cnVlOwoKICAgICAgZ2V0Q29tcGFueWJ5YXJlYSh0aGlzLm1zZ0lEUGFyYW0sdGhpcy5hcmVhcGFyYW0sdGhpcy5zZWxlY3RUeXBlVmFsdWVQYXJhbSx0aGlzLnNlYXJjaENvbnRlbnRQYXJhbSx0aGlzLnJlYWRTdGF0dXNQYXJhbSx0aGlzLnN0YXRpc3RpY3NTdGF0dXNQYXJhbSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZ2V0U3VwcGlsZXJMaXN0RGF0YSByZWNlaXZlOiIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTsKCiAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gbnVsbCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiZGF0YSBzaXplIGlzIDAiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuaGVhZGVycyA9IHRoaXMuaW5pdEhlYWRlckRhdGEocmVzLmRhdGEucmVwb3J0cyk7CiAgICAgICAgICB0aGlzLmRlc3NlcnRzX2FyZWEgPSB0aGlzLmluaXRCb2R5RGF0YShyZXMuZGF0YS5yZXBvcnRzKTsKCiAgICAgICAgICB0aGlzLmNoZWNrZWRBbGwgPSB0aGlzLmNoZWNrZWROYW1lcy5sZW5ndGggPT0gdGhpcy5jaGVja2VkQXJyLmxlbmd0aDsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIH0pLmZpbmFsbHkoKCk9PnsKICAgICAgICAgIHRoaXMubG9hZGluZ3ZpZXcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDmnoTpgKDpmIXor7vmlbDmja4KICAgICAqLwogICAgY29tcG9zZVJlYWRTdGF0aXN0aWNzRGF0YShib2R5QmVhbixoYXZlUmVhZENvdW50LHJlYWRDb3VudCl7CiAgICAgICAgaWYodGhpcy5yZWFkU3RhdHVzUGFyYW0gPT0gdGhpcy5TVEFUVVNfUkVBRCl7CiAgICAgICAgICAgIGJvZHlCZWFuLnJlYWRpbmdTdGF0aXN0aWNzQ291bnQgPSBoYXZlUmVhZENvdW50OyAgICAgICAgCiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGJvZHlCZWFuLnJlYWRpbmdTdGF0aXN0aWNzQ291bnQgPSByZWFkQ291bnQgLSBoYXZlUmVhZENvdW50OyAgICAgICAgCiAgICAgICAgfQogICAgICAgIGJvZHlCZWFuLnJlYWRpbmdUb3RhbENvdW50PSByZWFkQ291bnQ7CiAgICAgICAgYm9keUJlYW4ucmVhZGluZ1BlcmNlbnRhZ2UgPSByb3VuZEZ1bihib2R5QmVhbi5yZWFkaW5nU3RhdGlzdGljc0NvdW50LGJvZHlCZWFuLnJlYWRpbmdUb3RhbENvdW50KTsgICAgICAgIAogICAgfSwKCiAgICAvKioKICAgICAqIOaehOmAoOmYheivu+aVsOaNrgogICAgICovCiAgICBjb21wb3NlRmVlZGJhY2tEYXRhKGJvZHlCZWFuLGhhdmVGZWVkYmFja0NvdW50LGZlZWRiYWNrQ291bnQpewogICAgICAgICAgYm9keUJlYW4ucmVwbHlTdGF0aXN0aWNzQ291bnQgPSBoYXZlRmVlZGJhY2tDb3VudDsKICAgICAgICAgIGJvZHlCZWFuLnJlcGx5VG90YWxDb3VudCA9IGZlZWRiYWNrQ291bnQ7CiAgICAgICAgICBib2R5QmVhbi5yZXBseVBlcmNlbnRhZ2UgPSByb3VuZEZ1bihib2R5QmVhbi5yZXBseVN0YXRpc3RpY3NDb3VudCxib2R5QmVhbi5yZXBseVRvdGFsQ291bnQpOyAgICAgICAgCiAgICB9LAoKICAgIC8qKgogICAgICog57uE6KOF6ZmE5Lu25paH5Lu25pWw5o2uCiAgICAgKi8KICAgIGNvbXBvc2VBdHRhY2hGaWxlKGF0dGFjaG1lbnRTdGF0aXN0aWNzKXsKICAgICAgICBsZXQgYXR0YWNoRGF0YSA9IHt9OwogICAgICAgICAgICAgICAgCiAgICAgICAgYXR0YWNoRGF0YS52YWx1ZVN0YXRpc3RpY3NDb3VudCA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmhhdmVEb3dubG9hZENvdW50OwogICAgICAgIGF0dGFjaERhdGEudmFsdWVUb3RhbENvdW50ID0gYXR0YWNobWVudFN0YXRpc3RpY3MuZG93bmxvYWRDb3VudDsKICAgICAgICBhdHRhY2hEYXRhLnZhbHVlUGVyY2VudGFnZSA9IHJvdW5kRnVuKGF0dGFjaERhdGEudmFsdWVTdGF0aXN0aWNzQ291bnQsYXR0YWNoRGF0YS52YWx1ZVRvdGFsQ291bnQpOyAgICAgICAgICAgICAgICAgIAogICAgICAgIGF0dGFjaERhdGEuYXR0YWNobWVudElkID0gYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudElkOwogICAgICAgIHJldHVybiBhdHRhY2hEYXRhOwogICAgfSwKCiAgICAvL+aehOW7uuWNleS4qmhlYWRlcuWktOS/oeaBrwogICAgYnVpbGRIZWFkZXJCZWFuKHRleHQsIHZhbHVlKSB7CiAgICAgIGxldCBoZWFkZXJCZWFuID0ge307CiAgICAgIGhlYWRlckJlYW4udGV4dCA9IHRleHRFbGxpcHNpcyh0ZXh0LDIwKTsgICAgICAKCiAgICAgIGhlYWRlckJlYW4udmFsdWUgPSB2YWx1ZTsKICAgICAgaGVhZGVyQmVhbi53aWR0aCA9ICIxMHJlbSI7CiAgICAgIGhlYWRlckJlYW4uYWxpZ24gPSAibGVmdCI7CgogICAgICByZXR1cm4gaGVhZGVyQmVhbjsKICAgIH0sCgogICAgLy/liJ3lp4vljJZIZWFkZXLnmoTmlbDmja4KICAgIGluaXRIZWFkZXJEYXRhKGRhdGEpIHsKICAgICAgbGV0IGhlYWRlckRhdGFBcnJheSA9IFtdOwoKICAgICAgaGVhZGVyRGF0YUFycmF5LnB1c2godGhpcy5idWlsZEhlYWRlckJlYW4oIue7j+mUgOWVhue8luWPtyIsICJzdXBudW1iZXIiKSk7CiAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLnu4/plIDllYblkI3np7AiLCAic3VwbmFtZSIpKTsKICAgICAgaWYodGhpcy5yZWFkU3RhdHVzUGFyYW0gPT0gdGhpcy5TVEFUVVNfVU5SRUFEKXsKICAgICAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLmnKror7vnu5/orqEiLCAicmVhZGluZyIpKTsKICAgICAgfWVsc2V7CiAgICAgICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi5bey6K+757uf6K6hIiwgInJlYWRpbmciKSk7CiAgICAgIH0gICAKICAgICAgLy/ml6DpnIDlm57lpI0KICAgICAgaWYodGhpcy5mZWViYWNrQmFja1R5cGUhPTQpewogICAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLlt7Llm57lpI3nu5/orqEiLCAicmVwbHkiKSk7CiAgICAgIH0KCiAgICAgIGxldCBhdHRhY2hOYW1lTGlzdCA9IFtdOwoKICAgICAgZGF0YS5mb3JFYWNoKChzdXBwbGllckRhdGEpPT57CiAgICAgICAgICBpZihzdXBwbGllckRhdGEuYXR0YWNobWVudFJlcG9ydHMhPW51bGwmJnN1cHBsaWVyRGF0YS5hdHRhY2htZW50UmVwb3J0cy5sZW5ndGg+MAogICAgICAgICAgICAmJmF0dGFjaE5hbWVMaXN0Lmxlbmd0aD09MCl7ICAgICAgICAgICAgCiAgICAgICAgICAgICAgc3VwcGxpZXJEYXRhLmF0dGFjaG1lbnRSZXBvcnRzLmZvckVhY2goKGF0dGFjaG1lbnRTdGF0aXN0aWNzKSA9PiB7CiAgICAgICAgICAgICAgbGV0IGF0dGFjaG1lbnROYW1lID0gYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudE5hbWUuc2xpY2UoCiAgICAgICAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50TmFtZS5sYXN0SW5kZXhPZigiLyIpICsgMQogICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgIGF0dGFjaE5hbWVMaXN0LnB1c2goCiAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkSGVhZGVyQmVhbigKICAgICAgICAgICAgICAgICAgIuW3suS4i+i9vee7n+iuoSgiICsgYXR0YWNobWVudE5hbWUgKyAiKSIsCiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRTdGF0aXN0aWNzLmF0dGFjaG1lbnROYW1lCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSk7ICAgICAgICAgIAogICAgICAgICAgfQogICAgICB9KTsgIAoKICAgICAgYXR0YWNoTmFtZUxpc3QuZm9yRWFjaCgoaGVhZGVyQmVhbik9PnsKICAgICAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKGhlYWRlckJlYW4pOwogICAgICB9KTsKCiAgICAgIHJldHVybiBoZWFkZXJEYXRhQXJyYXk7CiAgICB9LAoKICAgIC8qKgogICAgICog5piv5ZCm6L+H5ruk5o6J77yM5LiN5pi+56S65q2k5p2h5pWw5o2uCiAgICAgKi8KICAgIGlzRmlsdGVyUGVyc29uRGF0YShzdXBwbGllckRhdGEpewogICAgICAgIC8v5aaC5p6c5piv54K55Ye75bey6K+744CB5pyq6K+76L+Z5LiA5YiX6L+b5p2l55qECiAgICAgICAgaWYodGhpcy5zdGF0aXN0aWNzU3RhdHVzUGFyYW0gPT0gdGhpcy5TVEFUSVNUSUNTU1RBVFVTX1RZUEVfUkVBRCl7CiAgICAgICAgICBpZih0aGlzLnJlYWRTdGF0dXNQYXJhbSA9PSB0aGlzLlNUQVRVU19SRUFEKXsgLy/mn6Xor6Llt7Lor7vvvIzlpoLmnpzlhazlj7jkuIvpnaLlt7Lor7vmlbDkuLow77yM5bCx5LiN5pi+56S6CiAgICAgICAgICAgICAgaWYoc3VwcGxpZXJEYXRhLmhhdmVSZWFkQ291bnQ9PTApewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7IC8v5aaC5p6c54K55Ye755qE5piv6ZiF6K+75pWw5LiA5YiX77yM5bm25LiU5p+l6K+i54q25oCB5piv5pyq6K+777yM5aaC5p6c5YWs5Y+45LiL6Z2i5pyJ5bey6K+755qE77yM5bCx5LiN5pi+56S6CiAgICAgICAgICAgICAgaWYoc3VwcGxpZXJEYXRhLmhhdmVSZWFkQ291bnQ+MCl7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8v5aaC5p6c5piv5LuO5bey5Zue5aSN54K55Ye76L+b5p2l55qE77yM5Y+q5bGV56S65Zue5aSN5pWw5aSn5LqOMOeahOaVsOaNrgogICAgICAgIGlmKHRoaXMuc3RhdGlzdGljc1N0YXR1c1BhcmFtID09IHRoaXMuU1RBVElTVElDU1NUQVRVU19UWVBFX1JFUExZKXsKICAgICAgICAgICBpZihzdXBwbGllckRhdGEuaGF2ZUZlZWRiYWNrQ291bnQ9PTApewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIGluaXRCb2R5RGF0YShkYXRhKSB7CiAgICAgIHRoaXMuY2hlY2tlZEFyciA9IFtdOwogICAgICB0aGlzLmNoZWNrZWROYW1lcyA9IFtdOwoKICAgICAgbGV0IGRhdGFBcnJheSA9IFtdOyAgICAgIAoKICAgICAgZGF0YS5mb3JFYWNoKChzdXBwbGllckRhdGEpID0+IHsgICAgICAKICAgICAgICAKICAgICAgICBpZih0aGlzLmlzRmlsdGVyUGVyc29uRGF0YShzdXBwbGllckRhdGEpKXsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgbGV0IGJvZHlCZWFuID0ge307CiAgICAgICAgCiAgICAgICAgYm9keUJlYW4uc3VwbnVtYmVyID0gc3VwcGxpZXJEYXRhLmNvbXBhbnlDb2RlOwogICAgICAgIGJvZHlCZWFuLnN1cG5hbWUgPSBzdXBwbGllckRhdGEuY29tcGFueU5hbWU7CiAgICAgICAgYm9keUJlYW4uc2VsZWN0ZWQgPSB0cnVlOwoKICAgICAgICB0aGlzLmNoZWNrZWRBcnIucHVzaChib2R5QmVhbi5zdXBudW1iZXIpOwogICAgICAgIAogICAgICAgIGxldCB1c2VySW5mb0xpc3Q9IHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5nZXQoYm9keUJlYW4uc3VwbnVtYmVyKTsKICAgICAgICBpZih1c2VySW5mb0xpc3Q9PXVuZGVmaW5lZCB8fCB1c2VySW5mb0xpc3QubGVuZ3RoPjApewogICAgICAgICAgICB0aGlzLmNoZWNrZWROYW1lcy5wdXNoKGJvZHlCZWFuLnN1cG51bWJlcik7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiDop6PmnpDlt7Lor7vmlbDmja4KICAgICAgICAgKi8KICAgICAgICB0aGlzLmNvbXBvc2VSZWFkU3RhdGlzdGljc0RhdGEoYm9keUJlYW4sc3VwcGxpZXJEYXRhLmhhdmVSZWFkQ291bnQsc3VwcGxpZXJEYXRhLmNvdW50KTsgICAgICAgIAoKICAgICAgICAvKioKICAgICAgICAgKiDop6PmnpDlm57lpI3mlbDmja4KICAgICAgICAgKi8KICAgICAgICB0aGlzLmNvbXBvc2VGZWVkYmFja0RhdGEoYm9keUJlYW4sc3VwcGxpZXJEYXRhLmhhdmVGZWVkYmFja0NvdW50LHN1cHBsaWVyRGF0YS5jb3VudCk7ICAgICAgICAgICAgICAgICAgICAKICAgICAgICAKICAgICAgICBsZXQgYXR0YWNoRGF0YUxpc3QgPSBbXTsKICAgICAgICBsZXQgaXNGaWx0ZXJBdHRhY2ggPSBmYWxzZTsKCiAgICAgICAgaWYoc3VwcGxpZXJEYXRhLmF0dGFjaG1lbnRSZXBvcnRzIT1udWxsKXsKICAgICAgICAgICAgc3VwcGxpZXJEYXRhLmF0dGFjaG1lbnRSZXBvcnRzLmZvckVhY2goCiAgICAgICAgICAgICAgKGF0dGFjaG1lbnRTdGF0aXN0aWNzKSA9PiB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzdGF0aXN0aWNzU3RhdHVzUGFyYW06Iit0aGlzLnN0YXRpc3RpY3NTdGF0dXNQYXJhbSsiICBhdHRhY2htZW50SWRQYXJhbToiK3RoaXMuYXR0YWNobWVudElkUGFyYW0rIiBhdHRhY2htZW50SWQ6IithdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50SWQpOwoKICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdGlzdGljc1N0YXR1c1BhcmFtID09IHRoaXMuU1RBVElTVElDU1NUQVRVU19UWVBFX0FUVEFDSAogICAgICAgICAgICAgICAgICAgICYmdGhpcy5hdHRhY2htZW50SWRQYXJhbT09YXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudElkKXsvL+WmguaenOeCueWHu+eahOaYr+W3suS4i+i9vemZhOS7tuWbnuWkjQogICAgICAgICAgICAgICAgICAgIGlzRmlsdGVyQXR0YWNoID0gYXR0YWNobWVudFN0YXRpc3RpY3MuaGF2ZURvd25sb2FkQ291bnQgPT0gMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYXR0YWNobWVudFN0YXRpc3RpY3M6IitKU09OLnN0cmluZ2lmeShhdHRhY2htZW50U3RhdGlzdGljcykrIiBpc0ZpbHRlckF0dGFjaDoiK2lzRmlsdGVyQXR0YWNoKTsKCiAgICAgICAgICAgICAgICBsZXQgYXR0YWNoRGF0YSA9IHRoaXMuY29tcG9zZUF0dGFjaEZpbGUoYXR0YWNobWVudFN0YXRpc3RpY3MpOwoKICAgICAgICAgICAgICAgIGF0dGFjaERhdGFMaXN0LnB1c2goYXR0YWNoRGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICApOyAgICAgICAgICAgIAogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICog5aaC5p6c5LuO5bey5LiL6L296ZmE5Lu26L+b5p2l77yM6ZyA6KaB5bCG5pyq5LiL6L296ZmE5Lu255qE57uP6ZSA5ZWG6L+H5ruk5o6JCiAgICAgICAgICovCiAgICAgICAgaWYoaXNGaWx0ZXJBdHRhY2gpewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBib2R5QmVhbi5hdHRhY2hEYXRhTGlzdCA9IGF0dGFjaERhdGFMaXN0OwoKICAgICAgICBkYXRhQXJyYXkucHVzaChib2R5QmVhbik7CgogICAgICB9KTsKCiAgICAgIGxldCB0b3RhbEluZm8gPSB0aGlzLmNyZWF0ZVRvdGFsRWxlbWVudChkYXRhQXJyYXkpOwoKICAgICAgZGF0YUFycmF5LnVuc2hpZnQodG90YWxJbmZvKTsKCiAgICAgIHJldHVybiBkYXRhQXJyYXk7CiAgICB9LAoKICAgIGNyZWF0ZVRvdGFsRWxlbWVudChkYXRhQXJyYXkpewogICAgICAgIAogICAgICAgIGxldCB0b3RhbGluZm8gPSB7fTsgIAogICAgICAgIGxldCB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzID0gW107ICAgIAogICAgICAgIGxldCByZWFkU3RhdGlzdGljc0NvdW50ID0gMCxyZWFkU3RhdGlzdGljc1RvdGFsQ291bnQgPSAwOwogICAgICAgIGxldCBmZWVkYmFja1N0YXRpc3RpY3NDb3VudCA9IDAsIGZlZWRiYWNrU3RhdGlzdGljc1RvdGFsQ291bnQgPSAwOwoKICAgICAgICBkYXRhQXJyYXkuZm9yRWFjaChib2R5QmVhbiA9PiB7CgogICAgICAgICAgICByZWFkU3RhdGlzdGljc0NvdW50ICs9IGJvZHlCZWFuLnJlYWRpbmdTdGF0aXN0aWNzQ291bnQ7CiAgICAgICAgICAgIHJlYWRTdGF0aXN0aWNzVG90YWxDb3VudCArPSBib2R5QmVhbi5yZWFkaW5nVG90YWxDb3VudDsKCiAgICAgICAgICAgIGZlZWRiYWNrU3RhdGlzdGljc0NvdW50ICs9IGJvZHlCZWFuLnJlcGx5U3RhdGlzdGljc0NvdW50OwogICAgICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50ICs9IGJvZHlCZWFuLnJlcGx5VG90YWxDb3VudDsKCiAgICAgICAgICAgIGlmKGJvZHlCZWFuLmF0dGFjaERhdGFMaXN0IT1udWxsKXsKICAgICAgICAgICAgICAgICBib2R5QmVhbi5hdHRhY2hEYXRhTGlzdC5mb3JFYWNoKChhdHRhY2hEYXRhLCBpbmRleCk9PnsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XSA9PSB1bmRlZmluZWQpIHsgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0gPSB7YXR0YWNobWVudElkOiAiIixzdGF0aXN0aWNzQ291bnQ6IDAsdG90YWxDb3VudDogMH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XS5hdHRhY2htZW50SWQgPSBhdHRhY2hEYXRhLmF0dGFjaG1lbnRJZDsKICAgICAgICAgICAgICAgICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XS5zdGF0aXN0aWNzQ291bnQgKz0gYXR0YWNoRGF0YS52YWx1ZVN0YXRpc3RpY3NDb3VudDsKICAgICAgICAgICAgICAgICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XS50b3RhbENvdW50ICs9IGF0dGFjaERhdGEudmFsdWVUb3RhbENvdW50OwogICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgfSk7CgogICAgICAgIHRvdGFsaW5mby5zdXBudW1iZXIgPSAiLSI7CiAgICAgICAgdG90YWxpbmZvLnN1cG5hbWUgPSAi5ZCI6K6hIjsKICAgICAgICB0b3RhbGluZm8uc2VsZWN0ZWQgPSB0cnVlOwoKICAgICAgICB0b3RhbGluZm8ucmVhZGluZ1N0YXRpc3RpY3NDb3VudCA9IHJlYWRTdGF0aXN0aWNzQ291bnQ7CiAgICAgICAgdG90YWxpbmZvLnJlYWRpbmdUb3RhbENvdW50ID0gcmVhZFN0YXRpc3RpY3NUb3RhbENvdW50OwogICAgICAgIHRvdGFsaW5mby5yZWFkaW5nUGVyY2VudGFnZSA9IHJvdW5kRnVuKHJlYWRTdGF0aXN0aWNzQ291bnQgLHJlYWRTdGF0aXN0aWNzVG90YWxDb3VudCk7CgogICAgICAgIHRvdGFsaW5mby5yZXBseVN0YXRpc3RpY3NDb3VudCA9IGZlZWRiYWNrU3RhdGlzdGljc0NvdW50OwogICAgICAgIHRvdGFsaW5mby5yZXBseVRvdGFsQ291bnQgPSBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50OwogICAgICAgIHRvdGFsaW5mby5yZXBseVBlcmNlbnRhZ2UgPSByb3VuZEZ1bihmZWVkYmFja1N0YXRpc3RpY3NDb3VudCxmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50KTsKCiAgICAgICAgdG90YWxpbmZvLmF0dGFjaERhdGFMaXN0ID0gW107CiAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljcy5mb3JFYWNoKChhdHRhY2htZW50U3RhdGlzdGljcykgPT4gewogICAgICAgICAgbGV0IGF0dGFjaERhdGEgPSB7fTsKCiAgICAgICAgICBhdHRhY2hEYXRhLnZhbHVlU3RhdGlzdGljc0NvdW50ID0gYXR0YWNobWVudFN0YXRpc3RpY3Muc3RhdGlzdGljc0NvdW50OwogICAgICAgICAgYXR0YWNoRGF0YS52YWx1ZVRvdGFsQ291bnQgPSBhdHRhY2htZW50U3RhdGlzdGljcy50b3RhbENvdW50OwogICAgICAgICAgYXR0YWNoRGF0YS52YWx1ZVBlcmNlbnRhZ2UgPSByb3VuZEZ1bihhdHRhY2htZW50U3RhdGlzdGljcy5zdGF0aXN0aWNzQ291bnQsYXR0YWNobWVudFN0YXRpc3RpY3MudG90YWxDb3VudCk7CgogICAgICAgICAgdG90YWxpbmZvLmF0dGFjaERhdGFMaXN0LnB1c2goYXR0YWNoRGF0YSk7CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiB0b3RhbGluZm87CiAgICB9LAoKICAgIC8qKgogICAgICog5ZCI6K6h55qE5YWz6Zet56qX5Y+jCiAgICAgKi8KICAgIGNsb3NlUGFyZW50SW5BbGwodW5TZWxlY3RDb21wYW55TWFwKXsKICAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICIuLi4uLi5jbG9zZVBhcmVudEluQWxsLi4uIiArCiAgICAgICAgICAiIHVuU2VsZWN0VXNlcnM6IiArCiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh1blNlbGVjdENvbXBhbnlNYXApCiAgICAgICk7CgogICAgICB0aGlzLmNoZWNrZWRBcnIuZm9yRWFjaChjb21wYW55Q29kZSA9PiB7CiAgICAgICAgICBpZih1blNlbGVjdENvbXBhbnlNYXAhPXVuZGVmaW5lZCAmJiB1blNlbGVjdENvbXBhbnlNYXAuaGFzKGNvbXBhbnlDb2RlKSl7CiAgICAgICAgICAgICAgbGV0IHVzZXJMaXN0ID0gdW5TZWxlY3RDb21wYW55TWFwLmdldChjb21wYW55Q29kZSk7CiAgICAgICAgICAgICAgdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLnNldChjb21wYW55Q29kZSx1c2VyTGlzdCk7CiAgICAgICAgICAgICAgaWYodXNlckxpc3QubGVuZ3RoPT0wKXsvL+WmguaenOWFqOS4jemAiQogICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWROYW1lcy5zcGxpY2UodGhpcy5jaGVja2VkTmFtZXMuaW5kZXhPZihjb21wYW55Q29kZSksIDEpOwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICBpZih0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uaGFzKGNvbXBhbnlDb2RlKSl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmRlbGV0ZShjb21wYW55Q29kZSk7ICAgICAgICAgIAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmKHRoaXMuY2hlY2tlZE5hbWVzLmluZGV4T2YoY29tcGFueUNvZGUpPDApewogICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZE5hbWVzLnB1c2goY29tcGFueUNvZGUpOwogICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIH0gCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmRlbGV0ZShjb21wYW55Q29kZSk7CiAgICAgICAgICAgIGlmKHRoaXMuY2hlY2tlZE5hbWVzLmluZGV4T2YoY29tcGFueUNvZGUpPDApewogICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWROYW1lcy5wdXNoKGNvbXBhbnlDb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHRoaXMuZGlhbG9nX3BlcnNvbiA9IGZhbHNlOwogICAgfSwKCiAgICBjbG9zZVBhcmVudCh1blNlbGVjdFVzZXJzLCBjb21wYW55Q29kZSxpc05vbmVTZWxlY3RlZCkgewogICAgICBjb25zb2xlLmxvZygKICAgICAgICAiLi4uLi4uY2xvc2VQYXJlbnQuLi4uY29tcGFueUNvZGUiICsKICAgICAgICAgIGNvbXBhbnlDb2RlICsKICAgICAgICAgICIgdW5TZWxlY3RVc2VyczoiICsKICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHVuU2VsZWN0VXNlcnMpCiAgICAgICk7CgogICAgICB0aGlzLmRpYWxvZ19wZXJzb24gPSBmYWxzZTsKCiAgICAgIC8v5rKh5pyJ6YCJ5oupMeS4quS6ugogICAgICBpZiAoaXNOb25lU2VsZWN0ZWQpIHsKICAgICAgICB0aGlzLmNoZWNrZWROYW1lcy5zcGxpY2UodGhpcy5jaGVja2VkTmFtZXMuaW5kZXhPZihjb21wYW55Q29kZSksIDEpOwogICAgICAgIHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5zZXQoY29tcGFueUNvZGUsW10pOwogICAgICAgIGNvbnNvbGUubG9nKCJjaGVja2VkTmFtZXMgc3BsaWNlOiIgKyBjb21wYW55Q29kZSk7CiAgICAgIH1lbHNley8v6YCJ5oup5LqG5YW25Lit5Yeg5Liq5Lq6CiAgICAgICAgaWYodW5TZWxlY3RVc2Vycy5sZW5ndGg+MCl7CiAgICAgICAgICAgIHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5zZXQoY29tcGFueUNvZGUsdW5TZWxlY3RVc2Vycyk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICBpZih0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uaGFzKGNvbXBhbnlDb2RlKSl7CiAgICAgICAgICAgIHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5kZWxldGUoY29tcGFueUNvZGUpOyAgICAgICAgICAKICAgICAgICAgIH0gICAgICAgIAogICAgICAgIH0KICAgICAgICBpZih0aGlzLmNoZWNrZWROYW1lcy5pbmRleE9mKGNvbXBhbnlDb2RlKTwwKXsKICAgICAgICAgICAgdGhpcy5jaGVja2VkTmFtZXMucHVzaChjb21wYW55Q29kZSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zb2xlLmxvZygidW5TZWxlY3RDb21wYW55SW5mbzoiICsgSlNPTi5zdHJpbmdpZnkodGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvKSk7CiAgICAgIAogICAgfSwKICAgIC8v5YWz6ZetCiAgICBidF9jbG9zZSgpIHsKICAgICAgY29uc29sZS5sb2coIi4uLi4uLuWFs+mXreaMiemSri4uLi4uLi4iKTsKICAgICAgbGV0IHRtcFNlbGVjdENvbWFueUluZm9NYXBJbmZvID0gdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvOwogICAgICB0aGlzLiRlbWl0KCJjbG9zZWRDaGlsZCIsIHRtcFNlbGVjdENvbWFueUluZm9NYXBJbmZvKTsKICAgIH0sCiAgICAvL+W9k3RhYmxlIHJvdyBjbGlja+aXtuinpuWPkSAtIOihqOekuuWFqOmDqO+8jOatpOaXtueahOS8oOWAvAogICAgY2xpY2tSb3c6IGZ1bmN0aW9uICh0eXBlLGNvbXBhbnlDb2RlLCBhdHRhY2htZW50SWQpIHsKICAgICAgY29uc29sZS5sb2coIi4uLi5jbGlja1Jvdy4uLi50eXBlOiIgKyB0eXBlICsgIiBjb21wYW55Q29kZToiICsgY29tcGFueUNvZGUrIiBhdHRhY2hNZW50SWQ6IithdHRhY2htZW50SWQpOwogICAgICBpZihjb21wYW55Q29kZT09Jy0nKXsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5zZWxlY3RDb21wYW55Q29kZSA9IGNvbXBhbnlDb2RlID09ICItIiA/ICIiIDogY29tcGFueUNvZGU7CiAgICAgIHRoaXMuc2VsZWN0U3RhdGlzdGljc1N0YXR1cyA9IHR5cGU7CiAgICAgIHRoaXMuY2xpY2tBdHRhY2htZW50SWQgPSBhdHRhY2htZW50SWQ7CiAgICAgIHRoaXMuZGlhbG9nX3BlcnNvbiA9IHRydWU7CiAgICB9LAogICAgY2hhbmdlQWxsQ2hlY2tlZDogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5jaGVja2VkQWxsKSB7CiAgICAgICAgdGhpcy5jaGVja2VkQXJyLmZvckVhY2goKGluZm8pID0+IHsKICAgICAgICAgIHRoaXMuY2hlY2tlZE5hbWVzLnB1c2goaW5mbyk7CiAgICAgICAgfSk7CgogICAgICAgIGNvbnNvbGUubG9nKCJjaGVja2VkQXJyOiIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmNoZWNrZWRBcnIpKTsKICAgICAgICBjb25zb2xlLmxvZygiY2hlY2tlZE5hbWVzOiIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmNoZWNrZWROYW1lcykpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hlY2tlZE5hbWVzID0gW107CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["statisticalReportSupplierView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"statisticalReportSupplierView.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card class=\"mx-auto\">\n    <v-toolbar dense color=\"#1867C0\">\n      <v-btn icon>\n        <v-icon color=\"white\" @click=\"bt_close\"> mdi-close </v-icon>\n      </v-btn>\n      <v-toolbar-title class=\"body-1 white--text\">统计报告</v-toolbar-title>\n    </v-toolbar>\n    <div class=\"pl-8 pr-8 pt-4\">\n      <span class=\"body-1 grey--text text--darken-3\"> 经销商 </span>\n      <template>\n        <loading v-if=\"loadingview\" /> \n        <v-data-table\n          v-else\n          :headers=\"headers\"\n          :items=\"desserts_area\"\n          item-key=\"area\"\n          :search=\"search_sele\"\n          class=\"mt-8 elevation-1\"\n          hide-default-footer\n        >\n          <template v-slot:body=\"{ items }\">\n            <tbody v-if=\"items.length > 0\">\n              <tr v-for=\"(item, iindex) in desserts_area\" :key=\"item.supnumber\">\n                <td>{{item.supnumber }}</td>\n                <td>\n                  <template\n                    v-if=\"statisticsStatusParam == STATISTICSSTATUS_TYPE_READ && readStatusParam==STATUS_UNREAD\"\n                  >\n                    <v-checkbox\n                      v-if=\"iindex === 0\"\n                      v-model=\"checkedAll\"\n                      :label=\"item.supname\"\n                      @change=\"changeAllChecked\"\n                    ></v-checkbox>\n                    <v-checkbox\n                      v-else\n                      v-model=\"checkedNames\"\n                      :value=\"item.supnumber\"\n                      :label=\"item.supname\"\n                    ></v-checkbox>\n                  </template>\n                  <template v-else>\n                    {{ item.supname }}\n                  </template>\n                </td>\n                <td\n                  @click=\"clickRow(STATISTICSSTATUS_TYPE_READ, item.supnumber,0)\"\n                >\n                   <span style=\"color: #1867c0\" v-if=\"iindex > 0\">{{item.readingStatisticsCount}}</span>\n                   <span v-else>{{item.readingStatisticsCount}}</span>                   \n                  /{{ item.readingTotalCount }} {{ item.readingPercentage}}%\n                </td>\n                <td\n                  v-if=\"feebackBackType!=4\"\n                  @click=\"clickRow(STATISTICSSTATUS_TYPE_REPLY, item.supnumber,0)\"\n                >\n                  <span style=\"color: #1867c0\" v-if=\"iindex > 0\">{{item.replyStatisticsCount}}</span>\n                  <span v-else>{{item.replyStatisticsCount}}</span>                  \n                  /{{ item.replyTotalCount }} {{ item.replyPercentage }}%\n                </td>\n\n                <td\n                  v-for=\"attachment in item.attachDataList\"\n                  :key=\"attachment.attachmentId\"\n                  @click=\"clickRow(STATISTICSSTATUS_TYPE_ATTACH,item.supnumber, attachment.attachmentId)\"\n                >\n                  <span style=\"color: #1867c0\" v-if=\"iindex > 0\">{{attachment.valueStatisticsCount}}</span>\n                  <span v-else>{{attachment.valueStatisticsCount}}</span>                  \n                  /{{ attachment.valueTotalCount }}\n                  {{ attachment.valuePercentage }}%\n                </td>\n              </tr>\n            </tbody>\n            <tbody v-else>\n              <tr>\n                <td :colspan=\"headers.length\" style=\"text-align: center\">\n                  No Results Here!\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-data-table>\n\n        <v-dialog\n          v-model=\"dialog_person\"\n          fullscreen\n          hide-overlay\n          transition=\"dialog-bottom-transition\"\n        >\n          <ReportPersonView\n            @closedChild=\"closeParent\"\n            @closeParentInAll = \"closeParentInAll\"\n            :areaparam=\"this.areaparam\"\n            :msgIDParam=\"msgIDParam\"\n            :readStatusParam=\"readStatusParam\"\n            :statisticsStatusParam=\"selectStatisticsStatus\"\n            :attachmentIdParam=\"clickAttachmentId\"\n            :openStatus=\"dialog_person\"\n            :selectTypeValueParam=\"this.selectTypeValueParam\"\n            :companyCodeParam=\"selectCompanyCode\"\n            :unSelectCompanyInfos=\"unSelectComanyInfoMapInfo\"\n            :feebackBackType = \"feebackBackType\"\n            :searchContentParam = \"this.searchContentParam\"\n          ></ReportPersonView>\n        </v-dialog>\n\n        <v-divider class=\"#E4E8EB\"></v-divider>\n      </template>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport ReportPersonView from \"@/components/statisticalReportPersonView.vue\";\nimport { getCompanybyarea } from \"@/api/getData.js\";\nimport { roundFun,textEllipsis} from \"@/utils/stringUtils.js\";\n\nexport default {\n  name: \"statisticalReportSupplierView\",\n  props: {\n    openStatus: {\n      type: Boolean,\n    },\n    areaparam: {\n      type: Array,\n    },\n\n    searchContentParam:{\n      type:String,\n    },\n\n    msgIDParam: {\n      type: String,\n    },\n    readStatusParam: {\n      type: Number,\n    },\n    statisticsStatusParam: {\n      type: Number,\n    },\n    //反馈类型\n    feebackBackType:{\n      type:Number\n    },\n    attachmentIdParam: {\n      type: Number,\n    },\n    selectTypeValueParam: {\n      type: String,\n    },\n  },\n  components: {\n    ReportPersonView,\n    loading: () => import(\"@/components/base/loading.vue\"),\n  },\n\n  data() {\n    return {\n      //统计查询类型 0: 阅读类型查询 1: 附件类型查询 2: 回复类型查询\n      STATISTICSSTATUS_TYPE_READ: 0,\n      STATISTICSSTATUS_TYPE_ATTACH: 1,\n      STATISTICSSTATUS_TYPE_REPLY: 2,\n      dialog: this.open,\n      dialog_person: false,\n      search_sele: \"\",\n      selected_area: [],\n      expanded: [],\n      headers: [],\n      desserts_area: [],\n      selectCompanyCode: \"\",\n      selectStatisticsStatus: 0,\n\n        //加载状态\n      loadingview: true,\n\n      //状态：已读、未读\n      STATUS_READ:0,\n      STATUS_UNREAD: 1,\n\n      unSelectComanyInfoMapInfo: new Map(),\n\n      //start 全选参数\n      checkedAll: true,\n      //所有选中的companyCode\n      checkedNames: [],\n      checkedArr: [],\n      //end 全选参数\n\n      //点击的附件ID\n      clickAttachmentId : \"\",\n    };\n  },\n\n  mounted() {\n    console.log(\"---- mounted ----\");\n\n    this.getDealerReportService();\n  },\n\n  watch: {\n    openStatus(newV) {\n      console.log(\"openStatus:\" + newV);\n      //由不可见到可见\n      if (newV) {\n        this.getDealerReportService();\n      }\n    },\n    checkedNames: function () {\n      if (this.checkedNames.length == this.checkedArr.length) {\n        this.checkedAll = true;\n      } else {\n        this.checkedAll = false;\n      }\n\n      //更新选择数组\n      this.updateSelectComanyInfoMapInfo();\n    },\n  },\n\n  methods: {\n    updateSelectComanyInfoMapInfo() {\n      this.checkedArr.forEach((companyCode=>{\n          //如果选中,取消该公司定义\n          if(this.checkedNames.indexOf(companyCode)>=0){              \n              if(this.unSelectComanyInfoMapInfo.has(companyCode)){\n                  let unselectUserList = this.unSelectComanyInfoMapInfo.get(companyCode);\n                  if(unselectUserList.length==0){\n                      console.log(\"has companyCode:\"+companyCode+\" remove:\"+this.unSelectComanyInfoMapInfo.size);\n                      this.unSelectComanyInfoMapInfo.delete(companyCode); \n                      console.log(\"after remove:\"+this.unSelectComanyInfoMapInfo.size);               \n                  }\n              }\n          }else{//如果都不在选择内\n              this.unSelectComanyInfoMapInfo.set(companyCode,[]);\n              console.log(\"unSelectComanyInfoMapInfo set :\"+companyCode +\" to empty\");   \n          }\n      }));\n    },\n\n    getDealerReportService() {\n      this.headers = [];\n      this.desserts_area = [];\n      this.loadingview =true;\n\n      getCompanybyarea(this.msgIDParam,this.areaparam,this.selectTypeValueParam,this.searchContentParam,this.readStatusParam,this.statisticsStatusParam)\n        .then((res) => {\n          console.log(\"getSuppilerListData receive:\" + JSON.stringify(res));\n\n          if (res.data == null) {\n            console.log(\"data size is 0\");\n            return;\n          }\n\n          this.headers = this.initHeaderData(res.data.reports);\n          this.desserts_area = this.initBodyData(res.data.reports);\n\n          this.checkedAll = this.checkedNames.length == this.checkedArr.length;\n        })\n        .catch((res) => {\n          console.log(res);\n        }).finally(()=>{\n          this.loadingview = false;\n        });\n    },\n\n    /**\n     * 构造阅读数据\n     */\n    composeReadStatisticsData(bodyBean,haveReadCount,readCount){\n        if(this.readStatusParam == this.STATUS_READ){\n            bodyBean.readingStatisticsCount = haveReadCount;        \n        }else{\n            bodyBean.readingStatisticsCount = readCount - haveReadCount;        \n        }\n        bodyBean.readingTotalCount= readCount;\n        bodyBean.readingPercentage = roundFun(bodyBean.readingStatisticsCount,bodyBean.readingTotalCount);        \n    },\n\n    /**\n     * 构造阅读数据\n     */\n    composeFeedbackData(bodyBean,haveFeedbackCount,feedbackCount){\n          bodyBean.replyStatisticsCount = haveFeedbackCount;\n          bodyBean.replyTotalCount = feedbackCount;\n          bodyBean.replyPercentage = roundFun(bodyBean.replyStatisticsCount,bodyBean.replyTotalCount);        \n    },\n\n    /**\n     * 组装附件文件数据\n     */\n    composeAttachFile(attachmentStatistics){\n        let attachData = {};\n                \n        attachData.valueStatisticsCount = attachmentStatistics.haveDownloadCount;\n        attachData.valueTotalCount = attachmentStatistics.downloadCount;\n        attachData.valuePercentage = roundFun(attachData.valueStatisticsCount,attachData.valueTotalCount);                  \n        attachData.attachmentId = attachmentStatistics.attachmentId;\n        return attachData;\n    },\n\n    //构建单个header头信息\n    buildHeaderBean(text, value) {\n      let headerBean = {};\n      headerBean.text = textEllipsis(text,20);      \n\n      headerBean.value = value;\n      headerBean.width = \"10rem\";\n      headerBean.align = \"left\";\n\n      return headerBean;\n    },\n\n    //初始化Header的数据\n    initHeaderData(data) {\n      let headerDataArray = [];\n\n      headerDataArray.push(this.buildHeaderBean(\"经销商编号\", \"supnumber\"));\n      headerDataArray.push(this.buildHeaderBean(\"经销商名称\", \"supname\"));\n      if(this.readStatusParam == this.STATUS_UNREAD){\n          headerDataArray.push(this.buildHeaderBean(\"未读统计\", \"reading\"));\n      }else{\n          headerDataArray.push(this.buildHeaderBean(\"已读统计\", \"reading\"));\n      }   \n      //无需回复\n      if(this.feebackBackType!=4){\n        headerDataArray.push(this.buildHeaderBean(\"已回复统计\", \"reply\"));\n      }\n\n      let attachNameList = [];\n\n      data.forEach((supplierData)=>{\n          if(supplierData.attachmentReports!=null&&supplierData.attachmentReports.length>0\n            &&attachNameList.length==0){            \n              supplierData.attachmentReports.forEach((attachmentStatistics) => {\n              let attachmentName = attachmentStatistics.attachmentName.slice(\n                attachmentStatistics.attachmentName.lastIndexOf(\"/\") + 1\n              );\n\n              attachNameList.push(\n                this.buildHeaderBean(\n                  \"已下载统计(\" + attachmentName + \")\",\n                  attachmentStatistics.attachmentName\n                )\n              );\n            });          \n          }\n      });  \n\n      attachNameList.forEach((headerBean)=>{\n          headerDataArray.push(headerBean);\n      });\n\n      return headerDataArray;\n    },\n\n    /**\n     * 是否过滤掉，不显示此条数据\n     */\n    isFilterPersonData(supplierData){\n        //如果是点击已读、未读这一列进来的\n        if(this.statisticsStatusParam == this.STATISTICSSTATUS_TYPE_READ){\n          if(this.readStatusParam == this.STATUS_READ){ //查询已读，如果公司下面已读数为0，就不显示\n              if(supplierData.haveReadCount==0){\n                return true;\n              }\n            }\n            else{ //如果点击的是阅读数一列，并且查询状态是未读，如果公司下面有已读的，就不显示\n              if(supplierData.haveReadCount>0){\n                return true;\n              }\n            }\n        }\n\n        //如果是从已回复点击进来的，只展示回复数大于0的数据\n        if(this.statisticsStatusParam == this.STATISTICSSTATUS_TYPE_REPLY){\n           if(supplierData.haveFeedbackCount==0){\n            return true;\n           }\n        }\n\n        return false;\n    },\n\n    initBodyData(data) {\n      this.checkedArr = [];\n      this.checkedNames = [];\n\n      let dataArray = [];      \n\n      data.forEach((supplierData) => {      \n        \n        if(this.isFilterPersonData(supplierData)){\n            return;\n        }\n            \n        let bodyBean = {};\n        \n        bodyBean.supnumber = supplierData.companyCode;\n        bodyBean.supname = supplierData.companyName;\n        bodyBean.selected = true;\n\n        this.checkedArr.push(bodyBean.supnumber);\n        \n        let userInfoList= this.unSelectComanyInfoMapInfo.get(bodyBean.supnumber);\n        if(userInfoList==undefined || userInfoList.length>0){\n            this.checkedNames.push(bodyBean.supnumber);\n        }\n\n        /**\n         * 解析已读数据\n         */\n        this.composeReadStatisticsData(bodyBean,supplierData.haveReadCount,supplierData.count);        \n\n        /**\n         * 解析回复数据\n         */\n        this.composeFeedbackData(bodyBean,supplierData.haveFeedbackCount,supplierData.count);                    \n        \n        let attachDataList = [];\n        let isFilterAttach = false;\n\n        if(supplierData.attachmentReports!=null){\n            supplierData.attachmentReports.forEach(\n              (attachmentStatistics) => {\n                \n                console.log(\"statisticsStatusParam:\"+this.statisticsStatusParam+\"  attachmentIdParam:\"+this.attachmentIdParam+\" attachmentId:\"+attachmentStatistics.attachmentId);\n\n                if(this.statisticsStatusParam == this.STATISTICSSTATUS_TYPE_ATTACH\n                    &&this.attachmentIdParam==attachmentStatistics.attachmentId){//如果点击的是已下载附件回复\n                    isFilterAttach = attachmentStatistics.haveDownloadCount == 0;\n                }\n\n                console.log(\"attachmentStatistics:\"+JSON.stringify(attachmentStatistics)+\" isFilterAttach:\"+isFilterAttach);\n\n                let attachData = this.composeAttachFile(attachmentStatistics);\n\n                attachDataList.push(attachData);\n              }\n            );            \n        }\n\n        /**\n         * 如果从已下载附件进来，需要将未下载附件的经销商过滤掉\n         */\n        if(isFilterAttach){\n            return;\n        }\n\n        bodyBean.attachDataList = attachDataList;\n\n        dataArray.push(bodyBean);\n\n      });\n\n      let totalInfo = this.createTotalElement(dataArray);\n\n      dataArray.unshift(totalInfo);\n\n      return dataArray;\n    },\n\n    createTotalElement(dataArray){\n        \n        let totalinfo = {};  \n        let totalAttachmentStatistics = [];    \n        let readStatisticsCount = 0,readStatisticsTotalCount = 0;\n        let feedbackStatisticsCount = 0, feedbackStatisticsTotalCount = 0;\n\n        dataArray.forEach(bodyBean => {\n\n            readStatisticsCount += bodyBean.readingStatisticsCount;\n            readStatisticsTotalCount += bodyBean.readingTotalCount;\n\n            feedbackStatisticsCount += bodyBean.replyStatisticsCount;\n            feedbackStatisticsTotalCount += bodyBean.replyTotalCount;\n\n            if(bodyBean.attachDataList!=null){\n                 bodyBean.attachDataList.forEach((attachData, index)=>{                    \n                    if (totalAttachmentStatistics[index] == undefined) {                  \n                        totalAttachmentStatistics[index] = {attachmentId: \"\",statisticsCount: 0,totalCount: 0};\n                    }\n                        \n                    totalAttachmentStatistics[index].attachmentId = attachData.attachmentId;\n                    totalAttachmentStatistics[index].statisticsCount += attachData.valueStatisticsCount;\n                    totalAttachmentStatistics[index].totalCount += attachData.valueTotalCount;\n               })\n            }                     \n        });\n\n        totalinfo.supnumber = \"-\";\n        totalinfo.supname = \"合计\";\n        totalinfo.selected = true;\n\n        totalinfo.readingStatisticsCount = readStatisticsCount;\n        totalinfo.readingTotalCount = readStatisticsTotalCount;\n        totalinfo.readingPercentage = roundFun(readStatisticsCount ,readStatisticsTotalCount);\n\n        totalinfo.replyStatisticsCount = feedbackStatisticsCount;\n        totalinfo.replyTotalCount = feedbackStatisticsTotalCount;\n        totalinfo.replyPercentage = roundFun(feedbackStatisticsCount,feedbackStatisticsTotalCount);\n\n        totalinfo.attachDataList = [];\n        totalAttachmentStatistics.forEach((attachmentStatistics) => {\n          let attachData = {};\n\n          attachData.valueStatisticsCount = attachmentStatistics.statisticsCount;\n          attachData.valueTotalCount = attachmentStatistics.totalCount;\n          attachData.valuePercentage = roundFun(attachmentStatistics.statisticsCount,attachmentStatistics.totalCount);\n\n          totalinfo.attachDataList.push(attachData);\n        });\n\n        return totalinfo;\n    },\n\n    /**\n     * 合计的关闭窗口\n     */\n    closeParentInAll(unSelectCompanyMap){\n       console.log(\n        \"......closeParentInAll...\" +\n          \" unSelectUsers:\" +\n          JSON.stringify(unSelectCompanyMap)\n      );\n\n      this.checkedArr.forEach(companyCode => {\n          if(unSelectCompanyMap!=undefined && unSelectCompanyMap.has(companyCode)){\n              let userList = unSelectCompanyMap.get(companyCode);\n              this.unSelectComanyInfoMapInfo.set(companyCode,userList);\n              if(userList.length==0){//如果全不选\n                  this.checkedNames.splice(this.checkedNames.indexOf(companyCode), 1);\n              }else{\n                  if(this.unSelectComanyInfoMapInfo.has(companyCode)){\n                    this.unSelectComanyInfoMapInfo.delete(companyCode);          \n                  }\n                  if(this.checkedNames.indexOf(companyCode)<0){\n                    this.checkedNames.push(companyCode);\n                  }                \n              } \n          }else{\n            this.unSelectComanyInfoMapInfo.delete(companyCode);\n            if(this.checkedNames.indexOf(companyCode)<0){\n                  this.checkedNames.push(companyCode);\n            }\n          }\n      });\n\n      this.dialog_person = false;\n    },\n\n    closeParent(unSelectUsers, companyCode,isNoneSelected) {\n      console.log(\n        \"......closeParent....companyCode\" +\n          companyCode +\n          \" unSelectUsers:\" +\n          JSON.stringify(unSelectUsers)\n      );\n\n      this.dialog_person = false;\n\n      //没有选择1个人\n      if (isNoneSelected) {\n        this.checkedNames.splice(this.checkedNames.indexOf(companyCode), 1);\n        this.unSelectComanyInfoMapInfo.set(companyCode,[]);\n        console.log(\"checkedNames splice:\" + companyCode);\n      }else{//选择了其中几个人\n        if(unSelectUsers.length>0){\n            this.unSelectComanyInfoMapInfo.set(companyCode,unSelectUsers);\n        }else{\n          if(this.unSelectComanyInfoMapInfo.has(companyCode)){\n            this.unSelectComanyInfoMapInfo.delete(companyCode);          \n          }        \n        }\n        if(this.checkedNames.indexOf(companyCode)<0){\n            this.checkedNames.push(companyCode);\n        }\n      }\n\n      console.log(\"unSelectCompanyInfo:\" + JSON.stringify(this.unSelectComanyInfoMapInfo));\n      \n    },\n    //关闭\n    bt_close() {\n      console.log(\"......关闭按钮.......\");\n      let tmpSelectComanyInfoMapInfo = this.unSelectComanyInfoMapInfo;\n      this.$emit(\"closedChild\", tmpSelectComanyInfoMapInfo);\n    },\n    //当table row click时触发 - 表示全部，此时的传值\n    clickRow: function (type,companyCode, attachmentId) {\n      console.log(\"....clickRow....type:\" + type + \" companyCode:\" + companyCode+\" attachMentId:\"+attachmentId);\n      if(companyCode=='-'){\n        return;\n      }\n      this.selectCompanyCode = companyCode == \"-\" ? \"\" : companyCode;\n      this.selectStatisticsStatus = type;\n      this.clickAttachmentId = attachmentId;\n      this.dialog_person = true;\n    },\n    changeAllChecked: function () {\n      if (this.checkedAll) {\n        this.checkedArr.forEach((info) => {\n          this.checkedNames.push(info);\n        });\n\n        console.log(\"checkedArr:\" + JSON.stringify(this.checkedArr));\n        console.log(\"checkedNames:\" + JSON.stringify(this.checkedNames));\n      } else {\n        this.checkedNames = [];\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}