{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/authorityManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/views/page/authorityManagement.vue","mtime":1638535925251},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEFsbFBlcm1pc3Npb24sIGdldFRlbXBsYXRlTGlzdCxnZXREZXB0TGlzdCB9IGZyb20gIkAvYXBpL2dldERhdGEiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhdXRob3JpdHlNYW5hZ2VtZW50IiwKICBjb21wb25lbnRzOiB7CiAgICBlZGl0QXV0aG9yaXR5OiAoKSA9PiBpbXBvcnQoIi4vZWRpdEF1dGhvcml0eSIpLAogIH0sCgogIG1vdW50ZWQoKSB7CiAgICAvL2ZpeCBtZSA6IOWIpOaWreadoeS7tuS4jeimgeW/mOiusOS6hgogICAgbGV0IHJlc3AgPSBnZXRUZW1wbGF0ZUxpc3QoKTsKICAgIHRoaXMudGVtcGxhdGVMaXN0ID0gcmVzcC5kYXRhOwoKICAgIGxldCBkZXNwID0gZ2V0RGVwdExpc3QoKTsKICAgIHRoaXMuZGVwYXJ0bWVudCA9IGRlc3AuZGF0YQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXV0aW9uOnRydWUsCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICAgIGVkaXRBdXRob3JpdHk6IGZhbHNlLAogICAgICBoZWFkZXJzOiBbCiAgICAgICAgewogICAgICAgICAgdGV4dDogIuadg+mZkOWQjeensCIsCiAgICAgICAgICBhbGlnbjogInN0YXJ0IiwKICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICAgIHZhbHVlOiAidGVtcGxhdGVOYW1lIiwKICAgICAgICB9LAogICAgICAgIHsgdGV4dDogIuadg+mZkOaPj+i/sCIsIHZhbHVlOiAic3VtbWFyeSIgfSwKICAgICAgICAvLyB7IHRleHQ6ICfljIXlkKvmnYPpmZAnLCB2YWx1ZTogJ2F1dGhvcml0eScgfSwKICAgICAgICB7IHRleHQ6ICLljIXlkKvpg6jpl6giLCB2YWx1ZTogIm9lbUxpc3QiIH0sCiAgICAgICAgeyB0ZXh0OiAi5Y+R5biD5pe26Ze0IiwgdmFsdWU6ICJwdWJsaXNoVGltZSIgfSwKICAgICAgICB7IHRleHQ6ICLmk43kvZwiLCB2YWx1ZTogImFjdGlvbnMiLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgXSwKCiAgICAgIHRlbXBsYXRlTGlzdDogW10sCiAgICAgIHRlbXBsYXRlOnt9LAogICAgICBkZXBhcnRtZW50OltdLAogICAgICAvLz09PT09PSAg5YiG5Ymy57q/PT09PT09PQogICAgICBlZGl0ZWRJbmRleDogLTEsCiAgICAgIGVkaXRlZEl0ZW06IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgICAgYXV0aG9yaXR5OiBbXSwKICAgICAgICByb2xlczogIiIsCiAgICAgIH0sCiAgICAgIHNlbGVjdGlvbjogW10sCiAgICB9OwogIH0sCgogIC8v5Yqg6L296aG16Z2i5pe26K6+572u5re75Yqg5ZKM57yW6L6R5qCH6aKYCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1UaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gIua3u+WKoOadg+mZkCIgOiAi57yW6L6R5p2D6ZmQIjsKICAgIH0sCiAgICBpdGVtcygpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiVXNlcnMiLAogICAgICAgICAgY2hpbGRyZW46IHRoaXMudXNlcnMsCiAgICAgICAgfSwKICAgICAgXTsKICAgIH0sCiAgfSwKCiAgLy/nm5Hop4blr7nor53moYYKICB3YXRjaDogewogICAgZWRpdEF1dGhvcml0eSgpIHsKICAgICAgLy/nvJbovpHlr7nor53moYblt7LlhbPpl63jgILmuIXnkIbmlbDmja4KICAgICAgaWYodGhpcy5lZGl0QXV0aG9yaXR5ID09PSBmYWxzZSkgewogICAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHt9CiAgICAgICAgICAvLyBhbGVydCgicmVzdWx0ID0gIityZXN1bHQrIiB2ICIrdiArICIgICIraCkKICAgICAgfQogICAgfSwKCiAgICBkaWFsb2codmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCk7CiAgICB9LAogICAgZGlhbG9nRGVsZXRlKHZhbCkgewogICAgICB2YWwgfHwgdGhpcy5jbG9zZURlbGV0ZSgpOwogICAgfSwKICB9LAoKICAvL+mhtemdouesrOS4gOasoeWKoOi9veaXtizosIPnlKjliJ3lp4vljJbmlrnms5UKICBjcmVhdGVkKCkgewogICAgCiAgfSwKCiAgbWV0aG9kczogewogICAgCiAgICBpbml0aWFsaXplKCkgewogICAgICBnZXRBbGxQZXJtaXNzaW9uKHt9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCItLS0tLS0tLS0tLS0tIik7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICAvLyByZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICAgICAgLy8gY29uc29sZS5sb2codHlwZW9mKHJlcy5kYXRhKSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KTsKICAgIH0sCgogICAgLy/nvJbovpHmnYPpmZAKICAgIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgLy8gdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuZGVzc2VydHMuaW5kZXhPZihpdGVtKTsKICAgICAgLy8gdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgIC8vIHRoaXMuc2VsZWN0aW9uID0gdGhpcy5lZGl0ZWRJdGVtLmF1dGhvcml0eTsKICAgICAgLy8gdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICAvL2FsZXJ0KEpTT04uc3RyaW5naWZ5KGl0ZW0pKQoKICAgICAgLy9pZiAodGhpcy4kcmVmcy5jaGlsZCkgdGhpcy4kcmVmcy5jaGlsZC5jaGFuZ2VUcmVlKHRoaXMuZWRpdGVkSXRlbS5yb2xlcyk7CiAgICAgIHRoaXMudGVtcGxhdGUgPSBpdGVtOwogICAgICB0aGlzLmVkaXRBdXRob3JpdHk9dHJ1ZTsKICAgICAgCiAgICB9LAoKICAgIC8v5Yig6Zmk5LiA5Liq5p2D6ZmQCiAgICBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuZGVzc2VydHMuaW5kZXhPZihpdGVtKTsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gdHJ1ZTsKICAgIH0sCgogICAgLy/noa7lrprliKDpmaQKICAgIGRlbGV0ZUl0ZW1Db25maXJtKCkgewogICAgICB0aGlzLmRlc3NlcnRzLnNwbGljZSh0aGlzLmVkaXRlZEluZGV4LCAxKTsKICAgICAgdGhpcy5jbG9zZURlbGV0ZSgpOwogICAgfSwKCiAgICAvL+WFs+mXrea3u+WKoOe8lui+keWvueivneahhgogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKTsKICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKCiAgICAvL+WFs+mXreWIoOmZpOWvueivneahhgogICAgY2xvc2VEZWxldGUoKSB7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKTsKICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKCiAgICAvL+S/neWtmOe8lui+keWSjOaWsOWinueahOiusOW9lQogICAgc2F2ZSgpIHsKICAgICAgdGhpcy5lZGl0ZWRJdGVtLmF1dGhvcml0eSA9IHRoaXMuc2VsZWN0aW9uOwogICAgICBpZiAodGhpcy5lZGl0ZWRJbmRleCA+IC0xKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmRlc3NlcnRzW3RoaXMuZWRpdGVkSW5kZXhdLCB0aGlzLmVkaXRlZEl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGVzc2VydHMucHVzaCh0aGlzLmVkaXRlZEl0ZW0pOwogICAgICB9CiAgICAgIHRoaXMuc2VsZWN0aW9uID0gW107CiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0sCgogICAgLy/ojrflvpflrZDnu4Tku7bnmoTop5LoibIKICAgIGdldFJvbGVzKHNvblJvbGVzU2VsZWN0aW9uKSB7CiAgICAgIGxldCBzdHJUZW1wID0gW107CiAgICAgIHNvblJvbGVzU2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBzdHJUZW1wLnB1c2goaXRlbS5uYW1lKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbS5yb2xlcyA9IHN0clRlbXAuam9pbigiLCIpOwogICAgfSwKCiAgICAvL+aWsOWinuWvueivneahhum7mOiupOaYr+afpeeci+aWh+eroOWSjOafpeeci+WbnuWkjeOAggogICAgY2xlYXJBZGREaWFsb2dBbGwoKSB7CiAgICAgIHRoaXMuc2VsZWN0aW9uID0gWwogICAgICAgIHsgaWQ6IDE0LCBuYW1lOiAi5p+l55yL5paH56ugIiB9LAogICAgICAgIHsgaWQ6IDE1LCBuYW1lOiAi5p+l55yL5Zue5aSNIiB9LAogICAgICBdOwogICAgICB0aGlzLmVkaXRlZEl0ZW0uZGVzY3JpcHRpb24gPQogICAgICAgICLlj6rog73nnIvmlofnq6Dlkozlm57lpI3vvIzkuI3og73lj5HluIPmlofnq6DvvIzmnKrooqvliIbphY3mnYPpmZDmqKHmnb/nmoTop5LoibLpg73oh6rliqjkvb/nlKjmraTlpZfmnYPpmZAiOwogICAgICB0aGlzLiRyZWZzLmNoaWxkLnNlbGVjdGlvbiA9IFtdOwogICAgfSwKCiAgICAvL3NldCByb2xlcyBjb2xvcgogICAgZ2V0Q29sb3IoKSB7CiAgICAgIHJldHVybiAiZ3JleSI7CiAgICB9LAogICAgb25FZGl0QXV0aG9yaXR5VGVtcGxhdGVSZXN1bHQocmVzdWx0KXsKICAgICAgY29uc29sZS5sb2cocmVzdWx0KQogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["authorityManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"authorityManagement.vue","sourceRoot":"src/views/page","sourcesContent":["<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"templateList\"\n    sort-by=\"name\"\n    class=\"elevation-1\"\n    :items-per-page=\"5\"\n    :footer-props=\"{\n      'items-per-page-text': '每页显示条数',\n      pageText: '{0}-{1} of {2}',\n      'items-per-page-all-text': 'all',\n    }\"\n  >\n    <template v-slot:top>\n      <v-toolbar flat>\n        <v-toolbar-title>权限管理</v-toolbar-title>\n\n        <v-btn\n          color=\"primary\"\n          dark\n          class=\"mb-1 ml-4\"\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          @click=\"editAuthority = true\"\n        >\n          我的管理权限\n        </v-btn>\n        \n       <v-snackbar\n      v-model=\"caution\"\n      :timeout=\"timeout\"\n      :bottom=\"true\"\n      :width=\"240\"\n     \n    \n    >\n     abcd\n\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          color=\"blue\"\n          text\n          v-bind=\"attrs\"\n          @click=\"caution = false\"\n        >\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n\n        <edit-authority\n          :open=\"editAuthority\"\n          :template=\"template\"\n          @closeDialog=\"editAuthority = false\"\n          @onEditAuthorityTemplateResult=\"onEditAuthorityTemplateResult\"\n        />\n\n        <!--删除Dialog-->\n        <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n          <v-card>\n            <v-card-title class=\"text-h5\"\n              >你确定要删除\"{{ editedItem.name }}\"权限吗？</v-card-title\n            >\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                >取消</v-btn\n              >\n              <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                >确定</v-btn\n              >\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n    <template v-slot:[`item.oemList`]=\"{ item }\">\n     \n        <v-chip\n          v-for=\"(dept, index) in item.oemList\"\n          class=\"ma-2\"\n          :key=\"index\"\n          color=\"primary\"\n          text-color=\"white\"\n        >\n          {{ dept.companyName}}\n        </v-chip>  \n    </template>\n    <template v-slot:[`item.actions`]=\"{ item }\">\n      <v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n      <v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n    </template>\n    <template v-slot:no-data>\n      <v-btn color=\"primary\" @click=\"initialize\"> Reset </v-btn>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport { getAllPermission, getTemplateList,getDeptList } from \"@/api/getData\";\n\nexport default {\n  name: \"authorityManagement\",\n  components: {\n    editAuthority: () => import(\"./editAuthority\"),\n  },\n\n  mounted() {\n    //fix me : 判断条件不要忘记了\n    let resp = getTemplateList();\n    this.templateList = resp.data;\n\n    let desp = getDeptList();\n    this.department = desp.data\n  },\n\n  data() {\n    return {\n      caution:true,\n      dialog: false,\n      dialogDelete: false,\n      editAuthority: false,\n      headers: [\n        {\n          text: \"权限名称\",\n          align: \"start\",\n          sortable: false,\n          value: \"templateName\",\n        },\n        { text: \"权限描述\", value: \"summary\" },\n        // { text: '包含权限', value: 'authority' },\n        { text: \"包含部门\", value: \"oemList\" },\n        { text: \"发布时间\", value: \"publishTime\" },\n        { text: \"操作\", value: \"actions\", sortable: false },\n      ],\n\n      templateList: [],\n      template:{},\n      department:[],\n      //======  分割线=======\n      editedIndex: -1,\n      editedItem: {\n        name: \"\",\n        description: \"\",\n        authority: [],\n        roles: \"\",\n      },\n      selection: [],\n    };\n  },\n\n  //加载页面时设置添加和编辑标题\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"添加权限\" : \"编辑权限\";\n    },\n    items() {\n      return [\n        {\n          name: \"Users\",\n          children: this.users,\n        },\n      ];\n    },\n  },\n\n  //监视对话框\n  watch: {\n    editAuthority() {\n      //编辑对话框已关闭。清理数据\n      if(this.editAuthority === false) {\n          this.template = {}\n          // alert(\"result = \"+result+\" v \"+v + \"  \"+h)\n      }\n    },\n\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    },\n  },\n\n  //页面第一次加载时,调用初始化方法\n  created() {\n    \n  },\n\n  methods: {\n    \n    initialize() {\n      getAllPermission({})\n        .then((res) => {\n          console.log(\"-------------\");\n          console.log(res.data);\n          // res = JSON.parse(JSON.stringify(res));\n          // console.log(typeof(res.data));\n        })\n        .catch((res) => {\n          console.log(res);\n        });\n    },\n\n    //编辑权限\n    editItem(item) {\n      // this.editedIndex = this.desserts.indexOf(item);\n      // this.editedItem = Object.assign({}, item);\n      // this.selection = this.editedItem.authority;\n      // this.dialog = true;\n      //alert(JSON.stringify(item))\n\n      //if (this.$refs.child) this.$refs.child.changeTree(this.editedItem.roles);\n      this.template = item;\n      this.editAuthority=true;\n      \n    },\n\n    //删除一个权限\n    deleteItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    },\n\n    //确定删除\n    deleteItemConfirm() {\n      this.desserts.splice(this.editedIndex, 1);\n      this.closeDelete();\n    },\n\n    //关闭添加编辑对话框\n    close() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    //关闭删除对话框\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    //保存编辑和新增的记录\n    save() {\n      this.editedItem.authority = this.selection;\n      if (this.editedIndex > -1) {\n        Object.assign(this.desserts[this.editedIndex], this.editedItem);\n      } else {\n        this.desserts.push(this.editedItem);\n      }\n      this.selection = [];\n      this.close();\n    },\n\n    //获得子组件的角色\n    getRoles(sonRolesSelection) {\n      let strTemp = [];\n      sonRolesSelection.forEach(function (item) {\n        strTemp.push(item.name);\n      });\n      this.editedItem.roles = strTemp.join(\",\");\n    },\n\n    //新增对话框默认是查看文章和查看回复。\n    clearAddDialogAll() {\n      this.selection = [\n        { id: 14, name: \"查看文章\" },\n        { id: 15, name: \"查看回复\" },\n      ];\n      this.editedItem.description =\n        \"只能看文章和回复，不能发布文章，未被分配权限模板的角色都自动使用此套权限\";\n      this.$refs.child.selection = [];\n    },\n\n    //set roles color\n    getColor() {\n      return \"grey\";\n    },\n    onEditAuthorityTemplateResult(result){\n      console.log(result)\n    }\n  },\n};\n</script>\n\n<style scoped>\n</style>"]}]}