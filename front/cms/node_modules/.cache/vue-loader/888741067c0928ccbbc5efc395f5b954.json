{"remainingRequest":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/statisticalReportView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/src/components/statisticalReportView.vue","mtime":1641453010574},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/cms_code/my-message/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdXBwbGllclJlcG9ydFZpZXcgZnJvbSAiQC9jb21wb25lbnRzL3N0YXRpc3RpY2FsUmVwb3J0U3VwcGxpZXJWaWV3LnZ1ZSI7CmltcG9ydCB7IAogIGdldFJlbWluZGVyRGVhbGVycywKICBzZW5kTWVzc2FnZVJlbWluZCwKICBnZXRBcnRpY2xlQXJlYXMsCiAgZ2V0QWxsRGVhbGVyUmVwb3J0LAogIGdldEFsbERvd25sb2FkVXJsSW5SZXBvcnRWaWV3Cn0gZnJvbSAiQC9hcGkvZ2V0RGF0YS5qcyI7CmltcG9ydCB7IGRvd25sb2FkRmlsZUJ5VXJsIH0gZnJvbSAiQC91dGlscy9kb3dubG9hZC5qcyI7CmltcG9ydCB7cm91bmRGdW4sdGV4dEVsbGlwc2lzfSBmcm9tICJAL3V0aWxzL3N0cmluZ1V0aWxzLmpzIjsKaW1wb3J0IHsgc2hvd1NuYWNrYmFyLCBjbG9zZVNuYWNrYmFyIH0gZnJvbSAiQC91dGlscy9zbmFja2Jhci5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInN0YXRpc3RpY2FsUmVwb3J0VmlldyIsICAKCiAgcHJvcHM6IFsnbXNnSWRQYXJhbScsJ2ZlZWJhY2tCYWNrVHlwZSddLAoKICBjb21wb25lbnRzOiB7CiAgICBTdXBwbGllclJlcG9ydFZpZXcsCiAgICBsb2FkaW5nOiAoKSA9PiBpbXBvcnQoIkAvY29tcG9uZW50cy9iYXNlL2xvYWRpbmcudnVlIiksCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v54q25oCB77ya5bey6K+744CB5pyq6K+7CiAgICAgIFNUQVRVU19SRUFEOiAwLAogICAgICBTVEFUVVNfVU5SRUFEOiAxLAoKICAgICAgLy/nu5/orqHmn6Xor6LnsbvlnosgMDog6ZiF6K+757G75Z6L5p+l6K+iIDE6IOmZhOS7tuexu+Wei+afpeivoiAyOiDlm57lpI3nsbvlnovmn6Xor6IKICAgICAgU1RBVElTVElDU1NUQVRVU19UWVBFX1JFQUQ6IDAsCiAgICAgIFNUQVRJU1RJQ1NTVEFUVVNfVFlQRV9BVFRBQ0g6IDEsCiAgICAgIFNUQVRJU1RJQ1NTVEFUVVNfVFlQRV9SRVBMWTogMiwKICAgICAgLy/liqDovb3nirbmgIEKICAgICAgbG9hZGluZ3ZpZXc6IHRydWUsCiAgICAgIHJlbWluZGVyTG9hZGluZzpmYWxzZSwKCiAgICAgIERFQUxFUlRZUEU6IFsKICAgICAgICB7IHRleHQ6ICLlhajpg6giLCBpZDogIiIgfSwKICAgICAgICB7IHRleHQ6ICI0U+W6lyIsIGlkOiAiMSIgfSwKICAgICAgICB7IHRleHQ6ICLni6znq4vllK7lkI4iLCBpZDogIjAiIH0sCiAgICAgICAgeyB0ZXh0OiAi5LqM57qn572R54K5IiwgaWQ6ICIyIiB9LAogICAgICBdLAoKICAgICAgcmVtaW5kRGlhbG9nOiBmYWxzZSwKICAgICAgc2VhcmNoX3NlbGU6ICIiLAogICAgICBzZWxlY3RlZF9hcmVhOiBbXSwKICAgICAgZXhwYW5kZWQ6IFtdLAogICAgICBjbGlja0FyZWFOYW1lOiBbXSwKICAgICAgc3RhdGlzdGljc1N0YXR1czogMCwKICAgICAgYXR0YWNobWVudElkOiAwLAoKICAgICAgcmVtaW5kZXJDb21wYW55TGlzdDogW10sCiAgICAgIHVuU2VsZWN0ZWRSZW1pbmRlclVzZXJJZDogW10sCiAgICAgIHVuU2VsZWN0UmVtaW5kZXJDb21wYW55SWRzOiBbXSwKCiAgICAgIGRpYWxvZ19zdXBwbGllcjogZmFsc2UsCiAgICAgIG1zZ0lEOiB0aGlzLm1zZ0lkUGFyYW0sCgogICAgICBoZWFkZXJzOiBbXSwKICAgICAgZGVzc2VydHNfYXJlYTogW10sCgogICAgICBpc1NlbmRpbmc6ZmFsc2UsCgogICAgICBpdGVtc19zdGF0dXM6IFsi5pyq6K+7Iiwi5bey6K+7Il0sCiAgICAgIGFydGljbGVfYXJlYXM6W10sCiAgICAgIGl0ZW1zX2FyZWE6IFtdLAogICAgICBpdGVtc190eXBlOiBbXSwKCgogICAgICBzZWxlY3RSZWFkVmFsdWU6IHRoaXMuU1RBVFVTX1VOUkVBRCwKICAgICAgc2VsZWN0VHlwZVZhbHVlOiAiIiwKCiAgICAgIHNlbGVjdF9zdGF0dXM6ICLmnKror7siLAogICAgICBzZWxlY3RfYXJlYTogIuWFqOmDqCIsCiAgICAgIHNlbGVjdF90eXBlOiBbXSwKICAgICAgLy/mmK/lkKbmraPlnKjor7fmsYLnlJ/miJDkuIvovb11cmwKICAgICAgaXNEb3dubG9hZFVybFJlcXVlc3Rpbmc6ZmFsc2UsCiAgICAgIAogICAgICB1blNlbGVjdENvbWFueUluZm9NYXBJbmZvOiBuZXcgTWFwKCksCgogICAgICByZW1pbmRlcmhlYWRlcnM6IFsKICAgICAgICB7IHRleHQ6ICLljLrln58iLCB2YWx1ZTogImFyZWEiIH0sCiAgICAgICAgeyB0ZXh0OiAi57uP6ZSA5ZWGIiwgdmFsdWU6ICJjb21wYW55TmFtZSIgfSwKICAgICAgXSwKICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKAogICAgICAibW91bnRlZCAtLS0gbXNnSUQ6IiArCiAgICAgICAgdGhpcy5tc2dJRCArCiAgICAgICAgIiBmZWViYWNrQmFja1R5cGU6IiArCiAgICAgICAgdGhpcy5mZWViYWNrQmFja1R5cGUKICAgICk7CgogICAgdGhpcy5pdGVtc190eXBlID0gdGhpcy5ERUFMRVJUWVBFOwogICAgdGhpcy5zZWxlY3RfdHlwZSA9IHsgdGV4dDogIuWFqOmDqCIsIGlkOiAiIiB9OwogICAgdGhpcy5zZWxlY3RSZWFkVmFsdWUgPSB0aGlzLlNUQVRVU19VTlJFQUQ7CgogICAgLy/ojrflj5bmlofnq6DljLrln58gICAgCiAgICB0aGlzLmdldEFydGljbGVBcmVhc1NlcnZpY2UoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAKICAgIC8qKgogICAgICog6I635Y+W5paH56ug5Y+R5biD5pe25omA6YCJ5Yy65Z+fCiAgICAgKi8KICAgIGdldEFydGljbGVBcmVhc1NlcnZpY2UoKXsKICAgICAgICBnZXRBcnRpY2xlQXJlYXModGhpcy5tc2dJRCkKICAgICAgIC50aGVuKChyZXMpID0+IHsKCiAgICAgICAgICBjb25zb2xlLmxvZygiZ2V0QXJ0aWNsZUFyZWFzIHJlY2VpdmU6IiArIEpTT04uc3RyaW5naWZ5KHJlcykpOwoKICAgICAgICAgIGlmIChyZXMuZGF0YSA9PSBudWxsKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkYXRhIHNpemUgaXMgMCIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5wcm9jZXNzQXJlYVJlc3BvbnNlKHJlcy5kYXRhKTsKCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcyk9PnsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KSAgICAgICAKICAgIH0sICAgICAgIAogICAgCiAgICAvKioKICAgICAqIOWIneWni+WMluWMuuWfn+aVsOaNruWTjeW6lAogICAgICovCiAgICBwcm9jZXNzQXJlYVJlc3BvbnNlKGRhdGEpewogICAgICAgIC8v5Yid5aeL5YyW5Yy65Z+fCiAgICAgICAgdGhpcy5pbml0SXRlbXNBcmVhKGRhdGEpOyAgICAgICAgICAKCiAgICAgICAgLy/lvIDlp4vmn6Xor6LmiqXlkYoKICAgICAgICB0aGlzLmdldERlYWxlclJlcG9ydFNlcnZpY2UoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDojrflj5bmn6Xor6LmnaHku7blr7nlupTnmoTljLrln58KICAgICAqLwogICAgZ2V0UXVlcnlBcmVhKHNlbGVjdEFyZWEpewogICAgICBjb25zb2xlLmxvZygnZ2V0UXVlcnlBcmVhOicrc2VsZWN0QXJlYSk7ICAgICAgCiAgICAgIGlmKHNlbGVjdEFyZWEgPT0gIuWFqOmDqCIpewogICAgICAgICAgcmV0dXJuIHRoaXMuYXJ0aWNsZV9hcmVhczsKICAgICAgfWVsc2V7CiAgICAgICAgICByZXR1cm4gW3NlbGVjdEFyZWFdOyAgICAgICAgICAgCiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDojrflj5bnu5/orqHmiqXlkYoKICAgICAqLwogICAgZ2V0RGVhbGVyUmVwb3J0U2VydmljZSgpIHsKICAgICAgICB0aGlzLnJlc2V0RGF0YSgpOwogICAgICAgIHRoaXMubG9hZGluZ3ZpZXcgPSB0cnVlOwoKICAgICAgICBnZXRBbGxEZWFsZXJSZXBvcnQodGhpcy5tc2dJRCx0aGlzLmdldFF1ZXJ5QXJlYSh0aGlzLnNlbGVjdF9hcmVhKSx0aGlzLnNlbGVjdFR5cGVWYWx1ZSx0aGlzLnNlYXJjaF9zZWxlKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coImdldERlYWxlclJlcG9ydCByZWNlaXZlOiIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTsKCiAgICAgICAgICAgIGlmIChyZXMuZGF0YSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coImRhdGEgc2l6ZSBpcyAwIik7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSB0aGlzLmluaXRIZWFkZXJEYXRhKHJlcy5kYXRhLnJlcG9ydHMpOwogICAgICAgICAgICBpZihyZXMuZGF0YS5yZXBvcnRzLmxlbmd0aD09MCl7CiAgICAgICAgICAgICAgdGhpcy5kZXNzZXJ0c19hcmVhID0gW107CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIHRoaXMuZGVzc2VydHNfYXJlYSA9IHRoaXMuaW5pdEJvZHlEYXRhKHJlcy5kYXRhLnJlcG9ydHMpOwogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmd2aWV3ID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIHJlc2V0RGF0YSgpIHsKICAgICAgdGhpcy5oZWFkZXJzID0gW107CiAgICAgIHRoaXMuZGVzc2VydHNfYXJlYSA9IFtdOwogICAgfSwKCiAgICAvL+aehOW7uuWNleS4qmhlYWRlcuWktOS/oeaBrwogICAgYnVpbGRIZWFkZXJCZWFuKHRleHQsIHZhbHVlKSB7CiAgICAgIGxldCBoZWFkZXJCZWFuID0ge307CiAgICAgIGhlYWRlckJlYW4udGV4dCA9IHRleHRFbGxpcHNpcyh0ZXh0LDIwKTsKCiAgICAgIGhlYWRlckJlYW4udmFsdWUgPSB2YWx1ZTsKICAgICAgaGVhZGVyQmVhbi53aWR0aCA9ICIxMHJlbSI7CiAgICAgIGhlYWRlckJlYW4uYWxpZ24gPSAibGVmdCI7CgogICAgICByZXR1cm4gaGVhZGVyQmVhbjsKICAgIH0sCgogICAgLyoqCiAgICAgKiDliJ3lp4vljJbpgInmi6nljLrln58KICAgICAqLwogICAgaW5pdEl0ZW1zQXJlYShkYXRhKSB7CiAgICAgIHRoaXMuYXJ0aWNsZV9hcmVhcyA9IFtdOwogICAgICB0aGlzLml0ZW1zX2FyZWEgPSBbJ+WFqOmDqCddOwoKICAgICAgZGF0YS5mb3JFYWNoKChhcmVhTmFtZSkgPT4gewogICAgICAgICAgdGhpcy5pdGVtc19hcmVhLnB1c2goYXJlYU5hbWUpOwogICAgICAgICAgdGhpcy5hcnRpY2xlX2FyZWFzLnB1c2goYXJlYU5hbWUpOwogICAgICB9KTsKICAgIH0sCgogICAgLy/liJ3lp4vljJZIZWFkZXLnmoTmlbDmja4KICAgIGluaXRIZWFkZXJEYXRhKGRhdGEpIHsKICAgICAgbGV0IGhlYWRlckRhdGFBcnJheSA9IFtdOwoKICAgICAgaGVhZGVyRGF0YUFycmF5LnB1c2godGhpcy5idWlsZEhlYWRlckJlYW4oIuWQjeensCIsICJhcmVhIikpOyAgIAogICAgICBpZih0aGlzLnNlbGVjdFJlYWRWYWx1ZSA9PSB0aGlzLlNUQVRVU19VTlJFQUQpewogICAgICAgICAgaGVhZGVyRGF0YUFycmF5LnB1c2godGhpcy5idWlsZEhlYWRlckJlYW4oIuacquivu+e7n+iuoSIsICJyZWFkaW5nIikpOwogICAgICB9ZWxzZXsKICAgICAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLlt7Lor7vnu5/orqEiLCAicmVhZGluZyIpKTsKICAgICAgfSAgIAogICAgICAvL+WmguaenOaYr+aXoOmcgOimgeWbnuWkjeeahOaWh+eroO+8jOatpOWIl+S4jemcgOimgeWxleekugogICAgICBpZih0aGlzLmZlZWJhY2tCYWNrVHlwZSE9NCl7CiAgICAgICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi5bey5Zue5aSN57uf6K6hIiwgInJlcGx5IikpOwogICAgICB9CiAgICAgIAogICAgICBpZiAoZGF0YS5sZW5ndGg9PTApIHsKICAgICAgICBjb25zb2xlLmxvZygiaW5pdEhlYWRlckRhdGE6YXR0YWNobWVudFN0YXRpc3RpY3MgaXMgMCIpOwogICAgICAgIHJldHVybiBoZWFkZXJEYXRhQXJyYXk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCJpbml0SGVhZGVyRGF0YTpkYXRhICIrSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwoKICAgICAgbGV0IGF0dGFjaE5hbWVMaXN0ID0gW107CgogICAgICBkYXRhLmZvckVhY2goKHN1cHBsaWVyRGF0YSk9PnsKICAgICAgICAgIGlmKHN1cHBsaWVyRGF0YS5hdHRhY2htZW50UmVwb3J0cyE9bnVsbCYmc3VwcGxpZXJEYXRhLmF0dGFjaG1lbnRSZXBvcnRzLmxlbmd0aD4wCiAgICAgICAgICAgICYmYXR0YWNoTmFtZUxpc3QubGVuZ3RoPT0wKXsgICAgICAgICAgICAKICAgICAgICAgICAgICBzdXBwbGllckRhdGEuYXR0YWNobWVudFJlcG9ydHMuZm9yRWFjaCgoYXR0YWNobWVudFN0YXRpc3RpY3MpID0+IHsKICAgICAgICAgICAgICBsZXQgYXR0YWNobWVudE5hbWUgPSBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50TmFtZS5zbGljZSgKICAgICAgICAgICAgICAgICAgYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudE5hbWUubGFzdEluZGV4T2YoIi8iKSArIDEKICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICBhdHRhY2hOYW1lTGlzdC5wdXNoKAogICAgICAgICAgICAgICAgdGhpcy5idWlsZEhlYWRlckJlYW4oCiAgICAgICAgICAgICAgICAgICLlt7LkuIvovb3nu5/orqEoIiArIGF0dGFjaG1lbnROYW1lICsgIikiLAogICAgICAgICAgICAgICAgICBhdHRhY2htZW50U3RhdGlzdGljcy5hdHRhY2htZW50TmFtZQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0pOyAgICAgICAgICAKICAgICAgICAgIH0KICAgICAgfSk7ICAgICAgICAKICAgICAgCiAgICAgIGF0dGFjaE5hbWVMaXN0LmZvckVhY2goKGhlYWRlckJlYW4pPT57CiAgICAgICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaChoZWFkZXJCZWFuKTsKICAgICAgfSk7CiAgICAgIAogICAgICByZXR1cm4gaGVhZGVyRGF0YUFycmF5OwogICAgfSwKCiAgICAvKioKICAgICAqIOmYheivu+e7n+iuoei1i+WAvAogICAgICovCiAgICBjb21wb3NlUmVhZFN0YXRpc3RpY3NEYXRhKGJvZHlCZWFuLGhhdmVSZWFkQ291bnQscmVhZENvdW50KXsKICAgICAgICAgIGlmKHRoaXMuc2VsZWN0UmVhZFZhbHVlID09IHRoaXMuU1RBVFVTX1JFQUQpewogICAgICAgICAgICAgIGJvZHlCZWFuLnJlYWRpbmdTdGF0aXN0aWNzQ291bnQgPSBoYXZlUmVhZENvdW50OwogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgYm9keUJlYW4ucmVhZGluZ1N0YXRpc3RpY3NDb3VudCA9IHJlYWRDb3VudCAtIGhhdmVSZWFkQ291bnQ7CiAgICAgICAgICB9ICAgICAgICAgIAogICAgICAgICAgYm9keUJlYW4ucmVhZGluZ1RvdGFsQ291bnQgPSByZWFkQ291bnQ7CiAgICAgICAgICBib2R5QmVhbi5yZWFkaW5nUGVyY2VudGFnZSA9IHJvdW5kRnVuKGJvZHlCZWFuLnJlYWRpbmdTdGF0aXN0aWNzQ291bnQsYm9keUJlYW4ucmVhZGluZ1RvdGFsQ291bnQpOyAgICAgICAgCiAgICB9LAoKICAgIC8qKgogICAgICog6ZiF6K+757uf6K6h5Y+N6aaICiAgICAgKi8KICAgIGNvbXBvc2VGZWVkYmFja0RhdGEoYm9keUJlYW4saGF2ZUZlZWRiYWNrQ291bnQsZmVlZGJhY2tDb3VudCl7ICAgICAgCiAgICAgICAgICBib2R5QmVhbi5yZXBseVN0YXRpc3RpY3NDb3VudCA9IGhhdmVGZWVkYmFja0NvdW50OyAgICAgICAgICAgIAogICAgICAgICAgYm9keUJlYW4ucmVwbHlUb3RhbENvdW50ID0gZmVlZGJhY2tDb3VudDsKICAgICAgICAgIGJvZHlCZWFuLnJlcGx5UGVyY2VudGFnZSA9IHJvdW5kRnVuKGJvZHlCZWFuLnJlcGx5U3RhdGlzdGljc0NvdW50LGJvZHlCZWFuLnJlcGx5VG90YWxDb3VudCk7CiAgICB9LAoKICAgIC8qKgogICAgICog57uE6KOF6ZmE5Lu25paH5Lu2CiAgICAgKi8KICAgIGNvbXBvc2VBdHRhY2hGaWxlKGF0dGFjaG1lbnRTdGF0aXN0aWNzKXsKICAgICAgICBsZXQgYXR0YWNoRGF0YSA9IHt9OwogICAgICAgIAogICAgICAgIGF0dGFjaERhdGEuYXR0YWNobWVudElkID0gYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudElkOwogICAgICAgIGF0dGFjaERhdGEudmFsdWVTdGF0aXN0aWNzQ291bnQgPSBhdHRhY2htZW50U3RhdGlzdGljcy5oYXZlRG93bmxvYWRDb3VudDsgICAgICAgIAogICAgICAgIGF0dGFjaERhdGEudmFsdWVUb3RhbENvdW50ID0gYXR0YWNobWVudFN0YXRpc3RpY3MuZG93bmxvYWRDb3VudDsKICAgICAgICBhdHRhY2hEYXRhLnZhbHVlUGVyY2VudGFnZSA9IHJvdW5kRnVuKGF0dGFjaERhdGEudmFsdWVTdGF0aXN0aWNzQ291bnQsYXR0YWNoRGF0YS52YWx1ZVRvdGFsQ291bnQpOwoKICAgICAgICByZXR1cm4gYXR0YWNoRGF0YTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDmlrDlu7rkuIDkuKrpmYTku7blr7nosaEKICAgICAqLwogICAgYnVpbGROZXdBdHRhY2htZW50RGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlkOiAiIiwKICAgICAgICAgICAgc3RhdGlzdGljc0NvdW50OiAwLAogICAgICAgICAgICB0b3RhbENvdW50OiAwLCAgICAgICAgICAKICAgICAgICB9OwogICAgfSwKICAgCiAgICAvKioKICAgICAqIOe7hOijheihqOagvOWGheWuuQogICAgICovCiAgICBpbml0Qm9keURhdGEoZGF0YSkgewogICAgICAgIGxldCBkYXRhQXJyYXkgPSBbXTsKICAgICAgICBsZXQgdG90YWxpbmZvID0ge307CiAgICAgICAgbGV0IHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3MgPSBbXTsKCiAgICAgICAgdG90YWxpbmZvLmFyZWEgPSAi5ZCI6K6hIjsKCiAgICAgICAgbGV0IHJlYWRTdGF0aXN0aWNzQ291bnQgPSAwLAogICAgICAgICAgcmVhZFN0YXRpc3RpY3NUb3RhbENvdW50ID0gMDsKICAgICAgICBsZXQgZmVlZGJhY2tTdGF0aXN0aWNzQ291bnQgPSAwLAogICAgICAgICAgZmVlZGJhY2tTdGF0aXN0aWNzVG90YWxDb3VudCA9IDA7CgogICAgICAgIGRhdGEuZm9yRWFjaCgoc3RhdGlzdGljc1JlcG9ydCkgPT4gewoKICAgICAgICAgICAgICBpZihzdGF0aXN0aWNzUmVwb3J0LmFyZWE9PW51bGwpeyAKICAgICAgICAgICAgICAgIHJldHVybjsgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGxldCBib2R5QmVhbiA9IHt9OwoKICAgICAgICAgICAgICBib2R5QmVhbi5hcmVhID0gc3RhdGlzdGljc1JlcG9ydC5hcmVhOwoKICAgICAgICAgICAgICAvL+mYheivu+e7n+iuoei1i+WAvAogICAgICAgICAgICAgIHRoaXMuY29tcG9zZVJlYWRTdGF0aXN0aWNzRGF0YShib2R5QmVhbixzdGF0aXN0aWNzUmVwb3J0LmhhdmVSZWFkQ291bnQsc3RhdGlzdGljc1JlcG9ydC5yZWFkQ291bnQpOwogICAgICAgICAgICAgIHJlYWRTdGF0aXN0aWNzQ291bnQgKz0gYm9keUJlYW4ucmVhZGluZ1N0YXRpc3RpY3NDb3VudDsKICAgICAgICAgICAgICByZWFkU3RhdGlzdGljc1RvdGFsQ291bnQgKz0gYm9keUJlYW4ucmVhZGluZ1RvdGFsQ291bnQ7CgogICAgICAgICAgICAgIC8v5Zue5aSN57uf6K6h6LWL5YC8CiAgICAgICAgICAgICAgdGhpcy5jb21wb3NlRmVlZGJhY2tEYXRhKGJvZHlCZWFuLHN0YXRpc3RpY3NSZXBvcnQuaGF2ZUZlZWRiYWNrQ291bnQsc3RhdGlzdGljc1JlcG9ydC5mZWVkYmFja0NvdW50KTsKICAgICAgICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NDb3VudCArPSBib2R5QmVhbi5yZXBseVN0YXRpc3RpY3NDb3VudDsKICAgICAgICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50ICs9IGJvZHlCZWFuLnJlcGx5VG90YWxDb3VudDsgICAKCiAgICAgICAgICAgICAgLy/pmYTku7bkuIvovb3nu5/orqEKICAgICAgICAgICAgICBsZXQgYXR0YWNoRGF0YUxpc3QgPSBbXTsKCiAgICAgICAgICAgICAgc3RhdGlzdGljc1JlcG9ydC5hdHRhY2htZW50UmVwb3J0cy5mb3JFYWNoKAogICAgICAgICAgICAgICAgKGF0dGFjaG1lbnRTdGF0aXN0aWNzLCBpbmRleCkgPT4geyAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3NbaW5kZXhdID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0gPSB0aGlzLmJ1aWxkTmV3QXR0YWNobWVudERhdGEoKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgLy/orr7nva7pmYTku7bmlbDmja4KICAgICAgICAgICAgICAgICAgbGV0IGF0dGFjaERhdGEgPSB0aGlzLmNvbXBvc2VBdHRhY2hGaWxlKGF0dGFjaG1lbnRTdGF0aXN0aWNzKTsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3NbaW5kZXhdLmF0dGFjaG1lbnRJZCA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmF0dGFjaG1lbnRJZDsKICAgICAgICAgICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0uc3RhdGlzdGljc0NvdW50ICs9IGF0dGFjaERhdGEudmFsdWVTdGF0aXN0aWNzQ291bnQ7CiAgICAgICAgICAgICAgICAgIHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3NbaW5kZXhdLnRvdGFsQ291bnQgKz0gYXR0YWNoRGF0YS52YWx1ZVRvdGFsQ291bnQ7CgogICAgICAgICAgICAgICAgICBhdHRhY2hEYXRhTGlzdC5wdXNoKGF0dGFjaERhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgIGJvZHlCZWFuLmF0dGFjaERhdGFMaXN0ID0gYXR0YWNoRGF0YUxpc3Q7CgogICAgICAgICAgICAgIGRhdGFBcnJheS5wdXNoKGJvZHlCZWFuKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB0b3RhbGluZm8ucmVhZGluZ1N0YXRpc3RpY3NDb3VudCA9IHJlYWRTdGF0aXN0aWNzQ291bnQ7CiAgICAgICAgICAgIHRvdGFsaW5mby5yZWFkaW5nVG90YWxDb3VudCA9IHJlYWRTdGF0aXN0aWNzVG90YWxDb3VudDsKICAgICAgICAgICAgdG90YWxpbmZvLnJlYWRpbmdQZXJjZW50YWdlID0gcm91bmRGdW4ocmVhZFN0YXRpc3RpY3NDb3VudCxyZWFkU3RhdGlzdGljc1RvdGFsQ291bnQpOwoKICAgICAgICAgICAgdG90YWxpbmZvLnJlcGx5U3RhdGlzdGljc0NvdW50ID0gZmVlZGJhY2tTdGF0aXN0aWNzQ291bnQ7CiAgICAgICAgICAgIHRvdGFsaW5mby5yZXBseVRvdGFsQ291bnQgPSBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50OwogICAgICAgICAgICB0b3RhbGluZm8ucmVwbHlQZXJjZW50YWdlID0gcm91bmRGdW4oZmVlZGJhY2tTdGF0aXN0aWNzQ291bnQsZmVlZGJhY2tTdGF0aXN0aWNzVG90YWxDb3VudCk7CgogICAgICAgICAgICB0b3RhbGluZm8uYXR0YWNoRGF0YUxpc3QgPSBbXTsKICAgICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljcy5mb3JFYWNoKChhdHRhY2htZW50U3RhdGlzdGljcykgPT4gewogICAgICAgICAgICAgIGxldCBhdHRhY2hEYXRhID0ge307CgogICAgICAgICAgICBhdHRhY2hEYXRhLmF0dGFjaG1lbnRJZCA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmF0dGFjaG1lbnRJZDsKICAgICAgICAgICAgYXR0YWNoRGF0YS52YWx1ZVN0YXRpc3RpY3NDb3VudCA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLnN0YXRpc3RpY3NDb3VudDsKICAgICAgICAgICAgYXR0YWNoRGF0YS52YWx1ZVRvdGFsQ291bnQgPSBhdHRhY2htZW50U3RhdGlzdGljcy50b3RhbENvdW50OwogICAgICAgICAgICBhdHRhY2hEYXRhLnZhbHVlUGVyY2VudGFnZSA9IHJvdW5kRnVuKGF0dGFjaG1lbnRTdGF0aXN0aWNzLnN0YXRpc3RpY3NDb3VudCxhdHRhY2htZW50U3RhdGlzdGljcy50b3RhbENvdW50KTsKCiAgICAgICAgICAgIHRvdGFsaW5mby5hdHRhY2hEYXRhTGlzdC5wdXNoKGF0dGFjaERhdGEpOwogICAgICAgIH0pOwoKICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICJ0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzOiIgKyBKU09OLnN0cmluZ2lmeSh0b3RhbGluZm8uYXR0YWNoRGF0YUxpc3QpCiAgICAgICAgKTsKCiAgICAgICAgZGF0YUFycmF5LnVuc2hpZnQodG90YWxpbmZvKTsKCiAgICAgICAgcmV0dXJuIGRhdGFBcnJheTsKICAgIH0sICAgIAoKICAgIGNsb3NlUmVtaW5kZXIoKSB7CiAgICAgIGNvbnNvbGUubG9nKCIuLi4uLi7lhbPpl63mj5DphpLmjInpkq4uLi4uLi4uIik7CiAgICAgIHRoaXMucmVtaW5kRGlhbG9nID0gZmFsc2U7CiAgICAgIGNsb3NlU25hY2tiYXIoKTsKICAgIH0sCgogICAgLy/lhbPpl60KICAgIGJ0X2Nsb3NlKCkgewogICAgICBjb25zb2xlLmxvZygiLi4uLi4u5YWz6Zet5oyJ6ZKuLi4uLi4uLiIpOwogICAgICB0aGlzLiRlbWl0KCJjbG9zZWRDaGlsZCIsIGZhbHNlKTsKICAgIH0sCiAgICAvL+WFs+mXrWRpYWxvZwogICAgY2xvc2VQYXJlbnQodW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mbykgewogICAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLS0iICsgdGhpcy5ub3dEaWFsb2cpOwogICAgICB0aGlzLmRpYWxvZ19zdXBwbGllciA9IGZhbHNlOwoKICAgICAgdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmNsZWFyKCk7CiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiB1blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmVudHJpZXMoKSkgewogICAgICAgIHRoaXMudW5TZWxlY3RDb21hbnlJbmZvTWFwSW5mby5zZXQoa2V5LCB2YWx1ZSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDojrflj5bpnIDopoHmjpLpmaTnmoTlhazlj7jliJfooagKICAgICAqLwogICAgZ2V0VW5TZWxlY3RDb21wYW55Q29kZUxpc3QoKXsKICAgICAgICBsZXQgZXhjbHVkZUNvbXBhbnlDb2RlID0gW107CgogICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiB0aGlzLnVuU2VsZWN0Q29tYW55SW5mb01hcEluZm8uZW50cmllcygpKSB7CiAgICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aD09MCl7ICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGV4Y2x1ZGVDb21wYW55Q29kZS5wdXNoKGtleSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCdnZXRVblNlbGVjdENvbXBhbnlDb2RlTGlzdDonK0pTT04uc3RyaW5naWZ5KGV4Y2x1ZGVDb21wYW55Q29kZSkpOwoKICAgICAgICByZXR1cm4gZXhjbHVkZUNvbXBhbnlDb2RlOyAgICAgIAogICAgfSwKCiAgICAvKioKICAgICAqIOiOt+WPlumcgOimgeaOkumZpOeahOeUqOaIt+WIl+ihqAogICAgICovCiAgICBnZXRVbnNlbGVjdFVzZXJMaXN0KCl7CiAgICAgICAgbGV0IGV4Y2x1ZGVVc2VyTGlzdCA9IFtdOwoKICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgdGhpcy51blNlbGVjdENvbWFueUluZm9NYXBJbmZvLmVudHJpZXMoKSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygia2V5OiIra2V5KyIgdmFsdWU6IitKU09OLnN0cmluZ2lmeSh2YWx1ZSkpOwogICAgICAgICAgICBpZih2YWx1ZS5sZW5ndGg+MCl7ICAgICAgIAogICAgICAgICAgICAgICAgdmFsdWUuZm9yRWFjaCgoaXRlbSk9PnsKICAgICAgICAgICAgICAgICAgZXhjbHVkZVVzZXJMaXN0LnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygnZ2V0VW5zZWxlY3RVc2VyTGlzdDonK0pTT04uc3RyaW5naWZ5KGV4Y2x1ZGVVc2VyTGlzdCkpOwoKICAgICAgICByZXR1cm4gZXhjbHVkZVVzZXJMaXN0OwogICAgfSwgIAoKICAgIC8v5pi+56S6UmVtaW5kZXLlvLnlh7rmoYYKICAgIHNob3dSZW1pbmRlckRpYWxvZygpewogICAgICAgIHRoaXMucmVtaW5kRGlhbG9nID0gdHJ1ZTsKICAgICAgICB0aGlzLnJlbWluZGVyTG9hZGluZyA9IHRydWU7CgogICAgICAgIGdldFJlbWluZGVyRGVhbGVycyh0aGlzLm1zZ0lELHRoaXMuZ2V0VW5TZWxlY3RDb21wYW55Q29kZUxpc3QoKSkKICAgICAgICAudGhlbigocmVzKSA9PiB7ICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKHJlcy5jb2RlPT0nMCcpewogICAgICAgICAgICAgICAgdGhpcy5yZW1pbmRlckNvbXBhbnlMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5yZW1pbmRlckNvbXBhbnlMaXN0ID0gW107CiAgICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlbWluZGVyQ29tcGFueUxpc3Q6JytKU09OLnN0cmluZ2lmeSh0aGlzLnJlbWluZGVyQ29tcGFueUxpc3QpKTsKICAgICAgICB9KS5maW5hbGx5KCgpPT57CiAgICAgICAgICB0aGlzLnJlbWluZGVyTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwoKICAgIH0sCiAgICAvL+WPkemAgeaPkOmGkgogICAgc2VuZFJlbWluZGVyKCkgewogICAgICBjb25zb2xlLmxvZygiLi4uLi4u5Y+R6YCB5o+Q6YaSLi4uLi4uLiIpOwoKICAgICAgdGhpcy5pc1NlbmRpbmcgPSB0cnVlOwogICAgICB0aGlzLnJlbWluZERpYWxvZyA9IGZhbHNlOyAgICAgIAoKICAgICAgc2VuZE1lc3NhZ2VSZW1pbmQoCiAgICAgICAgdGhpcy5tc2dJRCwKICAgICAgICB0aGlzLmdldFVuU2VsZWN0Q29tcGFueUNvZGVMaXN0KCksCiAgICAgICAgdGhpcy5nZXRVbnNlbGVjdFVzZXJMaXN0KCkKICAgICAgICApCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZihyZXMuY29kZT09MCl7CiAgICAgICAgICAgICAgc2hvd1NuYWNrYmFyKCLlj5HpgIHmiJDlip8iKTsgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSA9PSBudWxsIHx8IHR5cGVvZiBlcnJvci5yZXNwb25zZSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgcmVzID0gZXJyb3IucmVzcG9uc2U7CiAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gbnVsbCB8fCB0eXBlb2YgcmVzLmRhdGEgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgZGF0YS5jb2RlICE9IG51bGwgJiZkYXRhLmNvZGU9PScyOCcKICAgICAgICAgICkgewogICAgICAgICAgICBzaG93U25hY2tiYXIoIjHlsI/ml7blhoXlj6rog73lj5HpgIEx5qyh5o+Q6YaS77yM6K+356iN5ZCO5YaN6K+V6K+VIik7ICAgICAgICAgICAgCiAgICAgICAgICB9CgogICAgICAgIH0pLmZpbmFsbHkoKCk9PnsgICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5pc1NlbmRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvL+afpeaJvgogICAgYnRfc2VhcmNoKCkgewogICAgICBjb25zb2xlLmxvZygiLi4uLi4u5p+l5om+Li4uLi4uLjoiICsgdGhpcy5zZWFyY2hfc2VsZSk7CiAgICAgIGlmICh0aGlzLnNlYXJjaF9zZWxlICE9ICIiKSB7CiAgICAgICAgICB0aGlzLmdldERlYWxlclJlcG9ydFNlcnZpY2UoKTsKICAgICAgfQogICAgfSwKICAgIC8v6L+Y5Y6fCiAgICBidF9yZXNldCgpIHsKICAgICAgY29uc29sZS5sb2coIi4uLi4uLui/mOWOny4uLi4uLi4iKTsKICAgICAgdGhpcy5zZWFyY2hfc2VsZSA9ICIiOwogICAgICAodGhpcy5zZWxlY3Rfc3RhdHVzID0gIuacquivuyIpLAogICAgICAgICh0aGlzLnNlbGVjdF90eXBlID0geyB0ZXh0OiAi5YWo6YOoIiwgaWQ6ICIiIH0pOwogICAgICB0aGlzLnNlbGVjdFJlYWRWYWx1ZSA9IHRoaXMuU1RBVFVTX1VOUkVBRDsKICAgICAgdGhpcy5zZWxlY3RfYXJlYSA9ICLlhajpg6giOwoKICAgICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgICB9LAogICAgLy/nirbmgIHpgInmi6nnmoTlgLzmlLnlj5gKICAgIHNlbGVjdFN0YXR1c0NoYW5nZSgpIHsKICAgICAgY29uc29sZS5sb2coIi4uLi7nirbmgIHpgInmi6kuLi4uIDoiICsgdGhpcy5zZWxlY3Rfc3RhdHVzKTsKICAgICAgaWYgKHRoaXMuc2VsZWN0X3N0YXR1cyA9PSAi5pyq6K+7IikgewogICAgICAgIHRoaXMuc2VsZWN0UmVhZFZhbHVlID0gdGhpcy5TVEFUVVNfVU5SRUFEOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0UmVhZFZhbHVlID0gdGhpcy5TVEFUVVNfUkVBRDsKICAgICAgfQoKICAgICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgICB9LAogICAgLy/ljLrln5/pgInmi6nnmoTlgLzmlLnlj5gKICAgIHNlbGVjdEFyZWFDaGFuZ2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCIuLi4u5Yy65Z+f6YCJ5oupLi4uLiA6IiArIHRoaXMuc2VsZWN0X2FyZWEpOwoKICAgICAgdGhpcy5nZXREZWFsZXJSZXBvcnRTZXJ2aWNlKCk7CiAgICB9LAogICAgZXhwb3J0UmVwbHkoKSB7CiAgICAgIGNvbnNvbGUubG9nKCIuLi4u5a+85Ye65Zue5aSN6ZmE5Lu2Li4uLiA6IiArIHRoaXMuc2VsZWN0X2FyZWEpOwogICAgCiAgICAgIHRoaXMuaXNEb3dubG9hZFVybFJlcXVlc3RpbmcgPSB0cnVlOwoKICAgICAgZ2V0QWxsRG93bmxvYWRVcmxJblJlcG9ydFZpZXcodGhpcy5tc2dJRCkKICAgICAgICAudGhlbigocmVzKSA9PiB7IAogICAgICAgICAgaWYodHlwZW9mIHJlcyAhPT0gInVuZGVmaW5lZCIgJiYgcmVzICE9PSBudWxsICYmIHJlcy5jb2RlID09PSAwICYmIHR5cGVvZiByZXMuZGF0YSAhPT0gInVuZGVmaW5lZCIgJiYgcmVzLmRhdGEgIT09IG51bGwgJiYgcmVzLmRhdGEgIT09ICIiKSB7CiAgICAgICAgICAgIGRvd25sb2FkRmlsZUJ5VXJsKHJlcy5kYXRhKSAgIAogICAgICAgICAgfWVsc2UgewogICAgICAgICAgICBzaG93U25hY2tiYXIoJ+S4i+i9veWksei0pe+8jOivt+eojeWAmemHjeivlScpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgc2hvd1NuYWNrYmFyKCfkuIvovb3lpLHotKXvvIzor7fnqI3lgJnph43or5UnKTsKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgdGhpcy5pc0Rvd25sb2FkVXJsUmVxdWVzdGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v57G75Z6L6YCJ5oup55qE5YC85pS55Y+YCiAgICBzZWxlY3RUeXBlQ2hhbmdlKCkgewogICAgICB0aGlzLnNlbGVjdFR5cGVWYWx1ZSA9IHRoaXMuc2VsZWN0X3R5cGUuaWQ7CgogICAgICBjb25zb2xlLmxvZygiLi4uLuexu+Wei+mAieaLqS4uLi4gc2VsZWN0VHlwZVZhbHVlOiIgKyB0aGlzLnNlbGVjdFR5cGVWYWx1ZSk7CgogICAgICB0aGlzLmdldERlYWxlclJlcG9ydFNlcnZpY2UoKTsKICAgIH0sCiAgICAvL+W9k3RhYmxlIHJvdyBjbGlja+aXtuinpuWPkQogICAgY2xpY2tSb3c6IGZ1bmN0aW9uICh0eXBlLCBhcmVhLCBhdHRhY2hJZCkgeyAgICAKICAgICAgaWYoYXJlYT09J+WQiOiuoScpeyAgICAgICAgCiAgICAgICAgLy8gIHRoaXMuY2xpY2tBcmVhTmFtZSA9IHRoaXMuZ2V0UXVlcnlBcmVhKCflhajpg6gnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZXsKICAgICAgICAgdGhpcy5jbGlja0FyZWFOYW1lID0gdGhpcy5nZXRRdWVyeUFyZWEoYXJlYSk7CiAgICAgIH0KICAgICAgdGhpcy5zdGF0aXN0aWNzU3RhdHVzID0gdHlwZTsKICAgICAgdGhpcy5hdHRhY2htZW50SWQgPSBhdHRhY2hJZDsKCiAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICIuLi4ucm93Q2xpY2suLi4uIHN0YXRpc3RpY3NTdGF0dXM6IiArCiAgICAgICAgICB0aGlzLnN0YXRpc3RpY3NTdGF0dXMgKwogICAgICAgICAgIiAgY2xpY2tBcmVhTmFtZToiICsKICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMuY2xpY2tBcmVhTmFtZSkgKwogICAgICAgICAgIiBhdHRhY2htZW50SWQ6IiArCiAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRJZAogICAgICApOwoKICAgICAgdGhpcy5kaWFsb2dfc3VwcGxpZXIgPSB0cnVlOwogICAgfSwKICB9LAp9Owo="},null]}