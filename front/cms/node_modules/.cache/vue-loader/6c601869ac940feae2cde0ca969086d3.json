{"remainingRequest":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/components/statisticalReportPersonView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/src/components/statisticalReportPersonView.vue","mtime":1641453010571},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuguanghui/Documents/IIT/2023 summary course/iit-project/IIT-CMS/front/cms/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFJlcG9ydFBvc2l0aW9uLGdldERvd25sb2FkVXJsSW5BRFZpZXcgfSBmcm9tICJAL2FwaS9nZXREYXRhLmpzIjsKaW1wb3J0IHsgY29tcG9zZVN0YXRpc3RpY3NTaG93VGV4dCx0ZXh0RWxsaXBzaXMgfSBmcm9tICJAL3V0aWxzL3N0cmluZ1V0aWxzLmpzIjsKaW1wb3J0IHsgZG93bmxvYWRGaWxlQnlVcmwgfSBmcm9tICJAL3V0aWxzL2Rvd25sb2FkLmpzIgppbXBvcnQgeyBzaG93U25hY2tiYXIgfSBmcm9tICJAL3V0aWxzL3NuYWNrYmFyLmpzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAic3RhdGlzdGljYWxSZXBvcnRQZXJzb25WaWV3IiwKICBjb21wb25lbnRzOiB7ICAgIAogICAgbG9hZGluZzogKCkgPT4gaW1wb3J0KCJAL2NvbXBvbmVudHMvYmFzZS9sb2FkaW5nLnZ1ZSIpLAogIH0sCiAgcHJvcHM6IHsKICAgIG9wZW5TdGF0dXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgIH0sCiAgICBhcmVhcGFyYW06IHsKICAgICAgdHlwZTogQXJyYXksCiAgICB9LAogICAgbXNnSURQYXJhbTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICB9LAogICAgcmVhZFN0YXR1c1BhcmFtOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgIH0sCiAgICBzdGF0aXN0aWNzU3RhdHVzUGFyYW06IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgfSwKICAgIGF0dGFjaG1lbnRJZFBhcmFtOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgIH0sCiAgICBzdGF0aXN0aWNzU2VsZWN0UGFyYW06IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgfSwKICAgIHNlbGVjdFR5cGVWYWx1ZVBhcmFtOnsKICAgICAgdHlwZTpTdHJpbmcsCiAgICB9LAogICAgY29tcGFueUNvZGVQYXJhbTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICB9LAogICAgdW5TZWxlY3RDb21wYW55SW5mb3M6IHsKICAgICAgdHlwZTogTWFwLAogICAgfSwKICAgIHNlYXJjaENvbnRlbnRQYXJhbTp7CiAgICAgIHR5cGU6U3RyaW5nCiAgICB9LAogICAgLy/lj43ppojnsbvlnosKICAgIGZlZWJhY2tCYWNrVHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICB9LAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+eKtuaAge+8muW3suivu+OAgeacquivuwogICAgICBTVEFUVVNfUkVBRDogMCwKICAgICAgU1RBVFVTX1VOUkVBRDogMSwKCiAgICAgIC8v57uf6K6h5p+l6K+i57G75Z6LIDA6IOmYheivu+exu+Wei+afpeivoiAxOiDpmYTku7bnsbvlnovmn6Xor6IgMjog5Zue5aSN57G75Z6L5p+l6K+iCiAgICAgIFNUQVRJU1RJQ1NTVEFUVVNfVFlQRV9SRUFEOiAwLAogICAgICBTVEFUSVNUSUNTU1RBVFVTX1RZUEVfQVRUQUNIOiAxLAogICAgICBTVEFUSVNUSUNTU1RBVFVTX1RZUEVfUkVQTFk6IDIsCgogICAgICBsb2FkaW5ndmlldzp0cnVlLAoKICAgICAgcmVtaW5kRGlhbG9nOiBmYWxzZSwKICAgICAgc2VhcmNoX3NlbGU6ICIiLAogICAgICBzZWxlY3RlZF9hcmVhOiBbXSwKICAgICAgZXhwYW5kZWQ6IFtdLAogICAgICBoZWFkZXJzOiBbXSwKCiAgICAgIGRlc3NlcnRzX2FyZWE6IFtdLAoKICAgICAgLy9zdGFydCDlhajpgInlj4LmlbAKICAgICAgY2hlY2tlZEFsbDogdHJ1ZSwKICAgICAgLy/miYDmnInpgInkuK3nmoR1c2VySWQKICAgICAgY2hlY2tlZE5hbWVzOiBbXSwKICAgICAgLy/miYDmnInnlKjmiLcgdXNlcmlkOiB1c2VySW5mbwogICAgICBjaGVja2VkQXJyOiBbXSwKICAgICAgLy/miYDmnInnlKjmiLcgY29tcGFueUNvZGU6TGlzdDx1c2VySW5mbz4KICAgICAgYWxsVXNlckluZm9CeUNvbXBhbnlDb2RlIDogbmV3IE1hcCgpLAogICAgICAvL2VuZCDlhajpgInlj4LmlbAKICAgICAgLy/mmK/lkKbmraPlnKjor7fmsYJ1cmwKICAgICAgaXNSZXF1ZXN0RG93bmxvYWRVcmw6ZmFsc2UsCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERlYWxlclJlcG9ydFNlcnZpY2UoKTsKICB9LAoKICB3YXRjaDogewogICAgb3BlblN0YXR1cyhuZXdWKSB7CiAgICAgIGNvbnNvbGUubG9nKCJvcGVuU3RhdHVzOiIgKyBuZXdWKTsKICAgICAgLy/nlLHkuI3lj6/op4HliLDlj6/op4EKICAgICAgaWYgKG5ld1YpIHsKICAgICAgICB0aGlzLmdldERlYWxlclJlcG9ydFNlcnZpY2UoKTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrZWROYW1lczogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5jaGVja2VkTmFtZXMubGVuZ3RoID09IHRoaXMuY2hlY2tlZEFyci5sZW5ndGgpIHsKICAgICAgICB0aGlzLmNoZWNrZWRBbGwgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hlY2tlZEFsbCA9IGZhbHNlOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZygiY2hlY2tlZE5hbWVzIGNoZWNrZWRBbGw6IiArIHRoaXMuY2hlY2tlZEFsbCsiIGNoZWNrTmFtZXNbIitKU09OLnN0cmluZ2lmeSh0aGlzLmNoZWNrZWROYW1lcykrIl0gIHRoaXMuY2hlY2tlZEFycjoiK0pTT04uc3RyaW5naWZ5KHRoaXMuY2hlY2tlZEFycikpOwogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICAvL+afpeeUqOaItwogICAgZ2V0RGVhbGVyUmVwb3J0U2VydmljZSgpIHsKICAgICAgdGhpcy5oZWFkZXJzID0gW107CiAgICAgIHRoaXMuZGVzc2VydHNfYXJlYSA9IFtdOwogICAgICB0aGlzLmxvYWRpbmd2aWV3ICA9IHRydWU7CiAgICAgIHRoaXMuY2hlY2tlZEFyciA9IFtdOwogICAgICB0aGlzLmFsbFVzZXJJbmZvQnlDb21wYW55Q29kZS5jbGVhcigpOwoKICAgICAgY29uc29sZS5sb2coInN0YXRpc3RpY3NTdGF0dXNQYXJhbToiK3RoaXMuc3RhdGlzdGljc1N0YXR1c1BhcmFtKTsKCiAgICAgIGdldFJlcG9ydFBvc2l0aW9uKHRoaXMubXNnSURQYXJhbSx0aGlzLmFyZWFwYXJhbSx0aGlzLnNlbGVjdFR5cGVWYWx1ZVBhcmFtLHRoaXMuc2VhcmNoQ29udGVudFBhcmFtLHRoaXMuY29tcGFueUNvZGVQYXJhbSx0aGlzLnJlYWRTdGF0dXNQYXJhbSx0aGlzLnN0YXRpc3RpY3NTdGF0dXNQYXJhbSx0aGlzLmF0dGFjaG1lbnRJZFBhcmFtKQogICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZ2V0U3VwcGlsZXJMaXN0RGF0YSByZWNlaXZlOiIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTsKCiAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gbnVsbCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiZGF0YSBzaXplIGlzIDAiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuaGVhZGVycyA9IHRoaXMuaW5pdEhlYWRlckRhdGEocmVzLmRhdGEucmVwb3J0cyk7CiAgICAgICAgICB0aGlzLmRlc3NlcnRzX2FyZWEgPSB0aGlzLmluaXRCb2R5RGF0YShyZXMuZGF0YS5yZXBvcnRzKTsKICAgICAgICAgIHRoaXMuY2hlY2tlZEFsbCA9IHRoaXMuY2hlY2tlZE5hbWVzLmxlbmd0aCA9PSB0aGlzLmNoZWNrZWRBcnIubGVuZ3RoOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgfSkuZmluYWxseSgoKT0+ewogICAgICAgICAgICB0aGlzLmxvYWRpbmd2aWV3ID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8v5YWz6ZetCiAgICBidF9jbG9zZSgpIHsKICAgICAgY29uc29sZS5sb2coCiAgICAgICAgIi4uLi4uLuWFs+mXreaMiemSri4uLi5jb21wYW55Q29kZVBhcmFtOiIgKwogICAgICAgICAgdGhpcy5jb21wYW55Q29kZVBhcmFtICsKICAgICAgICAgICIgY2hlY2tlZE5hbWVzOiIgKwogICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy5jaGVja2VkTmFtZXMpCiAgICAgICk7CgogICAgICBsZXQgY29tcGFueUNvZGUgPSB0aGlzLmNvbXBhbnlDb2RlUGFyYW07ICAgICAgICAgICAgCiAgICAgIGxldCB1blNlbGVjdFVzZXJzID0gW107CgogICAgICB0aGlzLmNoZWNrZWRBcnIuZm9yRWFjaCgodXNlckluZm8pPT57CiAgICAgICAgICBpZih0aGlzLmNoZWNrZWROYW1lcy5pbmRleE9mKHVzZXJJbmZvLnVzZXJJZCk8MCl7CiAgICAgICAgICAgICAgdW5TZWxlY3RVc2Vycy5wdXNoKHVzZXJJbmZvLnVzZXJJZCk7CiAgICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgY29uc29sZS5sb2coICAgICAgICAKICAgICAgICAgICJ1blNlbGVjdFVzZXJzOiIgKwogICAgICAgICAgSlNPTi5zdHJpbmdpZnkodW5TZWxlY3RVc2VycykKICAgICAgKTsKCiAgICAgIC8v5ZCI6K6h5YaF5a656L+U5ZueCiAgICAgIGlmKGNvbXBhbnlDb2RlPT0nJyl7CiAgICAgICAgICB0aGlzLiRlbWl0KCJjbG9zZVBhcmVudEluQWxsIix0aGlzLmZpbHRlclVuc2VsZWN0SW5mbygpKTsgICAgICAgICAgICAgICAgICAKICAgICAgfWVsc2V7Ly/lhbfkvZPmn5DkuKrlhazlj7jnmoTmk43kvZzmlbDmja7ov5Tlm54KICAgICAgICAgIHRoaXMuJGVtaXQoImNsb3NlZENoaWxkIiwgdW5TZWxlY3RVc2VycywgY29tcGFueUNvZGUsdW5TZWxlY3RVc2Vycy5sZW5ndGg9PXRoaXMuY2hlY2tlZEFyci5sZW5ndGgpOwogICAgICB9CiAgICB9LAogICAgZmlsdGVyVW5zZWxlY3RJbmZvKCl7CiAgICAgICAgbGV0IHVuU2VsZWN0Q29tcGFueU1hcHBpbmcgID0gbmV3IE1hcCgpOwogICAgICAgIGxldCByZXN1bHRTZWxlY3RDb21wbmF5TWFwcGluZyA9IG5ldyBNYXAoKTsKICAgICAgICAKICAgICAgICAvL+acqumAieS4reeahOeUqOaIt+S/oeaBrwogICAgICAgIHRoaXMuY2hlY2tlZEFyci5mb3JFYWNoKCh1c2VySW5mbyk9PnsKCiAgICAgICAgICAgIGlmKHRoaXMuY2hlY2tlZE5hbWVzLmluZGV4T2YodXNlckluZm8udXNlcklkKT49MCl7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxldCB1c2VyTGlzdCA9IHVuU2VsZWN0Q29tcGFueU1hcHBpbmcuZ2V0KHVzZXJJbmZvLmNvbXBhbnlDb2RlKTsKICAgICAgICAgICAgaWYoIXVzZXJMaXN0KXsKICAgICAgICAgICAgICAgIHVzZXJMaXN0ID0gbmV3IEFycmF5KCkKICAgICAgICAgICAgICAgIHVuU2VsZWN0Q29tcGFueU1hcHBpbmcuc2V0KHVzZXJJbmZvLmNvbXBhbnlDb2RlLHVzZXJMaXN0KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdXNlckxpc3QucHVzaCh1c2VySW5mby51c2VySWQpOyAgICAgICAgICAKICAgICAgICB9KTsKCiAgICAgICAgY29uc29sZS5sb2coInVuU2VsZWN0Q29tcGFueU1hcHBpbmc6IitKU09OLnN0cmluZ2lmeSh1blNlbGVjdENvbXBhbnlNYXBwaW5nKSk7CgogICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiB1blNlbGVjdENvbXBhbnlNYXBwaW5nLmVudHJpZXMoKSkgewogICAgICAgICAgICBsZXQgc291cmNlVXNlckxpc3QgPSB0aGlzLmFsbFVzZXJJbmZvQnlDb21wYW55Q29kZS5nZXQoa2V5KTsKICAgICAgICAgICAgLy/miYDmnInnlKjmiLfmnKrpgInkuK0s5bCG6K+l5YWs5Y+45Luj56CB5Yqg5YWlCiAgICAgICAgICAgIGlmKHNvdXJjZVVzZXJMaXN0Lmxlbmd0aD09dmFsdWUubGVuZ3RoKXsKICAgICAgICAgICAgICByZXN1bHRTZWxlY3RDb21wbmF5TWFwcGluZy5zZXQoa2V5LFtdKTsKICAgICAgICAgICAgfWVsc2V7Ly/pg6jliIbnlKjmiLfpgInlhaUKICAgICAgICAgICAgICByZXN1bHRTZWxlY3RDb21wbmF5TWFwcGluZy5zZXQoa2V5LHZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdFNlbGVjdENvbXBuYXlNYXBwaW5nOwogICAgfSwKICAgIC8v5p6E5bu65Y2V5LiqaGVhZGVy5aS05L+h5oGvCiAgICBidWlsZEhlYWRlckJlYW4odGV4dCwgdmFsdWUpIHsKICAgICAgbGV0IGhlYWRlckJlYW4gPSB7fTsKICAgICAgaGVhZGVyQmVhbi50ZXh0ID0gdGV4dEVsbGlwc2lzKHRleHQsMjApOwogICAgICBoZWFkZXJCZWFuLnZhbHVlID0gdmFsdWU7CiAgICAgIGhlYWRlckJlYW4ud2lkdGggPSAiMTByZW0iOwogICAgICBoZWFkZXJCZWFuLmFsaWduID0gImxlZnQiOwogICAgICByZXR1cm4gaGVhZGVyQmVhbjsKICAgIH0sCiAgICAvL+WIneWni+WMlkhlYWRlcueahOaVsOaNrgogICAgaW5pdEhlYWRlckRhdGEoZGF0YSkgewogICAgICBsZXQgaGVhZGVyRGF0YUFycmF5ID0gW107CgogICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi5aeT5ZCNIiwgInVzZXJOYW1lIikpOwogICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi6IGM5YqhIiwgInBvc2l0aW9uIikpOwogICAgICBpZih0aGlzLnJlYWRTdGF0dXNQYXJhbT09dGhpcy5TVEFUVVNfVU5SRUFEKXsKICAgICAgICAgIGhlYWRlckRhdGFBcnJheS5wdXNoKHRoaXMuYnVpbGRIZWFkZXJCZWFuKCLmnKror7vnu5/orqEiLCAicmVhZGluZyIpKTsKICAgICAgfWVsc2V7CiAgICAgICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi5bey6K+757uf6K6hIiwgInJlYWRpbmciKSk7CiAgICAgIH0gCiAgICAgIC8v5peg6ZyA5Zue5aSN77yM5LiN6ZyA6KaB5bGV56S65bey5Zue5aSN57uf6K6hICAgCiAgICAgIGlmKHRoaXMuZmVlYmFja0JhY2tUeXBlIT00KXsKICAgICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCh0aGlzLmJ1aWxkSGVhZGVyQmVhbigi5bey5Zue5aSN57uf6K6hIiwgInJlcGx5IikpOwogICAgICB9CgogICAgICBpZiAoZGF0YVswXS5hdHRhY2htZW50UmVwb3J0cz09bnVsbHx8ZGF0YVswXS5hdHRhY2htZW50UmVwb3J0cy5sZW5ndGggPT0gMCkgewogICAgICAgIGNvbnNvbGUubG9nKCJpbml0SGVhZGVyRGF0YTphdHRhY2htZW50U3RhdGlzdGljcyBpcyAwIik7CiAgICAgICAgcmV0dXJuIGhlYWRlckRhdGFBcnJheTsKICAgICAgfQoKICAgICAgZGF0YVswXS5hdHRhY2htZW50UmVwb3J0cy5mb3JFYWNoKChhdHRhY2htZW50U3RhdGlzdGljcykgPT4gewogICAgICAgIGxldCBhdHRhY2htZW50TmFtZSA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmF0dGFjaG1lbnROYW1lLnNsaWNlKAogICAgICAgICAgYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudE5hbWUubGFzdEluZGV4T2YoIi8iKSArIDEKICAgICAgICApOwoKICAgICAgICBoZWFkZXJEYXRhQXJyYXkucHVzaCgKICAgICAgICAgIHRoaXMuYnVpbGRIZWFkZXJCZWFuKAogICAgICAgICAgICAi5bey5LiL6L2957uf6K6hKCIgKyBhdHRhY2htZW50TmFtZSArICIpIiwKICAgICAgICAgICAgYXR0YWNobWVudFN0YXRpc3RpY3MuYXR0YWNobWVudElkCiAgICAgICAgICApCiAgICAgICAgKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBoZWFkZXJEYXRhQXJyYXk7CiAgICB9LAogICAgCiAgICAvKioKICAgICAqIOS4i+i9veaWh+S7tgogICAgICovCiAgICBkb3dubG9hZGZpbGUocmVwbHlBdHRhY2htZW50SWQpewoKICAgICAgdGhpcy5pc1JlcXVlc3REb3dubG9hZFVybCA9IHRydWU7CgogICAgICBnZXREb3dubG9hZFVybEluQURWaWV3KHRoaXMubXNnSURQYXJhbSxyZXBseUF0dGFjaG1lbnRJZCkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsgCiAgICAgICAgICAgICAgaWYodHlwZW9mIHJlcyAhPT0gInVuZGVmaW5lZCIgJiYgcmVzICE9PSBudWxsICYmIHJlcy5jb2RlID09PSAwICYmIHR5cGVvZiByZXMuZGF0YSAhPT0gInVuZGVmaW5lZCIgJiYgcmVzLmRhdGEgIT09IG51bGwgJiYgcmVzLmRhdGEgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgIGRvd25sb2FkRmlsZUJ5VXJsKHJlcy5kYXRhKSAgIAogICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgc2hvd1NuYWNrYmFyKCfkuIvovb3lpLHotKXvvIzor7fnqI3lgJnph43or5UnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICBzaG93U25hY2tiYXIoJ+S4i+i9veWksei0pe+8jOivt+eojeWAmemHjeivlScpOwogICAgICAgICAgfSkKICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmlzUmVxdWVzdERvd25sb2FkVXJsID0gZmFsc2U7CiAgICAgICAgICB9KTsgIAogICAgfSwKCiAgICAvKioKICAgICAqIOaehOmAoOacrOWcsOaVsOaNruaYoOWwhO+8jOaWueS+v+afpeaJvgogICAgICovCiAgICBjb25zdHJ1Y3RMb2NhbE1hcHBpbmcocGVyc29uRGF0YSl7ICAgICAgCiAgICAgICAgbGV0IGxvY2FsVXNlckluZm9EZWZpbmU9e3VzZXJJZDpwZXJzb25EYXRhLnVzZXJJZCxjb21wYW55Q29kZTpwZXJzb25EYXRhLmNvbXBhbnlDb2RlfTsKCiAgICAgICAgdGhpcy5jaGVja2VkQXJyLnB1c2gobG9jYWxVc2VySW5mb0RlZmluZSk7CiAgICAgICAgCiAgICAgICAgbGV0IHVzZXJMaXN0ID0gdGhpcy5hbGxVc2VySW5mb0J5Q29tcGFueUNvZGUuZ2V0KHBlcnNvbkRhdGEuY29tcGFueUNvZGUpOwogICAgICAgIGlmKHVzZXJMaXN0PT1udWxsfHx1c2VyTGlzdD09dW5kZWZpbmVkKXsKICAgICAgICAgICAgdXNlckxpc3QgPSBuZXcgQXJyYXkoKQogICAgICAgICAgICB0aGlzLmFsbFVzZXJJbmZvQnlDb21wYW55Q29kZS5zZXQocGVyc29uRGF0YS5jb21wYW55Q29kZSx1c2VyTGlzdCk7CiAgICAgICAgfQoKICAgICAgICB1c2VyTGlzdC5wdXNoKGxvY2FsVXNlckluZm9EZWZpbmUpOwogICAgfSwKCiAgICBpbml0Qm9keURhdGEoZGF0YSkgewogICAgICB0aGlzLmNoZWNrZWROYW1lcyA9IFtdOwogICAgICBsZXQgZGF0YUFycmF5ID0gW107CiAgICAgIGxldCB0b3RhbGluZm8gPSB7fTsKICAgICAgbGV0IHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3MgPSBbXTsKCiAgICAgIGxldCByZWFkU3RhdGlzdGljc0NvdW50ID0gMDsKICAgICAgbGV0IHJlYWRTdGF0aXN0aWNzVG90YWxDb3VudCA9IDA7CiAgICAgIGxldCBmZWVkYmFja1N0YXRpc3RpY3NDb3VudCA9IDAsIGZlZWRiYWNrU3RhdGlzdGljc1RvdGFsQ291bnQgPSAwOyAgICAgCgogICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgdGhpcy51blNlbGVjdENvbXBhbnlJbmZvcy5lbnRyaWVzKCkpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJpbml0SGVhZGVyRGF0YSAtLS0gOiBjb21wYW55Q29kZToiK2tleSsiIHVuU2VsZWN0Q29tcGFueUluZm9zICIrSlNPTi5zdHJpbmdpZnkodmFsdWUpKTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coImluaXRIZWFkZXJEYXRhOmZlZWJhY2tCYWNrVHlwZSBpcyAiK3RoaXMuZmVlYmFja0JhY2tUeXBlKTsKCiAgICAgIGRhdGEuZm9yRWFjaCgocGVyc29uRGF0YSkgPT4gewogICAgICAgICAgbGV0IGJvZHlCZWFuID0ge307CgogICAgICAgICAgdGhpcy5jb25zdHJ1Y3RMb2NhbE1hcHBpbmcocGVyc29uRGF0YSk7CgogICAgICAgICAgbGV0IHVuc2VsZWN0VXNlcnNJbkNvbXBhbnkgPSB0aGlzLnVuU2VsZWN0Q29tcGFueUluZm9zLmdldChwZXJzb25EYXRhLmNvbXBhbnlDb2RlKTsKCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHVuc2VsZWN0VXNlcnNJbkNvbXBhbnkgPT0gdW5kZWZpbmVkIHx8CiAgICAgICAgICAgICh1bnNlbGVjdFVzZXJzSW5Db21wYW55Lmxlbmd0aD4wICYmIHVuc2VsZWN0VXNlcnNJbkNvbXBhbnkuaW5kZXhPZihwZXJzb25EYXRhLnVzZXJJZCkgPCAwKQogICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5jaGVja2VkTmFtZXMucHVzaChwZXJzb25EYXRhLnVzZXJJZCk7CiAgICAgICAgICB9CgogICAgICAgICAgYm9keUJlYW4udXNlcklkID0gcGVyc29uRGF0YS51c2VySWQ7CiAgICAgICAgICBib2R5QmVhbi5uYW1lID0gcGVyc29uRGF0YS51c2VyTmFtZTsKICAgICAgICAgIGJvZHlCZWFuLnBvc2l0aW9uID0gcGVyc29uRGF0YS5wb3NpdGlvbjsKICAgICAgICAgIGJvZHlCZWFuLnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICAgIGJvZHlCZWFuLnJlcGx5QXR0YWNobWVudElkID0gcGVyc29uRGF0YS5yZXBseUF0dGFjaG1lbnRJZDsgICAgICAgCgogICAgICAgICAgYm9keUJlYW4ucmVhZGluZyA9CiAgICAgICAgICAgIHBlcnNvbkRhdGEuaGF2ZVJlYWRTdGF0dXMgPT0gMSA/ICLlt7Lor7siIDogIuacquivuyI7CiAgICAgICAgICAKICAgICAgICAgIC8v5Zue5omn57G7OuW3suivu+OAgeacquivuwogICAgICAgICAgaWYgKHRoaXMuZmVlYmFja0JhY2tUeXBlID09IDApIHsKICAgICAgICAgICAgYm9keUJlYW4ucmVwbHkgPQogICAgICAgICAgICAgIHBlcnNvbkRhdGEuaGF2ZUZlZWRiYWNrU3RhdHVzID09IDEKICAgICAgICAgICAgICAgID8gIuW3suivuyIKICAgICAgICAgICAgICAgIDogIuacquivuyI7CiAgICAgICAgICAgIC8v5paH5pys5Zue5aSNOuivu+iAheWbnuWkjeeahOaWh+acrOWGheWuuQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZlZWJhY2tCYWNrVHlwZSA9PSAxIHx8IHRoaXMuZmVlYmFja0JhY2tUeXBlID09IDMpIHsKICAgICAgICAgICAgaWYocGVyc29uRGF0YS5yZXBseUNvbnRlbnQ9PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICBib2R5QmVhbi5yZXBseSA9ICLmnKrlm57lpI0iOyAgICAgICAgICAgICAgIAogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGJvZHlCZWFuLnJlcGx5ID0gcGVyc29uRGF0YS5yZXBseUNvbnRlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gLy/pmYTku7blm57lpI0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mZWViYWNrQmFja1R5cGUgPT0gMikgewogICAgICAgICAgICBpZihwZXJzb25EYXRhLnJlcGx5Q29udGVudD09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgIGJvZHlCZWFuLnJlcGx5ID0gJyc7ICAgCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgYm9keUJlYW4ucmVwbHkgPSBwZXJzb25EYXRhLnJlcGx5Q29udGVudC5zbGljZShwZXJzb25EYXRhLnJlcGx5Q29udGVudC5sYXN0SW5kZXhPZigiLyIpICsgMSk7CiAgICAgICAgICAgICAgICBib2R5QmVhbi5yZXBseSA9IHRleHRFbGxpcHNpcyhib2R5QmVhbi5yZXBseSwyMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBib2R5QmVhbi5yZXBseSA9ICIiOwogICAgICAgICAgfQoKICAgICAgICAgIHJlYWRTdGF0aXN0aWNzQ291bnQgKz0gcGVyc29uRGF0YS5oYXZlUmVhZFN0YXR1czsKICAgICAgICAgIHJlYWRTdGF0aXN0aWNzVG90YWxDb3VudCArPSAxOwoKICAgICAgICAgIGZlZWRiYWNrU3RhdGlzdGljc0NvdW50ICs9cGVyc29uRGF0YS5oYXZlRmVlZGJhY2tTdGF0dXM7CiAgICAgICAgICBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50ICs9IDE7CgogICAgICAgICAgbGV0IGF0dGFjaERhdGFMaXN0ID0gW107ICAgICAKCiAgICAgICAgICBwZXJzb25EYXRhLmF0dGFjaG1lbnRSZXBvcnRzLmZvckVhY2goCiAgICAgICAgICAgIChhdHRhY2htZW50U3RhdGlzdGljcywgaW5kZXgpID0+IHsKCiAgICAgICAgICAgICAgbGV0IGF0dGFjaERhdGEgPSB7fTsKICAgICAgICAgICAgICBpZiAodG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0gPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzW2luZGV4XSA9IHsgaWQ6ICIiLHN0YXRpc3RpY3NDb3VudDogMCx0b3RhbENvdW50OiAwLH07CiAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgCgogICAgICAgICAgICAgIGF0dGFjaERhdGEudmFsdWUgPSBhdHRhY2htZW50U3RhdGlzdGljcy5oYXZlRG93bmxvYWRTdGF0dXMgPT0gMSA/ICLlt7LkuIvovb0iOiAi5pyq5LiL6L29IjsKCiAgICAgICAgICAgICAgdG90YWxBdHRhY2htZW50U3RhdGlzdGljc1tpbmRleF0uc3RhdGlzdGljc0NvdW50ICs9YXR0YWNobWVudFN0YXRpc3RpY3MuaGF2ZURvd25sb2FkU3RhdHVzOwogICAgICAgICAgICAgIHRvdGFsQXR0YWNobWVudFN0YXRpc3RpY3NbaW5kZXhdLnRvdGFsQ291bnQgKz0gMTsKCiAgICAgICAgICAgICAgYXR0YWNoRGF0YUxpc3QucHVzaChhdHRhY2hEYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgKTsKCiAgICAgICAgICBib2R5QmVhbi5hdHRhY2hEYXRhTGlzdCA9IGF0dGFjaERhdGFMaXN0OwoKICAgICAgICAgIGRhdGFBcnJheS5wdXNoKGJvZHlCZWFuKTsKICAgICAgfSk7CgogICAgICB0b3RhbGluZm8udXNlcklkID0gIi0xIjsKICAgICAgdG90YWxpbmZvLm5hbWUgPSAi5ZCI6K6hIjsKICAgICAgdG90YWxpbmZvLnBvc2l0aW9uID0gIi0iOwogICAgICB0b3RhbGluZm8uc2VsZWN0ZWQgPSB0cnVlOwoKICAgICAgaWYodGhpcy5yZWFkU3RhdHVzUGFyYW09PXRoaXMuU1RBVFVTX1VOUkVBRCl7CiAgICAgICAgICB0b3RhbGluZm8ucmVhZGluZyA9IGNvbXBvc2VTdGF0aXN0aWNzU2hvd1RleHQocmVhZFN0YXRpc3RpY3NUb3RhbENvdW50LXJlYWRTdGF0aXN0aWNzQ291bnQscmVhZFN0YXRpc3RpY3NUb3RhbENvdW50LDEwMCk7CiAgICAgIH1lbHNlewogICAgICAgICAgdG90YWxpbmZvLnJlYWRpbmcgPSBjb21wb3NlU3RhdGlzdGljc1Nob3dUZXh0KHJlYWRTdGF0aXN0aWNzQ291bnQscmVhZFN0YXRpc3RpY3NUb3RhbENvdW50LDEwMCk7CiAgICAgIH0KICAgICAgdG90YWxpbmZvLnJlcGx5ID0gY29tcG9zZVN0YXRpc3RpY3NTaG93VGV4dChmZWVkYmFja1N0YXRpc3RpY3NDb3VudCxmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50LChmZWVkYmFja1N0YXRpc3RpY3NDb3VudCAqIDEwMCkgLyBmZWVkYmFja1N0YXRpc3RpY3NUb3RhbENvdW50KTsKCiAgICAgIHRvdGFsaW5mby5hdHRhY2hEYXRhTGlzdCA9IFtdOwogICAgICB0b3RhbEF0dGFjaG1lbnRTdGF0aXN0aWNzLmZvckVhY2goKGF0dGFjaG1lbnRTdGF0aXN0aWNzKSA9PiB7CiAgICAgICAgbGV0IGF0dGFjaERhdGEgPSB7fTsKCiAgICAgICAgYXR0YWNoRGF0YS5pZCA9IGF0dGFjaG1lbnRTdGF0aXN0aWNzLmF0dGFjaG1lbnRJZDsKICAgICAgICBhdHRhY2hEYXRhLnZhbHVlID0gY29tcG9zZVN0YXRpc3RpY3NTaG93VGV4dChhdHRhY2htZW50U3RhdGlzdGljcy5zdGF0aXN0aWNzQ291bnQsYXR0YWNobWVudFN0YXRpc3RpY3MudG90YWxDb3VudCwoYXR0YWNobWVudFN0YXRpc3RpY3Muc3RhdGlzdGljc0NvdW50ICogMTAwKSAvYXR0YWNobWVudFN0YXRpc3RpY3MudG90YWxDb3VudCk7CgogICAgICAgIHRvdGFsaW5mby5hdHRhY2hEYXRhTGlzdC5wdXNoKGF0dGFjaERhdGEpOwogICAgICB9KTsKCiAgICAgIGRhdGFBcnJheS51bnNoaWZ0KHRvdGFsaW5mbyk7CgogICAgICByZXR1cm4gZGF0YUFycmF5OwogICAgfSwKICAgIGNoYW5nZUFsbENoZWNrZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coCiAgICAgICAgImNoZWNrZWRBbGw6IiArCiAgICAgICAgICB0aGlzLmNoZWNrZWRBbGwgKwogICAgICAgICAgIiBjaGVja2VkTmFtZXM6IiArCiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLmNoZWNrZWROYW1lcykgKwogICAgICAgICAgIiAgY2hlY2tlZEFycjoiICsKICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMuY2hlY2tlZEFycikKICAgICAgKTsKCiAgICAgIGlmICh0aGlzLmNoZWNrZWRBbGwpIHsKICAgICAgICB0aGlzLmNoZWNrZWRBcnIuZm9yRWFjaCgodXNlckluZm8pPT57CiAgICAgICAgICAgIHRoaXMuY2hlY2tlZE5hbWVzLnB1c2godXNlckluZm8udXNlcklkKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNoZWNrZWROYW1lcyA9IFtdOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["statisticalReportPersonView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"statisticalReportPersonView.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card class=\"mx-auto\">\n    <v-toolbar dense color=\"#1867C0\">\n      <v-btn icon>\n        <v-icon color=\"white\" @click=\"bt_close\"> mdi-close </v-icon>\n      </v-btn>\n      <v-toolbar-title class=\"body-1 white--text\">统计报告</v-toolbar-title>\n    </v-toolbar>\n    <div class=\"pl-8 pr-8 pt-4\">\n      <span class=\"body-1 grey--text text--darken-3\"> 人员 </span>\n      <template>\n        <loading v-if=\"loadingview\" /> \n        <v-data-table\n          :headers=\"headers\"\n          :items=\"desserts_area\"\n          item-key=\"name\"\n          v-else\n          :search=\"search_sele\"\n          class=\"mt-8 elevation-1\"\n          hide-default-footer\n        >\n          <template v-slot:body=\"{ items }\">\n            <tbody v-if=\"items.length > 0\">\n              <tr v-for=\"(item, iindex) in desserts_area\" :key=\"item.userId\">\n                <td>\n                  <template\n                    v-if=\"statisticsStatusParam == STATISTICSSTATUS_TYPE_READ&& readStatusParam==STATUS_UNREAD\"\n                  >\n                    <v-checkbox\n                      v-if=\"iindex === 0\"\n                      v-model=\"checkedAll\"\n                      :label=\"item.name\"\n                      @change=\"changeAllChecked\"\n                    ></v-checkbox>\n                    <v-checkbox\n                      v-else\n                      v-model=\"checkedNames\"\n                      :value=\"item.userId\"\n                      :label=\"item.name\"\n                    ></v-checkbox>\n                  </template>\n                  <template v-else>\n                    {{ item.name }}\n                  </template>\n                </td>\n                <td>{{ item.position }}</td>\n                <td>{{ item.reading }}</td>\n                <td v-if=\"feebackBackType == 2\">  \n                    <template v-if=\"iindex!=0&&item.reply!=''\">                    \n                      <v-progress-circular v-if=\"isRequestDownloadUrl\" class=\"ml-8\"  :indeterminate=\"isRequestDownloadUrl\" color=\"primary\"/>                     \n                      <v-btn v-else class=\"text-caption blue--text text--darken-3\" @click=\"downloadfile(item.replyAttachmentId)\">\n                        {{ item.reply }}\n                      </v-btn>\n                    </template>\n                    <template v-else-if=\"iindex==0\">{{item.reply}}</template>\n                    <template v-else>未回复</template>\n                </td>\n                <td v-else-if=\"feebackBackType!=4\">{{ item.reply }}</td>\n\n                <td\n                  v-for=\"attachment in item.attachDataList\"\n                  :key=\"attachment.id\"\n                >\n                  {{ attachment.value }}\n                </td>\n              </tr>\n            </tbody>\n            <tbody v-else>\n              <tr>\n                <td :colspan=\"headers.length\" style=\"text-align: center\">\n                  No Results Here!\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-data-table>\n\n        <v-divider class=\"#E4E8EB\"></v-divider>\n      </template>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport { getReportPosition,getDownloadUrlInADView } from \"@/api/getData.js\";\nimport { composeStatisticsShowText,textEllipsis } from \"@/utils/stringUtils.js\";\nimport { downloadFileByUrl } from \"@/utils/download.js\"\nimport { showSnackbar } from \"@/utils/snackbar.js\";\n\nexport default {\n  name: \"statisticalReportPersonView\",\n  components: {    \n    loading: () => import(\"@/components/base/loading.vue\"),\n  },\n  props: {\n    openStatus: {\n      type: Boolean,\n    },\n    areaparam: {\n      type: Array,\n    },\n    msgIDParam: {\n      type: String,\n    },\n    readStatusParam: {\n      type: Number,\n    },\n    statisticsStatusParam: {\n      type: Number,\n    },\n    attachmentIdParam: {\n      type: Number,\n    },\n    statisticsSelectParam: {\n      type: Object,\n    },\n    selectTypeValueParam:{\n      type:String,\n    },\n    companyCodeParam: {\n      type: String,\n    },\n    unSelectCompanyInfos: {\n      type: Map,\n    },\n    searchContentParam:{\n      type:String\n    },\n    //反馈类型\n    feebackBackType: {\n      type: Number,\n    },\n  },\n\n  data() {\n    return {\n      //状态：已读、未读\n      STATUS_READ: 0,\n      STATUS_UNREAD: 1,\n\n      //统计查询类型 0: 阅读类型查询 1: 附件类型查询 2: 回复类型查询\n      STATISTICSSTATUS_TYPE_READ: 0,\n      STATISTICSSTATUS_TYPE_ATTACH: 1,\n      STATISTICSSTATUS_TYPE_REPLY: 2,\n\n      loadingview:true,\n\n      remindDialog: false,\n      search_sele: \"\",\n      selected_area: [],\n      expanded: [],\n      headers: [],\n\n      desserts_area: [],\n\n      //start 全选参数\n      checkedAll: true,\n      //所有选中的userId\n      checkedNames: [],\n      //所有用户 userid: userInfo\n      checkedArr: [],\n      //所有用户 companyCode:List<userInfo>\n      allUserInfoByCompanyCode : new Map(),\n      //end 全选参数\n      //是否正在请求url\n      isRequestDownloadUrl:false,\n    };\n  },\n\n  mounted() {\n    this.getDealerReportService();\n  },\n\n  watch: {\n    openStatus(newV) {\n      console.log(\"openStatus:\" + newV);\n      //由不可见到可见\n      if (newV) {\n        this.getDealerReportService();\n      }\n    },\n    checkedNames: function () {\n      if (this.checkedNames.length == this.checkedArr.length) {\n        this.checkedAll = true;\n      } else {\n        this.checkedAll = false;\n      }\n\n      console.log(\"checkedNames checkedAll:\" + this.checkedAll+\" checkNames[\"+JSON.stringify(this.checkedNames)+\"]  this.checkedArr:\"+JSON.stringify(this.checkedArr));\n    },\n  },\n\n  methods: {\n    //查用户\n    getDealerReportService() {\n      this.headers = [];\n      this.desserts_area = [];\n      this.loadingview  = true;\n      this.checkedArr = [];\n      this.allUserInfoByCompanyCode.clear();\n\n      console.log(\"statisticsStatusParam:\"+this.statisticsStatusParam);\n\n      getReportPosition(this.msgIDParam,this.areaparam,this.selectTypeValueParam,this.searchContentParam,this.companyCodeParam,this.readStatusParam,this.statisticsStatusParam,this.attachmentIdParam)\n      .then((res) => {\n          console.log(\"getSuppilerListData receive:\" + JSON.stringify(res));\n\n          if (res.data == null) {\n            console.log(\"data size is 0\");\n            return;\n          }\n\n          this.headers = this.initHeaderData(res.data.reports);\n          this.desserts_area = this.initBodyData(res.data.reports);\n          this.checkedAll = this.checkedNames.length == this.checkedArr.length;\n        })\n        .catch((res) => {\n          console.log(res);\n        }).finally(()=>{\n            this.loadingview = false;\n        });\n    },\n\n    //关闭\n    bt_close() {\n      console.log(\n        \"......关闭按钮....companyCodeParam:\" +\n          this.companyCodeParam +\n          \" checkedNames:\" +\n          JSON.stringify(this.checkedNames)\n      );\n\n      let companyCode = this.companyCodeParam;            \n      let unSelectUsers = [];\n\n      this.checkedArr.forEach((userInfo)=>{\n          if(this.checkedNames.indexOf(userInfo.userId)<0){\n              unSelectUsers.push(userInfo.userId);\n          }\n      });\n\n      console.log(        \n          \"unSelectUsers:\" +\n          JSON.stringify(unSelectUsers)\n      );\n\n      //合计内容返回\n      if(companyCode==''){\n          this.$emit(\"closeParentInAll\",this.filterUnselectInfo());                  \n      }else{//具体某个公司的操作数据返回\n          this.$emit(\"closedChild\", unSelectUsers, companyCode,unSelectUsers.length==this.checkedArr.length);\n      }\n    },\n    filterUnselectInfo(){\n        let unSelectCompanyMapping  = new Map();\n        let resultSelectCompnayMapping = new Map();\n        \n        //未选中的用户信息\n        this.checkedArr.forEach((userInfo)=>{\n\n            if(this.checkedNames.indexOf(userInfo.userId)>=0){\n                return;\n            }\n\n            let userList = unSelectCompanyMapping.get(userInfo.companyCode);\n            if(!userList){\n                userList = new Array()\n                unSelectCompanyMapping.set(userInfo.companyCode,userList);\n            }\n\n            userList.push(userInfo.userId);          \n        });\n\n        console.log(\"unSelectCompanyMapping:\"+JSON.stringify(unSelectCompanyMapping));\n\n        for (let [key, value] of unSelectCompanyMapping.entries()) {\n            let sourceUserList = this.allUserInfoByCompanyCode.get(key);\n            //所有用户未选中,将该公司代码加入\n            if(sourceUserList.length==value.length){\n              resultSelectCompnayMapping.set(key,[]);\n            }else{//部分用户选入\n              resultSelectCompnayMapping.set(key,value);\n            }\n        }\n\n        return resultSelectCompnayMapping;\n    },\n    //构建单个header头信息\n    buildHeaderBean(text, value) {\n      let headerBean = {};\n      headerBean.text = textEllipsis(text,20);\n      headerBean.value = value;\n      headerBean.width = \"10rem\";\n      headerBean.align = \"left\";\n      return headerBean;\n    },\n    //初始化Header的数据\n    initHeaderData(data) {\n      let headerDataArray = [];\n\n      headerDataArray.push(this.buildHeaderBean(\"姓名\", \"userName\"));\n      headerDataArray.push(this.buildHeaderBean(\"职务\", \"position\"));\n      if(this.readStatusParam==this.STATUS_UNREAD){\n          headerDataArray.push(this.buildHeaderBean(\"未读统计\", \"reading\"));\n      }else{\n          headerDataArray.push(this.buildHeaderBean(\"已读统计\", \"reading\"));\n      } \n      //无需回复，不需要展示已回复统计   \n      if(this.feebackBackType!=4){\n        headerDataArray.push(this.buildHeaderBean(\"已回复统计\", \"reply\"));\n      }\n\n      if (data[0].attachmentReports==null||data[0].attachmentReports.length == 0) {\n        console.log(\"initHeaderData:attachmentStatistics is 0\");\n        return headerDataArray;\n      }\n\n      data[0].attachmentReports.forEach((attachmentStatistics) => {\n        let attachmentName = attachmentStatistics.attachmentName.slice(\n          attachmentStatistics.attachmentName.lastIndexOf(\"/\") + 1\n        );\n\n        headerDataArray.push(\n          this.buildHeaderBean(\n            \"已下载统计(\" + attachmentName + \")\",\n            attachmentStatistics.attachmentId\n          )\n        );\n      });\n      return headerDataArray;\n    },\n    \n    /**\n     * 下载文件\n     */\n    downloadfile(replyAttachmentId){\n\n      this.isRequestDownloadUrl = true;\n\n      getDownloadUrlInADView(this.msgIDParam,replyAttachmentId)\n          .then((res) => { \n              if(typeof res !== \"undefined\" && res !== null && res.code === 0 && typeof res.data !== \"undefined\" && res.data !== null && res.data !== \"\") {\n                  downloadFileByUrl(res.data)   \n              }else {\n                  showSnackbar('下载失败，请稍候重试');\n              }\n          })\n          .catch(() => {\n              showSnackbar('下载失败，请稍候重试');\n          })\n          .finally(() => {\n              this.isRequestDownloadUrl = false;\n          });  \n    },\n\n    /**\n     * 构造本地数据映射，方便查找\n     */\n    constructLocalMapping(personData){      \n        let localUserInfoDefine={userId:personData.userId,companyCode:personData.companyCode};\n\n        this.checkedArr.push(localUserInfoDefine);\n        \n        let userList = this.allUserInfoByCompanyCode.get(personData.companyCode);\n        if(userList==null||userList==undefined){\n            userList = new Array()\n            this.allUserInfoByCompanyCode.set(personData.companyCode,userList);\n        }\n\n        userList.push(localUserInfoDefine);\n    },\n\n    initBodyData(data) {\n      this.checkedNames = [];\n      let dataArray = [];\n      let totalinfo = {};\n      let totalAttachmentStatistics = [];\n\n      let readStatisticsCount = 0;\n      let readStatisticsTotalCount = 0;\n      let feedbackStatisticsCount = 0, feedbackStatisticsTotalCount = 0;     \n\n      for (let [key, value] of this.unSelectCompanyInfos.entries()) {\n          console.log(\"initHeaderData --- : companyCode:\"+key+\" unSelectCompanyInfos \"+JSON.stringify(value));\n      }\n\n      console.log(\"initHeaderData:feebackBackType is \"+this.feebackBackType);\n\n      data.forEach((personData) => {\n          let bodyBean = {};\n\n          this.constructLocalMapping(personData);\n\n          let unselectUsersInCompany = this.unSelectCompanyInfos.get(personData.companyCode);\n\n          if (\n            unselectUsersInCompany == undefined ||\n            (unselectUsersInCompany.length>0 && unselectUsersInCompany.indexOf(personData.userId) < 0)\n          ) {\n              this.checkedNames.push(personData.userId);\n          }\n\n          bodyBean.userId = personData.userId;\n          bodyBean.name = personData.userName;\n          bodyBean.position = personData.position;\n          bodyBean.selected = true;\n          bodyBean.replyAttachmentId = personData.replyAttachmentId;       \n\n          bodyBean.reading =\n            personData.haveReadStatus == 1 ? \"已读\" : \"未读\";\n          \n          //回执类:已读、未读\n          if (this.feebackBackType == 0) {\n            bodyBean.reply =\n              personData.haveFeedbackStatus == 1\n                ? \"已读\"\n                : \"未读\";\n            //文本回复:读者回复的文本内容\n          } else if (this.feebackBackType == 1 || this.feebackBackType == 3) {\n            if(personData.replyContent==undefined){\n                bodyBean.reply = \"未回复\";               \n            }else{\n                bodyBean.reply = personData.replyContent;\n            }\n            // //附件回复\n          } else if (this.feebackBackType == 2) {\n            if(personData.replyContent==undefined){\n                bodyBean.reply = '';   \n            }else{\n                bodyBean.reply = personData.replyContent.slice(personData.replyContent.lastIndexOf(\"/\") + 1);\n                bodyBean.reply = textEllipsis(bodyBean.reply,20);\n            }\n\n          } else {\n            bodyBean.reply = \"\";\n          }\n\n          readStatisticsCount += personData.haveReadStatus;\n          readStatisticsTotalCount += 1;\n\n          feedbackStatisticsCount +=personData.haveFeedbackStatus;\n          feedbackStatisticsTotalCount += 1;\n\n          let attachDataList = [];     \n\n          personData.attachmentReports.forEach(\n            (attachmentStatistics, index) => {\n\n              let attachData = {};\n              if (totalAttachmentStatistics[index] == undefined) {\n                totalAttachmentStatistics[index] = { id: \"\",statisticsCount: 0,totalCount: 0,};\n              }              \n\n              attachData.value = attachmentStatistics.haveDownloadStatus == 1 ? \"已下载\": \"未下载\";\n\n              totalAttachmentStatistics[index].statisticsCount +=attachmentStatistics.haveDownloadStatus;\n              totalAttachmentStatistics[index].totalCount += 1;\n\n              attachDataList.push(attachData);\n            }\n          );\n\n          bodyBean.attachDataList = attachDataList;\n\n          dataArray.push(bodyBean);\n      });\n\n      totalinfo.userId = \"-1\";\n      totalinfo.name = \"合计\";\n      totalinfo.position = \"-\";\n      totalinfo.selected = true;\n\n      if(this.readStatusParam==this.STATUS_UNREAD){\n          totalinfo.reading = composeStatisticsShowText(readStatisticsTotalCount-readStatisticsCount,readStatisticsTotalCount,100);\n      }else{\n          totalinfo.reading = composeStatisticsShowText(readStatisticsCount,readStatisticsTotalCount,100);\n      }\n      totalinfo.reply = composeStatisticsShowText(feedbackStatisticsCount,feedbackStatisticsTotalCount,(feedbackStatisticsCount * 100) / feedbackStatisticsTotalCount);\n\n      totalinfo.attachDataList = [];\n      totalAttachmentStatistics.forEach((attachmentStatistics) => {\n        let attachData = {};\n\n        attachData.id = attachmentStatistics.attachmentId;\n        attachData.value = composeStatisticsShowText(attachmentStatistics.statisticsCount,attachmentStatistics.totalCount,(attachmentStatistics.statisticsCount * 100) /attachmentStatistics.totalCount);\n\n        totalinfo.attachDataList.push(attachData);\n      });\n\n      dataArray.unshift(totalinfo);\n\n      return dataArray;\n    },\n    changeAllChecked: function () {\n      console.log(\n        \"checkedAll:\" +\n          this.checkedAll +\n          \" checkedNames:\" +\n          JSON.stringify(this.checkedNames) +\n          \"  checkedArr:\" +\n          JSON.stringify(this.checkedArr)\n      );\n\n      if (this.checkedAll) {\n        this.checkedArr.forEach((userInfo)=>{\n            this.checkedNames.push(userInfo.userId);\n        });\n      } else {\n        this.checkedNames = [];\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}